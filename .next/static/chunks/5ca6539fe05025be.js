(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79078,(e,t,n)=>{"use strict";function i({widthInt:e,heightInt:t,blurWidth:n,blurHeight:i,blurDataURL:r,objectFit:s}){let o=n?40*n:e,a=i?40*i:t,l=o&&a?`viewBox='0 0 ${o} ${a}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${l}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${l?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${r}'/%3E%3C/svg%3E`}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},60966,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={VALID_LOADERS:function(){return s},imageConfigDefault:function(){return o}};for(var r in i)Object.defineProperty(n,r,{enumerable:!0,get:i[r]});let s=["default","imgix","cloudinary","akamai","custom"],o={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},43248,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImgProps",{enumerable:!0,get:function(){return l}}),e.r(6919);let i=e.r(79078),r=e.r(60966),s=["-moz-initial","fill","none","scale-down",void 0];function o(e){return void 0!==e.default}function a(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l({src:e,sizes:t,unoptimized:n=!1,priority:l=!1,preload:h=!1,loading:c,className:u,quality:d,width:p,height:m,fill:f=!1,style:g,overrideSrc:y,onLoad:v,onLoadingComplete:_,placeholder:b="empty",blurDataURL:x,fetchPriority:w,decoding:C="async",layout:k,objectFit:T,objectPosition:S,lazyBoundary:E,lazyRoot:N,...I},P){var j;let R,A,M,{imgConf:D,showAltText:O,blurComplete:L,defaultLoader:F}=P,V=D||r.imageConfigDefault;if("allSizes"in V)R=V;else{let e=[...V.deviceSizes,...V.imageSizes].sort((e,t)=>e-t),t=V.deviceSizes.sort((e,t)=>e-t),n=V.qualities?.sort((e,t)=>e-t);R={...V,allSizes:e,deviceSizes:t,qualities:n}}if(void 0===F)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let q=I.loader||F;delete I.loader,delete I.srcSet;let z="__next_img_default"in q;if(z){if("custom"===R.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=q;q=t=>{let{config:n,...i}=t;return e(i)}}if(k){"fill"===k&&(f=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[k];e&&(g={...g,...e});let n={responsive:"100vw",fill:"100vw"}[k];n&&!t&&(t=n)}let B="",W=a(p),$=a(m);if((j=e)&&"object"==typeof j&&(o(j)||void 0!==j.src)){let t=o(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(A=t.blurWidth,M=t.blurHeight,x=x||t.blurDataURL,B=t.src,!f)if(W||$){if(W&&!$){let e=W/t.width;$=Math.round(t.height*e)}else if(!W&&$){let e=$/t.height;W=Math.round(t.width*e)}}else W=t.width,$=t.height}let U=!l&&!h&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:B)||e.startsWith("data:")||e.startsWith("blob:"))&&(n=!0,U=!1),R.unoptimized&&(n=!0),z&&!R.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(n=!0);let H=a(d),K=Object.assign(f?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:T,objectPosition:S}:{},O?{}:{color:"transparent"},g),Y=L||"empty"===b?null:"blur"===b?`url("data:image/svg+xml;charset=utf-8,${(0,i.getImageBlurSvg)({widthInt:W,heightInt:$,blurWidth:A,blurHeight:M,blurDataURL:x||"",objectFit:K.objectFit})}")`:`url("${b}")`,G=s.includes(K.objectFit)?"fill"===K.objectFit?"100% 100%":"cover":K.objectFit,X=Y?{backgroundSize:G,backgroundPosition:K.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Y}:{},Q=function({config:e,src:t,unoptimized:n,width:i,quality:r,sizes:s,loader:o}){if(n)return{src:t,srcSet:void 0,sizes:void 0};let{widths:a,kind:l}=function({deviceSizes:e,allSizes:t},n,i){if(i){let n=/(^|\s)(1?\d?\d)vw/g,r=[];for(let e;e=n.exec(i);)r.push(parseInt(e[2]));if(r.length){let n=.01*Math.min(...r);return{widths:t.filter(t=>t>=e[0]*n),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof n?{widths:e,kind:"w"}:{widths:[...new Set([n,2*n].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,i,s),h=a.length-1;return{sizes:s||"w"!==l?s:"100vw",srcSet:a.map((n,i)=>`${o({config:e,src:t,quality:r,width:n})} ${"w"===l?n:i+1}${l}`).join(", "),src:o({config:e,src:t,quality:r,width:a[h]})}}({config:R,src:e,unoptimized:n,width:W,quality:H,sizes:t,loader:q}),Z=U?"lazy":c;return{props:{...I,loading:Z,fetchPriority:w,width:W,height:$,decoding:C,className:u,style:{...K,...X},sizes:Q.sizes,srcSet:Q.srcSet,src:y||Q.src},meta:{unoptimized:n,preload:h||l,placeholder:b,fill:f}}}},29739,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});let i=e.r(58138),r="undefined"==typeof window,s=r?()=>{}:i.useLayoutEffect,o=r?()=>{}:i.useEffect;function a(e){let{headManager:t,reduceComponentsToState:n}=e;function a(){if(t&&t.mountedInstances){let e=i.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(e))}}return r&&(t?.mountedInstances?.add(e.children),a()),s(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),s(()=>(t&&(t._pendingUpdate=a),()=>{t&&(t._pendingUpdate=a)})),o(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},87762,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={default:function(){return f},defaultHead:function(){return u}};for(var r in i)Object.defineProperty(n,r,{enumerable:!0,get:i[r]});let s=e.r(81258),o=e.r(44066),a=e.r(29511),l=o._(e.r(58138)),h=s._(e.r(29739)),c=e.r(37398);function u(){return[(0,a.jsx)("meta",{charSet:"utf-8"},"charset"),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function d(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===l.default.Fragment?e.concat(l.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(6919);let p=["name","httpEquiv","charSet","itemProp"];function m(e){let t,n,i,r;return e.reduce(d,[]).reverse().concat(u().reverse()).filter((t=new Set,n=new Set,i=new Set,r={},e=>{let s=!0,o=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){o=!0;let n=e.key.slice(e.key.indexOf("$")+1);t.has(n)?s=!1:t.add(n)}switch(e.type){case"title":case"base":n.has(e.type)?s=!1:n.add(e.type);break;case"meta":for(let t=0,n=p.length;t<n;t++){let n=p[t];if(e.props.hasOwnProperty(n))if("charSet"===n)i.has(n)?s=!1:i.add(n);else{let t=e.props[n],i=r[n]||new Set;("name"!==n||!o)&&i.has(t)?s=!1:(i.add(t),r[n]=i)}}}return s})).reverse().map((e,t)=>{let n=e.key||t;return l.default.cloneElement(e,{key:n})})}let f=function({children:e}){let t=(0,l.useContext)(c.HeadManagerContext);return(0,a.jsx)(h.default,{reduceComponentsToState:m,headManager:t,children:e})};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},33201,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let i=e.r(81258)._(e.r(58138)),r=e.r(60966),s=i.default.createContext(r.imageConfigDefault)},56781,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RouterContext",{enumerable:!0,get:function(){return i}});let i=e.r(81258)._(e.r(58138)).default.createContext(null)},9845,(e,t,n)=>{"use strict";function i(e,t){let n=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e,0):n}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"findClosestQuality",{enumerable:!0,get:function(){return i}})},85493,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});let i=e.r(9845);function r({config:e,src:t,width:n,quality:r}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let s=(0,i.findClosestQuality)(r,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${n}&q=${s}${t.startsWith("/_next/static/media/"),""}`}r.__next_img_default=!0;let s=r},8191,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useMergedRef",{enumerable:!0,get:function(){return r}});let i=e.r(58138);function r(e,t){let n=(0,i.useRef)(null),r=(0,i.useRef)(null);return(0,i.useCallback)(i=>{if(null===i){let e=n.current;e&&(n.current=null,e());let t=r.current;t&&(r.current=null,t())}else e&&(n.current=s(e,i)),t&&(r.current=s(t,i))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},12642,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return b}});let i=e.r(81258),r=e.r(44066),s=e.r(29511),o=r._(e.r(58138)),a=i._(e.r(49463)),l=i._(e.r(87762)),h=e.r(43248),c=e.r(60966),u=e.r(33201);e.r(6919);let d=e.r(56781),p=i._(e.r(85493)),m=e.r(8191),f={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function g(e,t,n,i,r,s,o){let a=e?.src;e&&e["data-loaded-src"]!==a&&(e["data-loaded-src"]=a,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&r(!0),n?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let i=!1,r=!1;n.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>i,isPropagationStopped:()=>r,persist:()=>{},preventDefault:()=>{i=!0,t.preventDefault()},stopPropagation:()=>{r=!0,t.stopPropagation()}})}i?.current&&i.current(e)}}))}function y(e){return o.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let v=(0,o.forwardRef)(({src:e,srcSet:t,sizes:n,height:i,width:r,decoding:a,className:l,style:h,fetchPriority:c,placeholder:u,loading:d,unoptimized:p,fill:f,onLoadRef:v,onLoadingCompleteRef:_,setBlurComplete:b,setShowAltText:x,sizesInput:w,onLoad:C,onError:k,...T},S)=>{let E=(0,o.useCallback)(e=>{e&&(k&&(e.src=e.src),e.complete&&g(e,u,v,_,b,p,w))},[e,u,v,_,b,k,p,w]),N=(0,m.useMergedRef)(S,E);return(0,s.jsx)("img",{...T,...y(c),loading:d,width:r,height:i,decoding:a,"data-nimg":f?"fill":"1",className:l,style:h,sizes:n,srcSet:t,src:e,ref:N,onLoad:e=>{g(e.currentTarget,u,v,_,b,p,w)},onError:e=>{x(!0),"empty"!==u&&b(!0),k&&k(e)}})});function _({isAppRouter:e,imgAttributes:t}){let n={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...y(t.fetchPriority)};return e&&a.default.preload?(a.default.preload(t.src,n),null):(0,s.jsx)(l.default,{children:(0,s.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...n},"__nimg-"+t.src+t.srcSet+t.sizes)})}let b=(0,o.forwardRef)((e,t)=>{let n=(0,o.useContext)(d.RouterContext),i=(0,o.useContext)(u.ImageConfigContext),r=(0,o.useMemo)(()=>{let e=f||i||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),n=e.deviceSizes.sort((e,t)=>e-t),r=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:n,qualities:r,localPatterns:"undefined"==typeof window?i?.localPatterns:e.localPatterns}},[i]),{onLoad:a,onLoadingComplete:l}=e,m=(0,o.useRef)(a);(0,o.useEffect)(()=>{m.current=a},[a]);let g=(0,o.useRef)(l);(0,o.useEffect)(()=>{g.current=l},[l]);let[y,b]=(0,o.useState)(!1),[x,w]=(0,o.useState)(!1),{props:C,meta:k}=(0,h.getImgProps)(e,{defaultLoader:p.default,imgConf:r,blurComplete:y,showAltText:x});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{...C,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:m,onLoadingCompleteRef:g,setBlurComplete:b,setShowAltText:w,sizesInput:e.sizes,ref:t}),k.preload?(0,s.jsx)(_,{isAppRouter:!n,imgAttributes:C}):null]})});("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},36438,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={default:function(){return c},getImageProps:function(){return h}};for(var r in i)Object.defineProperty(n,r,{enumerable:!0,get:i[r]});let s=e.r(81258),o=e.r(43248),a=e.r(12642),l=s._(e.r(85493));function h(e){let{props:t}=(0,o.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let c=a.Image},47389,(e,t,n)=>{t.exports=e.r(36438)},22181,(e,t,n)=>{},2122,(e,t,n)=>{var i=e.i(68519);e.r(22181);var r=e.r(58138),s=r&&"object"==typeof r&&"default"in r?r:{default:r},o=void 0!==i.default&&i.default.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,n=t.name,i=void 0===n?"stylesheet":n,r=t.optimizeForSpeed,s=void 0===r?o:r;h(a(i),"`name` must be a string"),this._name=i,this._deletedRulePlaceholder="#"+i+"-deleted-rule____{}",h("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,n=e.prototype;return n.setOptimizeForSpeed=function(e){h("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),h(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},n.isOptimizeForSpeed=function(){return this._optimizeForSpeed},n.inject=function(){var e=this;if(h(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},n.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},n.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},n.insertRule=function(e,t){if(h(a(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var i=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,i))}return this._rulesCount++},n.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var n="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(i){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var i=this._tags[e];h(i,"old rule at index `"+e+"` not found"),i.textContent=t}return e},n.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];h(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},n.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},n.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},n.makeStyleTag=function(e,t,n){t&&h(a(t),"makeStyleTag accepts only strings as second parameter");var i=document.createElement("style");this._nonce&&i.setAttribute("nonce",this._nonce),i.type="text/css",i.setAttribute("data-"+e,""),t&&i.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return n?r.insertBefore(i,n):r.appendChild(i),i},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function h(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},u={};function d(e,t){if(!t)return"jsx-"+e;var n=String(t),i=e+n;return u[i]||(u[i]="jsx-"+c(e+"-"+n)),u[i]}function p(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var n=e+t;return u[n]||(u[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[n]}var m=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,i=void 0===n?null:n,r=t.optimizeForSpeed,s=void 0!==r&&r;this._sheet=i||new l({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),i&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),i=n.styleId,r=n.rules;if(i in this._instancesCounts){this._instancesCounts[i]+=1;return}var s=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[i]=s,this._instancesCounts[i]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var i=this._fromServer&&this._fromServer[n];i?(i.parentNode.removeChild(i),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],i=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:i}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,i=e.id;if(n){var r=d(i,n);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return p(r,e)}):[p(r,t)]}}return{styleId:d(i),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=r.createContext(null);function g(){return new m}function y(){return r.useContext(f)}f.displayName="StyleSheetContext";var v=s.default.useInsertionEffect||s.default.useLayoutEffect,_="undefined"!=typeof window?g():void 0;function b(e){var t=_||y();return t&&("undefined"==typeof window?t.add(e):v(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}b.dynamic=function(e){return e.map(function(e){return d(e[0],e[1])}).join(" ")},n.StyleRegistry=function(e){var t=e.registry,n=e.children,i=r.useContext(f),o=r.useState(function(){return i||t||g()})[0];return s.default.createElement(f.Provider,{value:o},n)},n.createStyleRegistry=g,n.style=b,n.useStyleRegistry=y},98392,(e,t,n)=>{t.exports=e.r(2122).style},31713,e=>{"use strict";let t,n,i,r,s,o,a,l,h,c,u,d,p,m,f,g,y,v,_,b,x,w,C,k,T,S;var E,N,I,P,j,R,A,M,D,O,L,F,V,q,z=e.i(29511),B=e.i(58138);let W=(...e)=>e.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();var $={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let U=(0,B.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>(0,B.createElement)("svg",{ref:l,...$,width:t,height:t,stroke:e,strokeWidth:i?24*Number(n)/Number(t):n,className:W("lucide",r),...a},[...o.map(([e,t])=>(0,B.createElement)(e,t)),...Array.isArray(s)?s:[s]])),H=(e,t)=>{let n=(0,B.forwardRef)(({className:n,...i},r)=>(0,B.createElement)(U,{ref:r,iconNode:t,className:W(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...i}));return n.displayName=`${e}`,n},K=H("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Y=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),G=H("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),X=H("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Q=H("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Z=H("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);function J(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=function e(t){var n,i,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(n=0;n<s;n++)t[n]&&(i=e(t[n]))&&(r&&(r+=" "),r+=i)}else for(i in t)t[i]&&(r&&(r+=" "),r+=i);return r}(e))&&(i&&(i+=" "),i+=t);return i}let ee=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),et=[],en=(e,t,n)=>{if(0==e.length-t)return n.classGroupId;let i=e[t],r=n.nextPart.get(i);if(r){let n=en(e,t+1,r);if(n)return n}let s=n.validators;if(null===s)return;let o=0===t?e.join("-"):e.slice(t).join("-"),a=s.length;for(let e=0;e<a;e++){let t=s[e];if(t.validator(o))return t.classGroupId}},ei=(e,t)=>{let n=ee();for(let i in e)er(e[i],n,i,t);return n},er=(e,t,n,i)=>{let r=e.length;for(let s=0;s<r;s++)es(e[s],t,n,i)},es=(e,t,n,i)=>{"string"==typeof e?eo(e,t,n):"function"==typeof e?ea(e,t,n,i):el(e,t,n,i)},eo=(e,t,n)=>{(""===e?t:eh(t,e)).classGroupId=n},ea=(e,t,n,i)=>{ec(e)?er(e(i),t,n,i):(null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:n,validator:e}))},el=(e,t,n,i)=>{let r=Object.entries(e),s=r.length;for(let e=0;e<s;e++){let[s,o]=r[e];er(o,eh(t,s),n,i)}},eh=(e,t)=>{let n=e,i=t.split("-"),r=i.length;for(let e=0;e<r;e++){let t=i[e],r=n.nextPart.get(t);r||(r=ee(),n.nextPart.set(t,r)),n=r}return n},ec=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,eu=[],ed=(e,t,n,i,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:r}),ep=/\s+/,em=e=>{let t;if("string"==typeof e)return e;let n="";for(let i=0;i<e.length;i++)e[i]&&(t=em(e[i]))&&(n&&(n+=" "),n+=t);return n},ef=[],eg=e=>{let t=t=>t[e]||ef;return t.isThemeGetter=!0,t},ey=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ev=/^\((?:(\w[\w-]*):)?(.+)\)$/i,e_=/^\d+\/\d+$/,eb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ew=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ek=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,eT=e=>e_.test(e),eS=e=>!!e&&!Number.isNaN(Number(e)),eE=e=>!!e&&Number.isInteger(Number(e)),eN=e=>e.endsWith("%")&&eS(e.slice(0,-1)),eI=e=>eb.test(e),eP=()=>!0,ej=e=>ex.test(e)&&!ew.test(e),eR=()=>!1,eA=e=>eC.test(e),eM=e=>ek.test(e),eD=e=>!eL(e)&&!eW(e),eO=e=>eX(e,e0,eR),eL=e=>ey.test(e),eF=e=>eX(e,e1,ej),eV=e=>eX(e,e2,eS),eq=e=>eX(e,eZ,eR),ez=e=>eX(e,eJ,eM),eB=e=>eX(e,e5,eA),eW=e=>ev.test(e),e$=e=>eQ(e,e1),eU=e=>eQ(e,e3),eH=e=>eQ(e,eZ),eK=e=>eQ(e,e0),eY=e=>eQ(e,eJ),eG=e=>eQ(e,e5,!0),eX=(e,t,n)=>{let i=ey.exec(e);return!!i&&(i[1]?t(i[1]):n(i[2]))},eQ=(e,t,n=!1)=>{let i=ev.exec(e);return!!i&&(i[1]?t(i[1]):n)},eZ=e=>"position"===e||"percentage"===e,eJ=e=>"image"===e||"url"===e,e0=e=>"length"===e||"size"===e||"bg-size"===e,e1=e=>"length"===e,e2=e=>"number"===e,e3=e=>"family-name"===e,e5=e=>"shadow"===e,e4=((e,...t)=>{let n,i,r,s,o=e=>{let t=i(e);if(t)return t;let s=((e,t)=>{let{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=t,o=[],a=e.trim().split(ep),l="";for(let e=a.length-1;e>=0;e-=1){let t=a[e],{isExternal:h,modifiers:c,hasImportantModifier:u,baseClassName:d,maybePostfixModifierPosition:p}=n(t);if(h){l=t+(l.length>0?" "+l:l);continue}let m=!!p,f=i(m?d.substring(0,p):d);if(!f){if(!m||!(f=i(d))){l=t+(l.length>0?" "+l:l);continue}m=!1}let g=0===c.length?"":1===c.length?c[0]:s(c).join(":"),y=u?g+"!":g,v=y+f;if(o.indexOf(v)>-1)continue;o.push(v);let _=r(f,m);for(let e=0;e<_.length;++e){let t=_[e];o.push(y+t)}l=t+(l.length>0?" "+l:l)}return l})(e,n);return r(e,s),s};return s=a=>{var l;let h;return i=(n={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null),r=(r,s)=>{n[r]=s,++t>e&&(t=0,i=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=i[e])?(r(e,t),t):void 0},set(e,t){e in n?n[e]=t:r(e,t)}}})((l=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:n}=e,i=e=>{let t,n=[],i=0,r=0,s=0,o=e.length;for(let a=0;a<o;a++){let o=e[a];if(0===i&&0===r){if(":"===o){n.push(e.slice(s,a)),s=a+1;continue}if("/"===o){t=a;continue}}"["===o?i++:"]"===o?i--:"("===o?r++:")"===o&&r--}let a=0===n.length?e:e.slice(s),l=a,h=!1;return a.endsWith("!")?(l=a.slice(0,-1),h=!0):a.startsWith("!")&&(l=a.slice(1),h=!0),ed(n,h,l,t&&t>s?t-s:void 0)};if(t){let e=t+":",n=i;i=t=>t.startsWith(e)?n(t.slice(e.length)):ed(eu,!1,t,void 0,!0)}if(n){let e=i;i=t=>n({className:t,parseClassName:e})}return i})(l),sortModifiers:(h=new Map,l.orderSensitiveModifiers.forEach((e,t)=>{h.set(e,1e6+t)}),e=>{let t=[],n=[];for(let i=0;i<e.length;i++){let r=e[i],s="["===r[0],o=h.has(r);s||o?(n.length>0&&(n.sort(),t.push(...n),n=[]),t.push(r)):n.push(r)}return n.length>0&&(n.sort(),t.push(...n)),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:n}=e;return ei(n,t)})(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]")){var n;let t,i,r;return -1===(n=e).slice(1,-1).indexOf(":")?void 0:(i=(t=n.slice(1,-1)).indexOf(":"),(r=t.slice(0,i))?"arbitrary.."+r:void 0)}let i=e.split("-"),r=+(""===i[0]&&i.length>1);return en(i,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=i[e],r=n[e];if(t){if(r){let e=Array(r.length+t.length);for(let t=0;t<r.length;t++)e[t]=r[t];for(let n=0;n<t.length;n++)e[r.length+n]=t[n];return e}return t}return r||et}return n[e]||et}}})(l)}).cache.get,r=n.cache.set,s=o,o(a)},(...e)=>s(((...e)=>{let t,n,i=0,r="";for(;i<e.length;)(t=e[i++])&&(n=em(t))&&(r&&(r+=" "),r+=n);return r})(...e))})(()=>{let e=eg("color"),t=eg("font"),n=eg("text"),i=eg("font-weight"),r=eg("tracking"),s=eg("leading"),o=eg("breakpoint"),a=eg("container"),l=eg("spacing"),h=eg("radius"),c=eg("shadow"),u=eg("inset-shadow"),d=eg("text-shadow"),p=eg("drop-shadow"),m=eg("blur"),f=eg("perspective"),g=eg("aspect"),y=eg("ease"),v=eg("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],x=()=>[...b(),eW,eL],w=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],k=()=>[eW,eL,l],T=()=>[eT,"full","auto",...k()],S=()=>[eE,"none","subgrid",eW,eL],E=()=>["auto",{span:["full",eE,eW,eL]},eE,eW,eL],N=()=>[eE,"auto",eW,eL],I=()=>["auto","min","max","fr",eW,eL],P=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],j=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...k()],A=()=>[eT,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],M=()=>[e,eW,eL],D=()=>[...b(),eH,eq,{position:[eW,eL]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",eK,eO,{size:[eW,eL]}],F=()=>[eN,e$,eF],V=()=>["","none","full",h,eW,eL],q=()=>["",eS,e$,eF],z=()=>["solid","dashed","dotted","double"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[eS,eN,eH,eq],$=()=>["","none",m,eW,eL],U=()=>["none",eS,eW,eL],H=()=>["none",eS,eW,eL],K=()=>[eS,eW,eL],Y=()=>[eT,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[eI],breakpoint:[eI],color:[eP],container:[eI],"drop-shadow":[eI],ease:["in","out","in-out"],font:[eD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[eI],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[eI],shadow:[eI],spacing:["px",eS],text:[eI],"text-shadow":[eI],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",eT,eL,eW,g]}],container:["container"],columns:[{columns:[eS,eL,eW,a]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[eE,"auto",eW,eL]}],basis:[{basis:[eT,"full","auto",a,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[eS,eT,"auto","initial","none",eL]}],grow:[{grow:["",eS,eW,eL]}],shrink:[{shrink:["",eS,eW,eL]}],order:[{order:[eE,"first","last","none",eW,eL]}],"grid-cols":[{"grid-cols":S()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":S()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...P(),"normal"]}],"justify-items":[{"justify-items":[...j(),"normal"]}],"justify-self":[{"justify-self":["auto",...j()]}],"align-content":[{content:["normal",...P()]}],"align-items":[{items:[...j(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...j(),{baseline:["","last"]}]}],"place-content":[{"place-content":P()}],"place-items":[{"place-items":[...j(),"baseline"]}],"place-self":[{"place-self":["auto",...j()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:A()}],w:[{w:[a,"screen",...A()]}],"min-w":[{"min-w":[a,"screen","none",...A()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...A()]}],h:[{h:["screen","lh",...A()]}],"min-h":[{"min-h":["screen","lh","none",...A()]}],"max-h":[{"max-h":["screen","lh",...A()]}],"font-size":[{text:["base",n,e$,eF]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,eW,eV]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",eN,eL]}],"font-family":[{font:[eU,eL,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,eW,eL]}],"line-clamp":[{"line-clamp":[eS,"none",eW,eV]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",eW,eL]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",eW,eL]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:[eS,"from-font","auto",eW,eF]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[eS,"auto",eW,eL]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",eW,eL]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",eW,eL]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},eE,eW,eL],radial:["",eW,eL],conic:[eE,eW,eL]},eY,ez]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...z(),"hidden","none"]}],"divide-style":[{divide:[...z(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[eS,eW,eL]}],"outline-w":[{outline:["",eS,e$,eF]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",c,eG,eB]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",u,eG,eB]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[eS,eF]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",d,eG,eB]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[eS,eW,eL]}],"mix-blend":[{"mix-blend":[...B(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":B()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[eS]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[eW,eL]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[eS]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",eW,eL]}],filter:[{filter:["","none",eW,eL]}],blur:[{blur:$()}],brightness:[{brightness:[eS,eW,eL]}],contrast:[{contrast:[eS,eW,eL]}],"drop-shadow":[{"drop-shadow":["","none",p,eG,eB]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",eS,eW,eL]}],"hue-rotate":[{"hue-rotate":[eS,eW,eL]}],invert:[{invert:["",eS,eW,eL]}],saturate:[{saturate:[eS,eW,eL]}],sepia:[{sepia:["",eS,eW,eL]}],"backdrop-filter":[{"backdrop-filter":["","none",eW,eL]}],"backdrop-blur":[{"backdrop-blur":$()}],"backdrop-brightness":[{"backdrop-brightness":[eS,eW,eL]}],"backdrop-contrast":[{"backdrop-contrast":[eS,eW,eL]}],"backdrop-grayscale":[{"backdrop-grayscale":["",eS,eW,eL]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[eS,eW,eL]}],"backdrop-invert":[{"backdrop-invert":["",eS,eW,eL]}],"backdrop-opacity":[{"backdrop-opacity":[eS,eW,eL]}],"backdrop-saturate":[{"backdrop-saturate":[eS,eW,eL]}],"backdrop-sepia":[{"backdrop-sepia":["",eS,eW,eL]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",eW,eL]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[eS,"initial",eW,eL]}],ease:[{ease:["linear","initial",y,eW,eL]}],delay:[{delay:[eS,eW,eL]}],animate:[{animate:["none",v,eW,eL]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,eW,eL]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:U()}],"rotate-x":[{"rotate-x":U()}],"rotate-y":[{"rotate-y":U()}],"rotate-z":[{"rotate-z":U()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:K()}],"skew-x":[{"skew-x":K()}],"skew-y":[{"skew-y":K()}],transform:[{transform:[eW,eL,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Y()}],"translate-x":[{"translate-x":Y()}],"translate-y":[{"translate-y":Y()}],"translate-z":[{"translate-z":Y()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",eW,eL]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",eW,eL]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[eS,e$,eF,eV]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function e6(...e){return e4(J(e))}let e8=H("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),e9=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),e7=H("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var te=e.i(47389);let tt=[{id:1,year:"1996 - 2000",title:"i hi VIII (1996)",color:"bg-cyan-500",borderColor:"border-cyan-500",textColor:"text-cyan-600",icon:K,image:"./back8.jpg",summary:"y mnh cng nghip ha  hin i ha, tha nhn kinh t nhiu thnh phn",content:{image:"./daihoi8.png",background:{domestic:[" thot khi khng hong kinh t  x hi, t thnh tu quan trng.","Kinh t: n nh v tng trng, pht trin a dng thnh phn kinh t, m ca hi nhp quc t.","X hi: Ci thin i sng nhn dn, n nh chnh tr - x hi"],international:["S pht trin mnh m ca Cch mng khoa hc  cng ngh (c bit l cng ngh thng tin) to ra c hi v thch thc ln.","CNXH hin thc thoi tro (Lin X v ng u tan r)  i hi ng phi kin nh con ng v y mnh i mi."]},oldPolicies:["Bao cp trc tip cho doanh nghip","Qun l kinh t bng mnh lnh hnh chnh","Coi kinh t nh nc l gn nh duy nht"],newPolicies:["y mnh cng nghip ha  hin i ha","Tha nhn kinh t nhiu thnh phn","M ca thu ht u t nc ngoi"],targetsAndMissions:["Mc tiu: a nc ta c bn tr thnh nc cng nghip theo hng hin i vo nm 2020.","Tip tc s nghip i mi, pht trin kinh t nhanh, hiu qu, bn vng.","Xy dng ng v h thng chnh tr vng mnh."],events:["1995: Vit Nam chnh thc gia nhp ASEAN  bc ngot hi nhp quc t.","12/1996 (TW 2 kha VIII): Ban hnh Ngh quyt v GD-T, KH-CN l quc sch hng u.","6/1997 (TW 3 kha VIII): Ban hnh Ngh quyt v Xy dng Nh nc php quyn XHCN v ci cch hnh chnh  t php.","19971998: Khng hong ti chnh chu  - Vit Nam b nh hng nh hn.","7/1998 (TW 5 kha VIII): Ban hnh Ngh quyt v Vn ha Vit Nam tin tin, m  bn sc dn tc.","12/1997 (TW 4 kha VIII) & 2/1999 (TW 6 ln 2 kha VIII): iu chnh nhn s cp cao (L Kh Phiu lm TBT), tp trung Chnh n ng, chng tham nhng, quan liu.","8/1999 (TW 7 kha VIII): Quyt nh Sp xp t chc b my, i mi phng thc hot ng h thng chnh tr."]},contentNext:{image:"./daihoi8.png",mainTheme:"Tip tc s nghip i mi, y mnh cng nghip ha, hin i ha v mc tiu dn giu, nc mnh, x hi cng bng, vn minh, vng bc i ln CNXH.",keyContent:["nh gi thnh tu to ln ca 10 nm i mi (1986-1996), ch ra nhng yu km.","Mc tiu & Nhim v: y mnh cng nghip ha, hin i ha t nc theo nh hng XHCN."],majorLessons:["Gi vng mc tiu c lp dn tc v CNXH.","Kt hp cht ch i mi kinh t vi i mi chnh tr.","Xy dng nn kinh t hng ha nhiu thnh phn.","M rng khi i on kt ton dn v hp tc quc t.","Tng cng vai tr lnh o ca ng."],postCongressResolutions:{industrializationViews:["Quan im: c lp t ch & Hp tc quc t.","L s nghip ca ton dn; ly pht huy ngun lc con ngi l yu t c bn.","Khoa hc v cng ngh l ng lc then cht; ly hiu qu kinh t lm chun c bn."],partyBuilding:["Ni dung: T i mi, t chnh n ng, gi vng bn cht giai cp cng nhn.","Mc tiu: Nng cao bn lnh chnh tr, phm cht, nng lc ca cn b, ng vin.","NQ 10-NQ/TW (TW6 ln 2 - 2/1999): Kin quyt u tranh y li 4 nguy c (tham nhng, quan liu; tt hu kinh t; chch hng XHCN; 'din bin ha bnh')."],stateAndSystemBuilding:{meeting:"Trung ng 3 kha VIII (6/1997) vi Ngh quyt 03-NQ/HNTW.",focus:["Pht huy quyn lm ch ca nhn dn (dn ch i din v trc tip).","Xy dng Nh nc CHXHCN trong sch, vng mnh, hot ng hiu lc, hiu qu.","Nhim v: M rng dn ch, kin ton Quc hi, y mnh ci cch hnh chnh v ci cch t php; hon thin Nh nc php quyn XHCN."]},socialAndCulturalDevelopment:{educationAndScience:{meeting:"Trung ng 2 kha VIII (12/1996) vi Ngh quyt 02-NQ/HNTW.",focus:["Gio dc  o to v khoa hc  cng ngh l quc sch hng u.","Xy dng con ngi Vit Nam pht trin ton din, va hng va chuyn."]},culture:{meeting:"Trung ng 5 kha VIII (7/1998).",focus:["Xy dng v pht trin nn vn ha Vit Nam tin tin, m  bn sc dn tc.","Vn ha l nn tng tinh thn ca x hi, va l mc tiu va l ng lc ca pht trin.","10 nhim v ln (Xy dng con ngi, bo tn di sn, gn vi gio dc, chng 'din bin ha bnh',...)."]}}}}},{id:2,year:"2001 - 2005",title:"i hi IX (2001)",color:"bg-amber-500",borderColor:"border-amber-500",textColor:"text-amber-600",icon:Y,summary:"Khng nh T tng H Ch Minh l nn tng t tng, y mnh CNH, HH v hi nhp quc t.",image:"./back9.webp",content:{image:"./daihoi9.png",background:{domestic:["Sau 15 nm i mi (19862001), Vit Nam t nhiu thnh tu, to th v lc mi.","Kinh t pht trin cha vng chc, hiu qu v sc cnh tranh cn thp.","Cc nguy c (tt hu, chch hng, tham nhng, quan liu, 'din bin ha bnh') vn tn ti gay gt.","Mc tiu tng trng GDP 19962000 (910%) khng t."],international:["Cch mng KH-CN, kinh t tri thc v ton cu ha pht trin mnh m.","Ha bnh, hp tc l xu th ch o; xung t cc b, khng b (sau 11/9/2001) vn phc tp.","CNXH hin thc thoi tro, i hi Vit Nam kin nh mc tiu v y mnh i mi."]},oldPolicies:['T duy "m ca c kim sot qu cht"',"Phn bit i x doanh nghip nh nc  t nhn"],newPolicies:["Khng nh T tng H Ch Minh l nn tng t tng, kim ch nam cho hnh ng.","Xc nh m hnh: Kinh t th trng nh hng x hi ch ngha.","Ch ng hi nhp kinh t quc t."],targetsAndMissions:["Chin lc 20012010: a Vit Nam ra khi tnh trng km pht trin.","To nn tng  n nm 2020 c bn tr thnh nc cng nghip.","Mc tiu c th: GDP nm 2010 gp i nm 2000."],events:["4/2001: i hi ng ln th IX (ng ch Nng c Mnh c bu lm Tng B th).","12/2001 (NQ 05-NQ/TW): i mi, sp xp, nng cao hiu qu Doanh nghip Nh nc.","3/2003 (Ch th 23-CT/TW): y mnh nghin cu, tuyn truyn, gio dc T tng H Ch Minh.","3/2003 (NQ 24, 25-NQ/TW): V cng tc dn tc v tn gio (Chin lc lu di, tn trng t do tn ngng).","3/2004 (NQ 36-NQ/TW): Khng nh Ngi Vit Nam  nc ngoi l b phn khng tch ri ca cng ng dn tc."]},contentNext:{mainTheme:"Tip tc thc hin cng nghip ha, hin i ha t nc.",keyContent:["Khng nh Ch ngha Mc  Lnin v T tng H Ch Minh l nn tng t tng, kim ch nam cho hnh ng.","M hnh kinh t: Kinh t th trng nh hng x hi ch ngha.","Nng tm i ngoi: T 'mun l bn' ln 'l i tc tin cy' ca cng ng quc t."],ideologicalFoundation:{hoChiMinhThought:["Ln u xc nh r ni dung c bn ca T tng H Ch Minh.","L s vn dng v pht trin sng to Ch ngha Mc  Lnin vo iu kin Vit Nam."],socialismTransition:["Kin nh con ng XHCN, b qua ch  TBCN nhng tip thu thnh tu KH-CN.","ng lc ch yu l i on kt ton dn, nng ct l lin minh cng  nng  tr thc."],economicModel:["M hnh: Kinh t th trng nh hng x hi ch ngha.","Nn kinh t nhiu thnh phn, vn hnh theo c ch th trng c s qun l ca Nh nc."]},socialAndCulturalDevelopment:{cultureAndPeople:["Vn ha: L nn tng tinh thn, mc tiu v ng lc ca pht trin, gn vi kinh t th trng nh hng XHCN.","Con ngi: Xy dng con ngi Vit Nam pht trin ton din (tr tu, o c, sng to)."],nationalUnity:["i on kt ton dn l ng lc ch yu, mc tiu: dn giu, nc mnh, x hi cng bng, dn ch, vn minh.","Quan h giai cp l hp tc v u tranh trong ni b nhn dn."],specificGroups:["Dn tc: Chin lc lu di, cc dn tc bnh ng, on kt, cng pht trin (NQ 24-NQ/TW).","Tn gio: Tn trng quyn t do tn ngng, nghim cm li dng tn gio (NQ 25-NQ/TW).","Ngi Vit Nam  nc ngoi: L b phn khng tch ri, ngun lc quan trng (NQ 36-NQ/TW)."]},foreignPolicy:["Thc hin nht qun ng li i ngoi c lp, t ch, a phng ha, a dng ha quan h quc t.","Ch ng hi nhp kinh t quc t, coi hi nhp l nhim v quan trng.","V th quc t: Sn sng l bn, l **i tc tin cy** ca cng ng quc t."],nationalDefenseStrategy:{aims:["Bo v c lp, ch quyn, ton vn lnh th.","Bo v ng, Nh nc, nhn dn v ch  XHCN, bo v s nghip i mi.","Gi vng an ninh, trt t v mi trng ha bnh  pht trin."],directingViews:["ng gi vai tr lnh o tuyt i.","Kin nh c lp dn tc gn vi CNXH.","Kt hp cht ch xy dng v bo v T quc.","Xy dng sc mnh tng hp, ch ng phng nga, ngn chn nguy c t sm."],basicTasks:["Gi vng ha bnh, n nh  pht trin t nc.","Xy dng v bo v ng l nhim v then cht.","Tng cng quc phng  an ninh, qun i & cng an nng ct.","y mnh i ngoi, hp tc quc t."]},postCongressResolutions:{economyAndLand:["NQ 05-NQ/TW (9/2001): Sp xp, i mi, nng cao hiu qu Doanh nghip Nh nc.","TW 5 (3/2002): Khng nh kinh t t nhn l b phn quan trng.","t ai: Thuc s hu ton dn, Nh nc qun l thng nht."],partyBuilding:["Ch th 23-CT/TW (3/2003): y mnh nghin cu, tuyn truyn, gio dc T tng H Ch Minh.","Cn b: Xy dng i ng yu nc, lim chnh, c nng lc."]}}},{id:3,year:"2006 - 2010",title:"i hi X (2006)",color:"bg-rose-500",borderColor:"border-rose-500",textColor:"text-rose-600",icon:G,summary:"Vit Nam gia nhp WTO (2007), ci cch hnh chnh, phng chng tham nhng",image:"./back10.webp",content:{image:"./daihoi10.png",background:{domestic:["Chnh sch c khng  minh bch","Tham nhng, b my cng knh l r"],international:["2007: Vit Nam gia nhp WTO - mc quan trng","Th trng rng m, thu ht u t mnh","Doanh nghip yu b o thi, cnh tranh gay gt"]},oldPolicies:["Chnh sch c khng  minh bch","B my cng knh"],newPolicies:["Ci cch hnh chnh","Phng chng tham nhng","Nng cao hiu qu qun l nh nc"],targetsAndMissions:["Mc tiu: Sm a Vit Nam ra khi tnh trng km pht trin.","Phn u n nm 2010 l nc c thu nhp trung bnh thp.","y mnh ton din cng cuc i mi, pht trin nhanh v bn vng."],events:["2007: Vit Nam chnh thc gia nhp WTO - m ra c hi v thch thc mi"]}},{id:4,year:"2011 - 2015",title:"i hi XI (2011)",color:"bg-slate-700",borderColor:"border-slate-700",textColor:"text-slate-700",image:"./back11.webp",icon:X,summary:"Ti c cu nn kinh t: ngn hng, doanh nghip nh nc, u t cng",content:{image:"./daihoi11.png",background:{domestic:["Tng trng nng  lm pht","N xu ngn hng","u t cng dn tri"],international:["Khng hong kinh t ton cu 2008  li hu qu nng"]},oldPolicies:["M hnh tng trng da vo u t cng dn tri","Qun l ngn hng lng lo"],newPolicies:["Ti c cu ngn hng","Ti c cu doanh nghip nh nc","Ti c cu u t cng"],targetsAndMissions:["Mc tiu: a nc ta tr thnh nc cng nghip theo hng hin i vo nm 2020.","n nh kinh t v m, kim ch lm pht, ti c cu nn kinh t."],events:["Hu qu khng hong 2008 buc Vit Nam phi ti c cu ton din nn kinh t"]}},{id:5,year:"2016 - 2020",title:"i hi XII (2016)",color:"bg-orange-500",borderColor:"border-orange-500",textColor:"text-orange-600",icon:Q,summary:"y mnh ton din, ng b cng cuc i mi; chnh n ng, ci cch th ch, ng ph Covid-19",image:"./back12.webp",content:{image:"./daihoi12.png",background:{domestic:["Kinh t tng trng nhng cht lng cha cao, ny sinh n xu/n cng.","Ci cch b my, phng chng tham nhng tr thnh vn  cp bch.","Vit Nam  30 nm i mi, cn nh hng pht trin bn vng hn."],international:["Th gii din bin nhanh, phc tp, kh lng.","Cnh tranh kinh t, an ninh, tranh chp ngy cng gay gt."]},oldPolicies:["M hnh tng trng chm i mi, cn da vo vn v lao ng.","Th ch cha ng b, cn li ch cc b.","Doanh nghip nh nc hiu qu thp, n nn ln."],newPolicies:["Xy dng, chnh n ng, ngn chn suy thoi, 't din bin, t chuyn ha'.","i mi m hnh tng trng, c cu li nn kinh t (3 t ph chin lc).","Hon thin th ch kinh t th trng nh hng XHCN.","Ch ng hi nhp quc t nhng gi vng c lp, t ch.","Tinh gn b my, chng tham nhng, lng ph."],targetsAndMissions:["Mc tiu: y mnh ton din, ng b cng cuc i mi.","Nng cao cht lng tng trng, pht trin nhanh v bn vng.","Thc hin 6 nhim v trng tm (Chnh n ng, Tinh gn b my, C cu li kinh t, Hi nhp, An sinh x hi, Pht huy nhn t con ngi)."],events:["10/2016  NQ 04-NQ/TW (TW4): Sit k lut, chng suy thoi.","20162018: Vit Nam tham gia cc FTA th h mi (VD: CPTPP, EVFTA).","10/2018  NQ 36: Pht trin kinh t bin gn ch quyn.","2020: i dch Covid-19 bng pht, Vit Nam ng ph thnh cng."]}},{id:6,year:"2021 - Nay",title:"i hi XIII (2021)",color:"bg-emerald-500",borderColor:"border-emerald-500",textColor:"text-emerald-600",icon:Z,summary:"Xc nh tm nhn 2030-2045, thc y chuyn i s, pht trin bn vng",image:"./back13.webp",content:{image:"./daihoi13.png",background:{domestic:[" c nn tng vng chc sau 35 nm i mi.","Cn nh hnh t duy pht trin di hn.","Ny sinh cc vn  chin lc mi: pht trin bn vng, chuyn i s, an ninh phi truyn thng."],international:["Hu Covid-19, kinh t th gii phc hi nhng ri ro cao.","Bin i kh hu tr thnh vn  ton cu.","Cch mng cng nghip 4.0 tc ng mnh m."]},oldPolicies:["Cn chuyn i t m hnh tng trng truyn thng sang kinh t s/kinh t xanh."],newPolicies:["Xc nh tm nhn pht trin n 2030 (100 nm thnh lp ng) v 2045 (100 nm thnh lp nc).","Thc hin 3 t ph chin lc (Th ch, Nhn lc, H tng)  nng cao nng sut.","y mnh chuyn i xanh, ng ph bin i kh hu.","Pht trin kinh t s, x hi s."],targetsAndMissions:["Mc tiu: Tr thnh nc ang pht trin, c cng nghip hin i, thu nhp trung bnh cao vo nm 2030.","Tr thnh nc pht trin, thu nhp cao vo nm 2045.","Tip tc y mnh ton din, ng b cng cuc i mi."],events:["2021-2022: Vit Nam tp trung kim sot dch v phc hi kinh t hu Covid-19.","Tip tc hi nhp quc t su rng, tng cnh tranh v i hi nng lc ni sinh mnh hn.","y mnh cuc chin chng tham nhng, tiu cc."]}}];function tn(){let[e,t]=(0,B.useState)(null),[n,i]=(0,B.useState)(!1);return(0,z.jsxs)("div",{className:"relative mx-auto max-w-7xl px-4",children:[(0,z.jsx)("div",{className:"mb-8 flex justify-center",children:(0,z.jsx)("div",{className:"rounded-lg border-2 border-primary bg-background px-6 py-2 font-bold text-primary shadow-md",children:"BT U"})}),(0,z.jsx)("div",{className:"absolute left-1/2 top-20 bottom-20 w-1 -translate-x-1/2 bg-gradient-to-b from-cyan-500 via-amber-500 to-emerald-500"}),(0,z.jsx)("div",{className:"relative space-y-12",children:tt.map((e,n)=>{let i=n%2==0,r=e.icon;return(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)("div",{className:"absolute left-1/2 top-0 z-10 -translate-x-1/2",children:(0,z.jsx)("div",{className:e6("flex h-12 w-12 items-center justify-center rounded-full border-4 bg-background",e.borderColor),children:(0,z.jsx)(r,{className:e6("h-5 w-5",e.textColor)})})}),(0,z.jsxs)("div",{className:e6("relative w-[calc(50%-3rem)]",i?"mr-auto pr-4":"ml-auto pl-4"),children:[(0,z.jsx)("div",{className:e6("absolute top-6 h-0.5 w-8 border-t-2 border-dashed border-muted-foreground/50",i?"right-0":"left-0")}),(0,z.jsxs)("div",{className:e6("cursor-pointer rounded-xl border bg-card p-5 shadow-lg transition-all hover:shadow-xl"),onClick:()=>{t(e)},children:[(0,z.jsx)("div",{className:e6("mb-3 inline-block rounded-full px-4 py-1 text-sm font-bold text-white",e.color),children:e.year}),(0,z.jsx)("div",{children:(0,z.jsx)("img",{src:e.image,alt:e.title,className:"mb-4 h-40 w-full rounded-lg object-cover"})}),(0,z.jsx)("h3",{className:e6("mb-2 text-lg font-bold",e.textColor),children:e.title}),(0,z.jsx)("p",{className:"mb-3 text-sm text-muted-foreground",children:e.summary})]})]})]},e.id)})}),e&&(0,z.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,z.jsxs)("div",{className:"relative grid max-h-[100100vh] w-full max-w-6xl grid-cols-1 overflow-hidden rounded-xl bg-background shadow-xl md:grid-cols-[400px_1fr]",children:[(0,z.jsxs)("div",{className:"relative hidden md:block",children:[(0,z.jsx)(te.default,{src:e.content.image||"/fallback-image.png",alt:e.title,fill:!0,className:"object-contain",priority:!0}),(0,z.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),e.contentNext&&(0,z.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 flex space-x-2 rounded-lg bg-black/50 p-1 backdrop-blur-sm",children:[(0,z.jsx)("button",{onClick:()=>i(!1),className:e6("flex-1 rounded-md px-3 py-2 text-sm font-semibold transition-colors",n?"text-white/70 hover:bg-white/10":"bg-white text-gray-900 shadow-sm"),children:"Thng tin chung"}),(0,z.jsx)("button",{onClick:()=>i(!0),className:e6("flex-1 rounded-md px-3 py-2 text-sm font-semibold transition-colors",n?"bg-white text-gray-900 shadow-sm":"text-white/70 hover:bg-white/10"),children:"Chi tit Ngh quyt"})]})]}),(0,z.jsxs)("div",{className:"relative max-h-[90vh] overflow-y-auto p-6",children:[(0,z.jsx)("button",{className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground cursor-pointer text-2xl font-bold",onClick:()=>{i(!1),t(null)},children:""}),(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsx)("span",{className:e6("inline-block rounded-full px-4 py-1 text-sm font-bold text-white",e.color),children:e.year}),(0,z.jsx)("h2",{className:"mt-2 text-2xl font-bold",children:e.title}),(0,z.jsx)("p",{className:"mt-1 text-muted-foreground",children:e.summary})]}),(0,z.jsx)("div",{className:"space-y-6",children:n?e.contentNext&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsx)("h3",{className:"text-xl font-bold text-amber-600 border-b pb-2",children:"Ngh quyt v Ch trng sau i hi IX"}),(0,z.jsxs)("p",{className:"text-sm italic text-muted-foreground",children:["Ch : **",e.contentNext.mainTheme,"**"]}),(0,z.jsxs)("div",{className:"rounded-xl border border-indigo-500/30 bg-indigo-50/50 p-4 space-y-4",children:[(0,z.jsx)("h4",{className:"font-bold text-indigo-700",children:"Nn tng T tng & M hnh Kinh t"}),e.contentNext.ideologicalFoundation?.hoChiMinhThought&&(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"font-semibold text-sm",children:"T tng H Ch Minh:"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:e.contentNext.ideologicalFoundation.hoChiMinhThought.map((e,t)=>(0,z.jsx)("li",{children:e},`hcm-${t}`))})]}),e.contentNext.ideologicalFoundation?.economicModel&&(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"font-semibold text-sm",children:"M hnh Kinh t:"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:e.contentNext.ideologicalFoundation.economicModel.map((e,t)=>(0,z.jsx)("li",{children:e},`econ-${t}`))})]})]}),e.contentNext.socialAndCulturalDevelopment&&(0,z.jsxs)("div",{className:"rounded-xl border border-pink-500/30 bg-pink-50/50 p-4 space-y-4",children:[(0,z.jsx)("h4",{className:"font-bold text-pink-700",children:"Vn ha, Con ngi & i on kt"}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"font-semibold text-sm",children:"Vn ha & Con ngi:"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:e.contentNext.socialAndCulturalDevelopment.cultureAndPeople.map((e,t)=>(0,z.jsx)("li",{children:e},`cult-${t}`))})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"font-semibold text-sm",children:"Cng tc Dn tc, Tn gio, Ngi Vit Nam  nc ngoi:"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:e.contentNext.socialAndCulturalDevelopment.specificGroups.map((e,t)=>(0,z.jsx)("li",{children:e},`spec-${t}`))})]})]}),e.contentNext.foreignPolicy&&(0,z.jsxs)("div",{className:"rounded-xl border border-green-500/30 bg-green-50/50 p-4",children:[(0,z.jsx)("h4",{className:"font-bold text-green-700",children:"ng li i ngoi & Hi nhp"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5 mt-2",children:e.contentNext.foreignPolicy.map((e,t)=>(0,z.jsx)("li",{children:e},`fp-${t}`))})]}),e.contentNext.nationalDefenseStrategy&&(0,z.jsxs)("div",{className:"rounded-xl border border-red-500/30 bg-red-50/50 p-4 space-y-4",children:[(0,z.jsx)("h4",{className:"font-bold text-red-700",children:"Chin lc Bo v T quc"}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"font-semibold text-sm",children:"Mc tiu:"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:e.contentNext.nationalDefenseStrategy.aims.map((e,t)=>(0,z.jsx)("li",{children:e},`aim-${t}`))})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"font-semibold text-sm",children:"Nhim v c bn:"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:e.contentNext.nationalDefenseStrategy.basicTasks.map((e,t)=>(0,z.jsx)("li",{children:e},`task-${t}`))})]})]}),e.contentNext.postCongressResolutions&&(0,z.jsxs)("div",{className:"rounded-xl border p-4 bg-muted/50 space-y-4",children:[(0,z.jsx)("h4",{className:"font-bold text-gray-800",children:"Ch o ca Trung ng Kha IX"}),e.contentNext.postCongressResolutions.economyAndLand&&(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"font-semibold text-sm",children:"i mi Kinh t & Qun l t ai:"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:e.contentNext.postCongressResolutions.economyAndLand.map((e,t)=>(0,z.jsx)("li",{children:e},`eco-res-${t}`))})]}),e.contentNext.postCongressResolutions.partyBuilding&&(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"font-semibold text-sm",children:"Xy dng ng, T tng & o c:"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:e.contentNext.postCongressResolutions.partyBuilding.map((e,t)=>(0,z.jsx)("li",{children:e},`party-res-${t}`))})]})]})]}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"rounded-xl border bg-muted/30 p-4",children:[(0,z.jsx)("h3",{className:"mb-3 font-bold",children:"Bi cnh"}),(0,z.jsxs)("div",{className:"grid gap-4 md:grid-cols-[1fr_auto_1fr]",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"inline-block rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-primary",children:"Trong nc"}),(0,z.jsx)("ul",{className:"mt-2 space-y-2 text-sm",children:e.content.background.domestic.map((e,t)=>(0,z.jsxs)("li",{children:[" ",e]},t))})]}),(0,z.jsx)("div",{className:"hidden md:block",children:(0,z.jsx)("div",{className:"h-full w-px bg-gray-300 dark:bg-gray-700 mx-2","aria-hidden":"true"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"inline-block rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-primary",children:"Quc t"}),(0,z.jsx)("ul",{className:"mt-2 space-y-2 text-sm",children:e.content.background.international.map((e,t)=>(0,z.jsxs)("li",{children:[" ",e]},t))})]})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h2",{className:"mb-4 text-base font-bold",children:"Chuyn i chnh sch"}),(0,z.jsxs)("div",{className:"grid gap-4 md:grid-cols-[1fr_auto_1fr]",children:[(0,z.jsxs)("div",{className:"rounded-xl border border-destructive/30 bg-destructive/5 p-4",children:[(0,z.jsx)("h3",{className:"mb-2 font-semibold text-destructive",children:"Chnh sch c"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm",children:e.content.oldPolicies.map((e,t)=>(0,z.jsxs)("li",{className:"flex gap-2",children:[(0,z.jsx)(e8,{className:"mt-0.5 h-3.5 w-3.5 text-destructive"}),(0,z.jsx)("span",{children:e})]},t))})]}),(0,z.jsx)("div",{className:"hidden md:flex items-center justify-center",children:(0,z.jsx)(e9,{className:"h-8 w-8 text-muted-foreground"})}),(0,z.jsxs)("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[(0,z.jsx)("h3",{className:"mb-2 font-semibold text-emerald-600",children:"Chnh sch mi"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm",children:e.content.newPolicies.map((e,t)=>(0,z.jsxs)("li",{className:"flex gap-2",children:[(0,z.jsx)(e7,{className:"mt-0.5 h-3.5 w-3.5 text-emerald-500"}),(0,z.jsx)("span",{children:e})]},t))})]})]})]}),e.content.targetsAndMissions&&e.content.targetsAndMissions.length>0&&(0,z.jsxs)("div",{className:"rounded-xl border border-blue-500/30 bg-blue-500/5 p-4",children:[(0,z.jsx)("h3",{className:"mb-2 font-bold text-blue-600",children:"Mc tiu & Nhim v"}),(0,z.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:e.content.targetsAndMissions.map((e,t)=>(0,z.jsx)("li",{children:e},t))})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"mb-2 font-bold",children:"S kin ni bt"}),(0,z.jsx)("ul",{className:"rounded-lg bg-muted p-3 text-sm list-disc pl-5",children:e.content.events.map((e,t)=>(0,z.jsx)("li",{className:"mb-1",children:e},t))})]})]})})]})]})}),(0,z.jsx)("div",{className:"mt-8 flex justify-center",children:(0,z.jsx)("div",{className:"rounded-lg border-2 border-emerald-500 bg-background px-6 py-2 font-bold text-emerald-600 shadow-md",children:"HIN TI"})})]})}function ti(){return(0,z.jsxs)("div",{className:"space-y-12",children:[(0,z.jsxs)("section",{className:"mx-auto max-w-4xl text-center",children:[(0,z.jsx)("h1",{className:"mb-6 text-3xl font-bold text-foreground md:text-4xl",children:"Lch s Vit Nam t i hi VIII n nay"}),(0,z.jsx)("p",{className:"text-lg leading-relaxed text-muted-foreground",children:"Vit Nam sau khi ginh c lp v thng nht t nc bc vo giai on xy dng v pht trin. T i hi VIII (1996) n nay, ng Cng sn Vit Nam  tng bc i mi t duy lnh o, nh hnh m hnh pht trin kinh t  x hi, v hi nhp su rng vi th gii."})]}),(0,z.jsx)("section",{className:"mx-auto max-w-7xl",children:(0,z.jsx)(tn,{})})]})}function tr({activeTab:e,setActiveTab:t}){return(0,z.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,z.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[(0,z.jsx)("div",{className:"flex items-center gap-2",children:(0,z.jsx)("span",{className:"text-xl font-bold text-foreground",children:"Nhm 8 - VNR202"})}),(0,z.jsxs)("nav",{className:"flex items-center gap-1",children:[(0,z.jsx)("button",{onClick:()=>t("home"),className:e6("px-4 py-2 rounded-lg font-medium transition-colors hover:cursor-pointer","home"===e?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:"Home"}),(0,z.jsx)("button",{onClick:()=>t("game"),className:e6("px-4 py-2 rounded-lg font-medium transition-colors hover:cursor-pointer","game"===e?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:"Game"})]})]})})}function ts(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function to(...e){return t=>{let n=!1,i=e.map(e=>{let i=ts(e,t);return n||"function"!=typeof i||(n=!0),i});if(n)return()=>{for(let t=0;t<i.length;t++){let n=i[t];"function"==typeof n?n():ts(e[t],null)}}}}function ta(...e){return B.useCallback(to(...e),e)}var tl=B.forwardRef((e,t)=>{let{children:n,...i}=e,r=B.Children.toArray(n),s=r.find(tu);if(s){let e=s.props.children,n=r.map(t=>t!==s?t:B.Children.count(e)>1?B.Children.only(null):B.isValidElement(e)?e.props.children:null);return(0,z.jsx)(th,{...i,ref:t,children:B.isValidElement(e)?B.cloneElement(e,void 0,n):null})}return(0,z.jsx)(th,{...i,ref:t,children:n})});tl.displayName="Slot";var th=B.forwardRef((e,t)=>{let{children:n,...i}=e;if(B.isValidElement(n)){var r;let e,s,o=(r=n,(s=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.ref:(s=(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.props.ref:r.props.ref||r.ref);return B.cloneElement(n,{...function(e,t){let n={...t};for(let i in t){let r=e[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...e)=>{s(...e),r(...e)}:r&&(n[i]=r):"style"===i?n[i]={...r,...s}:"className"===i&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}(i,n.props),ref:t?to(t,o):o})}return B.Children.count(n)>1?B.Children.only(null):null});th.displayName="SlotClone";var tc=({children:e})=>(0,z.jsx)(z.Fragment,{children:e});function tu(e){return B.isValidElement(e)&&e.type===tc}let td=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,tp=(v="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",_={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==_?void 0:_.variants)==null)return J(v,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:n,defaultVariants:i}=_,r=Object.keys(n).map(t=>{let r=null==e?void 0:e[t],s=null==i?void 0:i[t];if(null===r)return null;let o=td(r)||td(s);return n[t][o]}),s=e&&Object.entries(e).reduce((e,t)=>{let[n,i]=t;return void 0===i||(e[n]=i),e},{});return J(v,r,null==_||null==(t=_.compoundVariants)?void 0:t.reduce((e,t)=>{let{class:n,className:r,...o}=t;return Object.entries(o).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...s}[t]):({...i,...s})[t]===n})?[...e,n,r]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)});function tm({className:e,variant:t,size:n,asChild:i=!1,...r}){let s=i?tl:"button";return(0,z.jsx)(s,{"data-slot":"button",className:e6(tp({variant:t,size:n,className:e})),...r})}function tf({className:e,type:t,...n}){return(0,z.jsx)("input",{type:t,"data-slot":"input",className:e6("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function tg({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"card",className:e6("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function ty({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"card-header",className:e6("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function tv({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"card-title",className:e6("leading-none font-semibold",e),...t})}function t_({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"card-description",className:e6("text-muted-foreground text-sm",e),...t})}function tb({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"card-content",className:e6("px-6",e),...t})}let tx=H("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),tw=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),tC=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),tk=H("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var tT=e.i(68519);let tS=function(e,t){if(!e)throw tE(t)},tE=function(e){return Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},tN=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:((64512&r)==55296&&i+1<e.length&&(64512&e.charCodeAt(i+1))==56320?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128)}return t},tI=function(e){let t=[],n=0,i=0;for(;n<e.length;){let r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){let s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{let s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")},tP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let t=0;t<e.length;t+=3){let r=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,h=r>>2,c=(3&r)<<4|o>>4,u=(15&o)<<2|l>>6,d=63&l;!a&&(d=64,s||(u=64)),i.push(n[h],n[c],n[u],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tN(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let t=0;t<e.length;){let r=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,o=++t<e.length?n[e.charAt(t)]:64,a=++t<e.length?n[e.charAt(t)]:64;if(++t,null==r||null==s||null==o||null==a)throw new tj;let l=r<<2|s>>4;if(i.push(l),64!==o){let e=s<<4&240|o>>2;if(i.push(e),64!==a){let e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let tR=function(e){let t=tN(e);return tP.encodeByteArray(t,!0)},tA=function(e){return tR(e).replace(/\./g,"")},tM=function(e){try{return tP.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},tD=()=>{try{return("undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g).__FIREBASE_DEFAULTS__||(()=>{if(void 0===tT.default||void 0===tT.default.env)return;let e=tT.default.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)})()||(()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&tM(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tO=()=>tD()?.config;class tL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function tF(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tV(e){return(await fetch(e,{credentials:"include"})).ok}let tq={},tz=!1;function tB(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function tW(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function t$(){return false}function tU(){try{return"object"==typeof indexedDB}catch(e){return!1}}function tH(){return new Promise((e,t)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}class tK extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tK.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tY.prototype.create)}}class tY{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,i;let r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?(n=o,i=r,n.replace(tG,(e,t)=>{let n=i[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new tK(s,l,r)}}let tG=/\{\$([^}]+)}/g;function tX(e){return JSON.parse(e)}function tQ(e){return JSON.stringify(e)}let tZ=function(e){let t={},n={},i={},r="";try{let s=e.split(".");t=tX(tM(s[0])||""),n=tX(tM(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:i,signature:r}},tJ=function(e){let t=tZ(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t0=function(e){let t=tZ(e).claims;return"object"==typeof t&&!0===t.admin};function t1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t2(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function t3(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function t5(e,t,n){let i={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function t4(e,t){if(e===t)return!0;let n=Object.keys(e),i=Object.keys(t);for(let r of n){if(!i.includes(r))return!1;let n=e[r],s=t[r];if(t6(n)&&t6(s)){if(!t4(n,s))return!1}else if(n!==s)return!1}for(let e of i)if(!n.includes(e))return!1;return!0}function t6(e){return null!==e&&"object"==typeof e}class t8{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=0x67452301,this.chain_[1]=0xefcdab89,this.chain_[2]=0x98badcfe,this.chain_[3]=0x10325476,this.chain_[4]=0xc3d2e1f0,this.inbuf_=0,this.total_=0}compress_(e,t){let n,i;t||(t=0);let r=this.W_;if("string"==typeof e)for(let n=0;n<16;n++)r[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let n=0;n<16;n++)r[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=r[e-3]^r[e-8]^r[e-14]^r[e-16];r[e]=(t<<1|t>>>31)&0xffffffff}let s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(n=l^o&(a^l),i=0x5a827999):(n=o^a^l,i=0x6ed9eba1):e<60?(n=o&a|l&(o|a),i=0x8f1bbcdc):(n=o^a^l,i=0xca62c1d6);let t=(s<<5|s>>>27)+n+h+i+r[e]|0;h=l,l=a,a=(o<<30|o>>>2)&0xffffffff,o=s,s=t}this.chain_[0]=this.chain_[0]+s|0,this.chain_[1]=this.chain_[1]+o|0,this.chain_[2]=this.chain_[2]+a|0,this.chain_[3]=this.chain_[3]+l|0,this.chain_[4]=this.chain_[4]+h|0}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let n=t-this.blockSize,i=0,r=this.buf_,s=this.inbuf_;for(;i<t;){if(0===s)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<t;)if(r[s]=e[i],++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let i=24;i>=0;i-=8)e[n]=this.chain_[t]>>i&255,++n;return e}}function t9(e,t){return`${e} failed: ${t} argument `}let t7=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){let t=r-55296;tS(++i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return t},ne=function(e){let t=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function nt(e,t=1e3,n=2){let i=t*Math.pow(n,e),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function nn(e){return e&&e._delegate?e._delegate:e}class ni{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let nr="[DEFAULT]";class ns{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new tL;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}if(n)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:nr})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=nr){return this.instances.has(e)}getOptions(e=nr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(i);return i}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);let r=this.instances.get(n);return r&&e(r,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===nr?void 0:n,options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=nr){return this.component?this.component.multipleInstances?e:nr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class no{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ns(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}let na=[];(E=L||(L={}))[E.DEBUG=0]="DEBUG",E[E.VERBOSE=1]="VERBOSE",E[E.INFO=2]="INFO",E[E.WARN=3]="WARN",E[E.ERROR=4]="ERROR",E[E.SILENT=5]="SILENT";let nl={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},nh=L.INFO,nc={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},nu=(e,t,...n)=>{if(t<e.logLevel)return;let i=new Date().toISOString(),r=nc[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nd{constructor(e){this.name=e,this._logLevel=nh,this._logHandler=nu,this._userLogHandler=null,na.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in L))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?nl[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...e),this._logHandler(this,L.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...e),this._logHandler(this,L.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,L.INFO,...e),this._logHandler(this,L.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,L.WARN,...e),this._logHandler(this,L.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...e),this._logHandler(this,L.ERROR,...e)}}let np=new WeakMap,nm=new WeakMap,nf=new WeakMap,ng=new WeakMap,ny=new WeakMap,nv={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return nm.get(e);if("objectStoreNames"===t)return e.objectStoreNames||nf.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return n_(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function n_(e){if(e instanceof IDBRequest){let t;return(t=new Promise((t,n)=>{let i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(n_(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)})).then(t=>{t instanceof IDBCursor&&np.set(t,e)}).catch(()=>{}),ny.set(t,e),t}if(ng.has(e))return ng.get(e);let i=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(nb(this),t),n_(np.get(this))}:function(...t){return n_(e.apply(nb(this),t))}:function(t,...n){let i=e.call(nb(this),t,...n);return nf.set(i,t.sort?t.sort():[t]),n_(i)};return e instanceof IDBTransaction&&function(e){if(nm.has(e))return;let t=new Promise((t,n)=>{let i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});nm.set(e,t)}(e),(t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,nv):e}(e);return i!==e&&(ng.set(e,i),ny.set(i,e)),i}let nb=e=>ny.get(e);function nx(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(e,t),a=n_(o);return i&&o.addEventListener("upgradeneeded",e=>{i(n_(o.result),e.oldVersion,e.newVersion,n_(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}let nw=["get","getKey","getAll","getAllKeys","count"],nC=["put","add","delete","clear"],nk=new Map;function nT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(nk.get(t))return nk.get(t);let n=t.replace(/FromIndex$/,""),i=t!==n,r=nC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||nw.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,r?"readwrite":"readonly"),o=s.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),r&&s.done]))[0]};return nk.set(t,s),s}nv={...k=nv,get:(e,t,n)=>nT(e,t)||k.get(e,t,n),has:(e,t)=>!!nT(e,t)||k.has(e,t)};class nS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{let t;if(t=e.getComponent(),t?.type!=="VERSION")return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let nE="@firebase/app",nN="0.14.6",nI=new nd("@firebase/app"),nP="[DEFAULT]",nj={[nE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},nR=new Map,nA=new Map,nM=new Map;function nD(e,t){try{e.container.addComponent(t)}catch(n){nI.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nO(e,t){e.container.addOrOverwriteComponent(t)}function nL(e){let t=e.name;if(nM.has(t))return nI.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(nM.set(t,e),nR.values()))nD(n,e);for(let t of nA.values())nD(t,e);return!0}function nF(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function nV(e,t,n=nP){nF(e,t).clearInstance(n)}function nq(e){return void 0!==e.options}function nz(e){return!nq(e)&&("authIdToken"in e||"appCheckToken"in e||"releaseOnDeref"in e||"automaticDataCollectionEnabled"in e)}function nB(e){return null!=e&&void 0!==e.settings}function nW(){nM.clear()}let n$=new tY("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class nU{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw n$.create("app-deleted",{appName:this._name})}}function nH(e,t){let n=tM(e.split(".")[1]);null===n?console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`):void 0===JSON.parse(n).exp?console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`):1e3*JSON.parse(n).exp-new Date().getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class nK extends nU{constructor(e,t,n,i){const r=void 0===t.automaticDataCollectionEnabled||t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:r};void 0!==e.apiKey?super(e,s,i):super(e.options,s,i),this._serverConfig={automaticDataCollectionEnabled:r,...t},this._serverConfig.authIdToken&&nH(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&nH(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,n0(nE,nN,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){nJ(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw n$.create("server-app-deleted")}}let nY="12.6.0";function nG(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let i={name:nP,automaticDataCollectionEnabled:!0,...t},r=i.name;if("string"!=typeof r||!r)throw n$.create("bad-app-name",{appName:String(r)});if(n||(n=tO()),!n)throw n$.create("no-options");let s=nR.get(r);if(s)if(t4(n,s.options)&&t4(i,s.config))return s;else throw n$.create("duplicate-app",{appName:r});let o=new no(r);for(let e of nM.values())o.addComponent(e);let a=new nU(n,i,o);return nR.set(r,a),a}function nX(e,t={}){let n;if(("undefined"!=typeof window||tW())&&!tW())throw n$.create("invalid-server-app-environment");let i=t||{};if(e&&(nq(e)?n=e.options:nz(e)?i=e:n=e),void 0===i.automaticDataCollectionEnabled&&(i.automaticDataCollectionEnabled=!0),n||(n=tO()),!n)throw n$.create("no-options");let r={...i,...n};if(void 0!==r.releaseOnDeref&&delete r.releaseOnDeref,void 0!==i.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw n$.create("finalization-registry-not-supported",{});let s=""+[...JSON.stringify(r)].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0),o=nA.get(s);if(o)return o.incRefCount(i.releaseOnDeref),o;let a=new no(s);for(let e of nM.values())a.addComponent(e);let l=new nK(n,i,s,a);return nA.set(s,l),l}function nQ(e=nP){let t=nR.get(e);if(!t&&e===nP&&tO())return nG();if(!t)throw n$.create("no-app",{appName:e});return t}function nZ(){return Array.from(nR.values())}async function nJ(e){let t=!1,n=e.name;nR.has(n)?(t=!0,nR.delete(n)):nA.has(n)&&0>=e.decRefCount()&&(nA.delete(n),t=!0),t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function n0(e,t,n){let i=nj[e]??e;n&&(i+=`-${n}`);let r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){let e=[`Unable to register library "${i}" with version "${t}":`];r&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nI.warn(e.join(" "));return}nL(new ni(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function n1(e,t){if(null!==e&&"function"!=typeof e)throw n$.create("invalid-log-argument");for(let n of na){let i=null;t&&t.level&&(i=nl[t.level]),null===e?n.userLogHandler=null:n.userLogHandler=(t,n,...r)=>{let s=r.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");n>=(i??t.logLevel)&&e({level:L[n].toLowerCase(),message:s,args:r,type:t.name})}}}function n2(e){na.forEach(t=>{t.setLogLevel(e)})}let n3="firebase-heartbeat-store",n5=null;function n4(){return n5||(n5=nx("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(n3)}catch(e){console.warn(e)}}}).catch(e=>{throw n$.create("idb-open",{originalErrorMessage:e.message})})),n5}async function n6(e){try{let t=(await n4()).transaction(n3),n=await t.objectStore(n3).get(n9(e));return await t.done,n}catch(e){if(e instanceof tK)nI.warn(e.message);else{let t=n$.create("idb-get",{originalErrorMessage:e?.message});nI.warn(t.message)}}}async function n8(e,t){try{let n=(await n4()).transaction(n3,"readwrite"),i=n.objectStore(n3);await i.put(t,n9(e)),await n.done}catch(e){if(e instanceof tK)nI.warn(e.message);else{let t=n$.create("idb-set",{originalErrorMessage:e?.message});nI.warn(t.message)}}}function n9(e){return`${e.name}!${e.options.appId}`}class n7{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new it(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ie();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){nI.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=ie(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],i=e.slice();for(let r of e){let e=n.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),ii(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ii(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=tA(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return nI.warn(e),""}}}function ie(){return new Date().toISOString().substring(0,10)}class it{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!tU()&&tH().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await n6(this.app);return e?.heartbeats?e:{heartbeats:[]}}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return n8(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return n8(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function ii(e){return tA(JSON.stringify({version:2,heartbeats:e})).length}nL(new ni("platform-logger",e=>new nS(e),"PRIVATE")),nL(new ni("heartbeat",e=>new n7(e),"PRIVATE")),n0(nE,nN,""),n0(nE,nN,"esm2020"),n0("fire-js",""),e.s(["SDK_VERSION",()=>nY,"_DEFAULT_ENTRY_NAME",()=>nP,"_addComponent",()=>nD,"_addOrOverwriteComponent",()=>nO,"_apps",()=>nR,"_clearComponents",()=>nW,"_components",()=>nM,"_getProvider",()=>nF,"_isFirebaseApp",()=>nq,"_isFirebaseServerApp",()=>nB,"_isFirebaseServerAppSettings",()=>nz,"_registerComponent",()=>nL,"_removeServiceInstance",()=>nV,"_serverApps",()=>nA,"deleteApp",()=>nJ,"getApp",()=>nQ,"getApps",()=>nZ,"initializeApp",()=>nG,"initializeServerApp",()=>nX,"onLog",()=>n1,"registerVersion",()=>n0,"setLogLevel",()=>n2],42155),n0("firebase","12.6.0","app"),e.i(42155);let ir="@firebase/installations",is="0.6.19",io=`w:${is}`,ia="FIS_v2",il=new tY("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ih(e){return e instanceof tK&&e.code.includes("request-failed")}function ic({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function iu(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}async function id(e,t){let n=(await t.json()).error;return il.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ip({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function im(e){let t=await e();return t.status>=500&&t.status<600?e():t}async function ig({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let i=ic(e),r=ip(e),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}let o={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:ia,appId:e.appId,sdkVersion:io})},a=await im(()=>fetch(i,o));if(a.ok){let e=await a.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:iu(e.authToken)}}throw await id("Create Installation",a)}function iy(e){return new Promise(t=>{setTimeout(t,e)})}let iv=/^[cdef][\w-]{21}$/;function i_(e){return`${e.appName}!${e.appId}`}let ib=new Map;function ix(e,t){var n,i;let r,s=i_(e);iw(s,t),n=s,i=t,(r=(!iC&&"BroadcastChannel"in self&&((iC=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{iw(e.data.key,e.data.fid)}),iC))&&r.postMessage({key:n,fid:i}),0===ib.size&&iC&&(iC.close(),iC=null)}function iw(e,t){let n=ib.get(e);if(n)for(let e of n)e(t)}let iC=null,ik="firebase-installations-store",iT=null;function iS(){return iT||(iT=nx("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(ik)}})),iT}async function iE(e,t){let n=i_(e),i=(await iS()).transaction(ik,"readwrite"),r=i.objectStore(ik),s=await r.get(n);return await r.put(t,n),await i.done,s&&s.fid===t.fid||ix(e,t.fid),t}async function iN(e){let t=i_(e),n=(await iS()).transaction(ik,"readwrite");await n.objectStore(ik).delete(t),await n.done}async function iI(e,t){let n=i_(e),i=(await iS()).transaction(ik,"readwrite"),r=i.objectStore(ik),s=await r.get(n),o=t(s);return void 0===o?await r.delete(n):await r.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&ix(e,o.fid),o}async function iP(e){let t,n=await iI(e.appConfig,n=>{let i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(il.create("app-offline"))};let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=ij(e,n);return{installationEntry:n,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:iR(e)}:{installationEntry:t}}(e,iM(n||{fid:function(){try{var e;let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return iv.test(n)?n:""}catch{return""}}(),registrationStatus:0}));return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ij(e,t){try{let n=await ig(e,t);return iE(e.appConfig,n)}catch(n){throw ih(n)&&409===n.customData.serverCode?await iN(e.appConfig):await iE(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function iR(e){let t=await iA(e.appConfig);for(;1===t.registrationStatus;)await iy(100),t=await iA(e.appConfig);if(0===t.registrationStatus){let{installationEntry:t,registrationPromise:n}=await iP(e);return n||t}return t}function iA(e){return iI(e,e=>{if(!e)throw il.create("installation-not-found");return iM(e)})}function iM(e){var t;return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}async function iD({appConfig:e,heartbeatServiceProvider:t},n){let i=function(e,{fid:t}){return`${ic(e)}/${t}/authTokens:generate`}(e,n),r=function(e,{refreshToken:t}){var n;let i=ip(e);return i.append("Authorization",(n=t,`${ia} ${n}`)),i}(e,n),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}let o={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:io,appId:e.appId}})},a=await im(()=>fetch(i,o));if(a.ok)return iu(await a.json());throw await id("Generate Auth Token",a)}async function iO(e,t=!1){let n,i=await iI(e.appConfig,i=>{var r,s,o;let a;if(!iq(i))throw il.create("not-registered");let l=i.authToken;if(!t&&2===(r=l).requestStatus&&(s=r,!((a=Date.now())<s.creationTime)&&!(s.creationTime+s.expiresIn<a+36e5)))return i;if(1===l.requestStatus)return n=iL(e,t),i;{let t;if(!navigator.onLine)throw il.create("app-offline");let r=(o=i,t={requestStatus:1,requestTime:Date.now()},{...o,authToken:t});return n=iV(e,r),r}});return n?await n:i.authToken}async function iL(e,t){let n=await iF(e.appConfig);for(;1===n.authToken.requestStatus;)await iy(100),n=await iF(e.appConfig);let i=n.authToken;return 0===i.requestStatus?iO(e,t):i}function iF(e){return iI(e,e=>{var t;if(!iq(e))throw il.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?{...e,authToken:{requestStatus:0}}:e})}async function iV(e,t){try{let n=await iD(e,t),i={...t,authToken:n};return await iE(e.appConfig,i),n}catch(n){if(ih(n)&&(401===n.customData.serverCode||404===n.customData.serverCode))await iN(e.appConfig);else{let n={...t,authToken:{requestStatus:0}};await iE(e.appConfig,n)}throw n}}function iq(e){return void 0!==e&&2===e.registrationStatus}async function iz(e){let{installationEntry:t,registrationPromise:n}=await iP(e);return n?n.catch(console.error):iO(e).catch(console.error),t.fid}async function iB(e,t=!1){return await iW(e),(await iO(e,t)).token}async function iW(e){let{registrationPromise:t}=await iP(e);t&&await t}function i$(e){return il.create("missing-app-config-values",{valueName:e})}let iU="installations";nL(new ni(iU,e=>{let t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw i$("App Configuration");if(!e.name)throw i$("App Name");for(let t of["projectId","apiKey","appId"])if(!e.options[t])throw i$(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),i=nF(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},"PUBLIC")),nL(new ni("installations-internal",e=>{let t=nF(e.getProvider("app").getImmediate(),iU).getImmediate();return{getId:()=>iz(t),getToken:e=>iB(t,e)}},"PRIVATE")),n0(ir,is),n0(ir,is,"esm2020");let iH="analytics",iK="https://www.googletagmanager.com/gtag/js",iY=new nd("@firebase/analytics"),iG=new tY("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function iX(e){if(!e.startsWith(iK)){let t=iG.create("invalid-gtag-resource",{gtagURL:e});return iY.warn(t.message),""}return e}function iQ(e){return Promise.all(e.map(e=>e.catch(e=>e)))}async function iZ(e,t,n,i,r,s){let o=i[r];try{if(o)await t[o];else{let e=(await iQ(n)).find(e=>e.measurementId===r);e&&await t[e.appId]}}catch(e){iY.error(e)}e("config",r,s)}async function iJ(e,t,n,i,r){try{let s=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);let i=await iQ(n);for(let n of e){let e=i.find(e=>e.measurementId===n),r=e&&t[e.appId];if(r)s.push(r);else{s=[];break}}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",i,r||{})}catch(e){iY.error(e)}}let i0=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};async function i1(e){let{appId:t,apiKey:n}=e,i={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":n})},r="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),s=await fetch(r,i);if(200!==s.status&&304!==s.status){let e="";try{let t=await s.json();t.error?.message&&(e=t.error.message)}catch(e){}throw iG.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}async function i2(e,t=i0,n){let{appId:i,apiKey:r,measurementId:s}=e.options;if(!i)throw iG.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw iG.create("no-api-key")}let o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new i5;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),i3({appId:i,apiKey:r,measurementId:s},o,a,t)}async function i3(e,{throttleEndTimeMillis:t,backoffCount:n},i,r=i0){let{appId:s,measurementId:o}=e;try{var a,l;await (a=i,l=t,new Promise((e,t)=>{let n=setTimeout(e,Math.max(l-Date.now(),0));a.addEventListener(()=>{clearTimeout(n),t(iG.create("fetch-throttle",{throttleEndTimeMillis:l}))})}))}catch(e){if(o)return iY.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${e?.message}]`),{appId:s,measurementId:o};throw e}try{let t=await i1(e);return r.deleteThrottleMetadata(s),t}catch(l){if(!function(e){if(!(e instanceof tK)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l)){if(r.deleteThrottleMetadata(s),o)return iY.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:o};throw l}let t=503===Number(l?.customData?.httpStatus)?nt(n,r.intervalMillis,30):nt(n,r.intervalMillis),a={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return r.setThrottleMetadata(s,a),iY.debug(`Calling attemptFetch again in ${t} millis`),i3(e,a,i,r)}}class i5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function i4(e,t,n,i,r){if(r&&r.global)return void e("event",n,i);{let r=await t;e("event",n,{...i,send_to:r})}}async function i6(e,t,n,i){if(i&&i.global){let t={};for(let e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}async function i8(){if(!tU())return iY.warn(iG.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await tH()}catch(e){return iY.warn(iG.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0}async function i9(e,t,n,s,o,a,l){var h,c;let u,d,p,m,f=i2(e);f.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&iY.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>iY.error(e)),t.push(f);let g=i8().then(e=>e?s.getId():void 0),[y,v]=await Promise.all([f,g]);!function(e){for(let t of Object.values(window.document.getElementsByTagName("script")))if(t.src&&t.src.includes(iK)&&t.src.includes(e))return t;return null}(a)&&(h=y.measurementId,c={createScriptURL:iX},window.trustedTypes&&(u=window.trustedTypes.createPolicy("firebase-js-sdk-policy",c)),d=u,p=document.createElement("script"),m=`${iK}?l=${a}&id=${h}`,p.src=d?d?.createScriptURL(m):m,p.async=!0,document.head.appendChild(p)),r&&(o("consent","default",r),r=void 0),o("js",new Date);let _=l?.config??{};return _.origin="firebase",_.update=!0,null!=v&&(_.firebase_id=v),o("config",y.measurementId,_),i&&(o("set",i),i=void 0),y.measurementId}class i7{constructor(e){this.app=e}_delete(){return delete re[this.app.options.appId],Promise.resolve()}}let re={},rt=[],rn={},ri="dataLayer",rr=!1,rs="@firebase/analytics",ro="0.10.19";nL(new ni(iH,(e,{options:t})=>(function(e,t,n){let i,r=[];if("object"==typeof(i="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==i.id&&r.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled&&1||r.push("Cookies are not available."),r.length>0){let e=r.map((e,t)=>`(${t+1}) ${e}`).join(" "),t=iG.create("invalid-analytics-context",{errorInfo:e});iY.warn(t.message)}let a=e.options.appId;if(!a)throw iG.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)iY.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw iG.create("no-api-key");if(null!=re[a])throw iG.create("already-exists",{id:a});if(!rr){var l,h;let e,t;e=[],Array.isArray(window[ri])?e=window[ri]:window[ri]=e;let{wrappedGtag:n,gtagCore:i}=(l="gtag",t=function(){window[ri].push(arguments)},window[l]&&"function"==typeof window[l]&&(t=window[l]),window[l]=(h=t,async function(e,...t){try{if("event"===e){let[e,n]=t;await iJ(h,re,rt,e,n)}else if("config"===e){let[e,n]=t;await iZ(h,re,rt,rn,e,n)}else if("consent"===e){let[e,n]=t;h("consent",e,n)}else if("get"===e){let[e,n,i]=t;h("get",e,n,i)}else if("set"===e){let[e]=t;h("set",e)}else h(e,...t)}catch(e){iY.error(e)}}),{gtagCore:t,wrappedGtag:window[l]});o=n,s=i,rr=!0}return re[a]=i9(e,rt,rn,t,s,ri,n),new i7(e)})(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),nL(new ni("analytics-internal",function(e){try{let t=e.getProvider(iH).getImmediate();return{logEvent:(e,n,i)=>{var r;return r=t,void(r=nn(r),i4(o,re[r.app.options.appId],e,n,i).catch(e=>iY.error(e)))},setUserProperties:(e,n)=>{var i;return i=t,void(i=nn(i),i6(o,re[i.app.options.appId],e,n).catch(e=>iY.error(e)))}}}catch(e){throw iG.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),n0(rs,ro),n0(rs,ro,"esm2020");let ra=nZ().length?nQ():nG({apiKey:"AIzaSyCawe3h5jA3cDE6qjFtfo1r0NMAMbMb5Ao",authDomain:"vnr202-group8.firebaseapp.com",databaseURL:"https://vnr202-group8-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"vnr202-group8",storageBucket:"vnr202-group8.firebasestorage.app",messagingSenderId:"924463161606",appId:"1:924463161606:web:2cb2f87a51b00656247e87",measurementId:"G-10GPZZ7V1L"});!function(e=nQ()){let t=nF(e=nn(e),iH);t.isInitialized()?t.getImmediate():function(e,t={}){let n=nF(e,iH);if(n.isInitialized()){if(n.getImmediate(),t4(t,n.getOptions()))return;throw iG.create("already-initialized")}n.initialize({options:t})}(e)}(ra);let rl="@firebase/database",rh="1.1.0",rc="";class ru{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tQ(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:tX(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class rd{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return t1(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}let rp=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ru(t)}}catch(e){}return new rd},rm=rp("localStorage"),rf=rp("sessionStorage"),rg=new nd("@firebase/database"),ry=(b=1,function(){return b++}),rv=function(e){let t=t7(e),n=new t8;n.update(t);let i=n.digest();return tP.encodeByteArray(i)},r_=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=r_.apply(null,i):"object"==typeof i?t+=tQ(i):t+=i,t+=" "}return t},rb=null,rx=!0,rw=function(e,t){tS(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(rg.logLevel=L.VERBOSE,rb=rg.log.bind(rg),t&&rf.set("logging_enabled",!0)):"function"==typeof e?rb=e:(rb=null,rf.remove("logging_enabled"))},rC=function(...e){if(!0===rx&&(rx=!1,null===rb&&!0===rf.get("logging_enabled")&&rw(!0)),rb){let t=r_.apply(null,e);rb(t)}},rk=function(e){return function(...t){rC(e,...t)}},rT=function(...e){let t="FIREBASE INTERNAL ERROR: "+r_(...e);rg.error(t)},rS=function(...e){let t=`FIREBASE FATAL ERROR: ${r_(...e)}`;throw rg.error(t),Error(t)},rE=function(...e){let t="FIREBASE WARNING: "+r_(...e);rg.warn(t)},rN=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rE("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},rI=function(e){return"number"==typeof e&&(e!=e||e===1/0||e===-1/0)},rP=function(e){if(t$()||"complete"===document.readyState)e();else{let t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},rj="[MIN_NAME]",rR="[MAX_NAME]",rA=function(e,t){if(e===t)return 0;{if(e===rj||t===rR)return -1;if(t===rj||e===rR)return 1;let n=rz(e),i=rz(t);if(null!==n)if(null!==i)return n-i==0?e.length-t.length:n-i;else return -1;return null!==i?1:e<t?-1:1}},rM=function(e,t){return e===t?0:e<t?-1:1},rD=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+tQ(t))},rO=function(e){if("object"!=typeof e||null===e)return tQ(e);let t=[];for(let n in e)t.push(n);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=tQ(t[i]),n+=":",n+=rO(e[t[i]]);return n+"}"},rL=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function rF(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}let rV=function(e){let t,n,i,r,s;tS(!rI(e),"Invalid JSON number");0===e?(n=0,i=0,t=+(1/e==-1/0)):(t=e<0,(e=Math.abs(e))>=22250738585072014e-324?(n=(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,i=Math.round(e*Math.pow(2,52-r)-0x10000000000000)):(n=0,i=Math.round(e/5e-324)));let o=[];for(s=52;s;s-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(+!!t),o.reverse();let a=o.join(""),l="";for(s=0;s<64;s+=8){let e=parseInt(a.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},rq=RegExp("^-?(0*)\\d{1,10}$"),rz=function(e){if(rq.test(e)){let t=Number(e);if(t>=-0x80000000&&t<=0x7fffffff)return t}return null},rB=function(e){try{e()}catch(e){setTimeout(()=>{throw rE("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},rW=function(e,t){let n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class r${constructor(e,t){this.appCheckProvider=t,this.appName=e.name,nB(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){rE(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class rU{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(rC("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rE(e)}}class rH{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}rH.OWNER="owner";let rK=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rY="websocket",rG="long_polling";class rX{constructor(e,t,n,i,r=!1,s="",o=!1,a=!1,l=null){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function rQ(e,t,n){let i;if(tS("string"==typeof t,"typeof type must == string"),tS("object"==typeof n,"typeof params must == object"),t===rY)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===rG)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw Error("Unknown connection type: "+t);(e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(n.ns=e.namespace);let r=[];return rF(n,(e,t)=>{r.push(e+"="+t)}),i+r.join("&")}class rZ{constructor(){this.counters_={}}incrementCounter(e,t=1){t1(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return function e(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(let i in n)n.hasOwnProperty(i)&&"__proto__"!==i&&(t[i]=e(t[i],n[i]));return t}(void 0,this.counters_)}}let rJ={},r0={};function r1(e){let t=e.toString();return rJ[t]||(rJ[t]=new rZ),rJ[t]}class r2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&rB(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}let r3="start";class r5{constructor(e,t,n,i,r,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rk(e),this.stats_=r1(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),rQ(t,rG,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new r2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),rP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new r4((...e)=>{let[t,n,i,r,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===r3)this.id=n,this.password=i;else if("close"===t)n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+t)},(...e)=>{let[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);let e={};e[r3]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&rK.test(location.hostname)&&(e.r="f");let t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){r5.forceAllow_=!0}static forceDisallow(){r5.forceDisallow_=!0}static isAvailable(){return!t$()&&(!!r5.forceAllow_||!r5.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&("object"!=typeof Windows||"object"!=typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=tQ(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=rL(tR(t),1840);for(let e=0;e<n.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(t$())return;this.myDisconnFrame=document.createElement("iframe");let n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=tQ(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class r4{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,t$())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=ry(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=r4.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";</script>');const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(e){rC("frame writing exception"),e.stack&&rC(e.stack),rC(e)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||rC("No IE domain setting required")}catch(t){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;)if(this.pendingSegs[0].d.length+30+n.length<=1870){let e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}else break;return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),n()})}addTag(e,t){t$()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){let e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{rC("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}}let r6=null;"undefined"!=typeof MozWebSocket?r6=MozWebSocket:"undefined"!=typeof WebSocket&&(r6=WebSocket);class r8{constructor(e,t,n,i,r,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rk(this.connId),this.stats_=r1(t),this.connURL=r8.connectionURL_(t,s,o,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){let s={};return s.v="5",!t$()&&"undefined"!=typeof location&&location.hostname&&rK.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),i&&(s.ac=i),r&&(s.p=r),rQ(e,rY,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rm.set("previous_websocket_failure",!0);try{let e;if(t$()){let t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/5/${rc}/${tT.default.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);let n=tT.default.env,i=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;i&&(e.proxy={origin:i})}this.mySock=new r6(this.connURL,[],e)}catch(t){this.log_("Error instantiating WebSocket.");let e=t.message||t.data;e&&this.log_(e),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");let t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){r8.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==r6&&!r8.forceDisallow_}static previouslyFailed(){return rm.isInMemoryStorage||!0===rm.get("previous_websocket_failure")}markConnectionHealthy(){rm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let e=this.frames.join("");this.frames=null;let t=tX(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(tS(null===this.frames,"We already have a frame buffer"),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{let e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();let t=tQ(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=rL(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}r8.responsesRequiredToBeHealthy=2,r8.healthyTimeout=3e4;class r9{static get ALL_TRANSPORTS(){return[r5,r8]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){let t=r8&&r8.isAvailable(),n=t&&!r8.previouslyFailed();if(e.webSocketOnly&&(t||rE("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[r8];else{let e=this.transports_=[];for(let t of r9.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);r9.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}r9.globalTransportInitialized_=!1;class r7{constructor(e,t,n,i,r,s,o,a,l,h){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rk("c:"+this.id+":"),this.transportManager_=new r9(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=rW(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){let t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=rD("t",e),n=rD("d",e);if("c"===t)this.onSecondaryControl_(n);else if("d"===t)this.pendingDataMessages.push(n);else throw Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=rD("t",e),n=rD("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=rD("t",e);if("d"in e){let n=e.d;if("h"===t){let e={...n};this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?rT("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rT("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&rE("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),rW(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rW(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class se{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class st{constructor(e){this.allowedEvents_=e,this.listeners_={},tS(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});let i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let e=0;e<i.length;e++)if(i[e].callback===t&&(!n||n===i[e].context))return void i.splice(e,1)}validateEventType_(e){tS(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class sn extends st{static getInstance(){return new sn}constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||tB()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return tS("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class si{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function sr(){return new si("")}function ss(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function so(e){return e.pieces_.length-e.pieceNum_}function sa(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new si(e.pieces_,t)}function sl(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function sh(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function sc(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new si(t,0)}function su(e,t){let n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof si)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{let e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new si(n,0)}function sd(e){return e.pieceNum_>=e.pieces_.length}function sp(e,t){let n=ss(e),i=ss(t);if(null===n)return t;if(n===i)return sp(sa(e),sa(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function sm(e,t){let n=sh(e,0),i=sh(t,0);for(let e=0;e<n.length&&e<i.length;e++){let t=rA(n[e],i[e]);if(0!==t)return t}return n.length===i.length?0:n.length<i.length?-1:1}function sf(e,t){if(so(e)!==so(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function sg(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(so(e)>so(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class sy{constructor(e,t){this.errorPrefix_=t,this.parts_=sh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=ne(this.parts_[e]);sv(this)}}function sv(e){if(e.byteLength_>768)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+s_(e))}function s_(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class sb extends st{static getInstance(){return new sb}constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return tS("visible"===e,"Unknown event type: "+e),[this.visible_]}}class sx extends se{constructor(e,t,n,i,r,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=sx.nextPersistentConnectionId_++,this.log_=rk("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!t$())throw Error("Auth override specified in options, but not supported on non Node.js platforms");sb.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&sn.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){let i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(tQ(r)),tS(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();let t=new tL,n={p:e._path.toString(),q:e._queryObject};this.outstandingGets_.push({action:"g",request:n,onComplete:e=>{let n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}}),this.outstandingGetCount_++;let i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();let r=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),tS(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),tS(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");let o={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(s).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){let t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);let r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,r=>{let s=r.d,o=r.s;sx.warnOnListenWarnings_(s,t),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",r),"ok"!==o&&this.removeListen_(n,i),e.onComplete&&e.onComplete(o,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&t1(e,"w")){let n=t2(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){let e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();rE(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||t0(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=tJ(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{let n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){let n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),tS(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);let r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){let r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,e=>{i&&setTimeout(()=>{i(e.s,e.d)},Math.floor(0))})}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();let s={p:t,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;let o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){let t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tQ(e));let t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):rT("Unrecognized action received from server: "+tQ(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){tS(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+sx.nextConnectionId_++,r=this.lastSessionId,s=!1,o=null,a=function(){o?o.close():(s=!0,n())};this.realtime_={close:a,sendRequest:function(e){tS(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)}};let l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[a,h]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);s?rC("getToken() completed but was canceled"):(rC("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=h&&h.token,o=new r7(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{rE(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},r))}catch(e){this.log_("Failed to get token: "+e),s||(this.repoInfo_.nodeAdmin&&rE(e),a())}}}interrupt(e){rC("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){rC("Resuming connection for reason: "+e),delete this.interruptReasons_[e],t3(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>rO(e)).join("$"):"default";let i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){let n,i=new si(e).toString();if(this.listens.has(i)){let e=this.listens.get(i);n=e.get(t),e.delete(t),0===e.size&&this.listens.delete(i)}else n=void 0;return n}onAuthRevoked_(e,t){rC("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){rC("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let e of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t="js";t$()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+rc.replace(/\./g,"-")]=1,tB()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=sn.getInstance().currentlyOnline();return t3(this.interruptReasons_)&&e}}sx.nextPersistentConnectionId_=0,sx.nextConnectionId_=0;class sw{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new sw(e,t)}}class sC{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let n=new sw(rj,e),i=new sw(rj,t);return 0!==this.compare(n,i)}minPost(){return sw.MIN}}class sk extends sC{static get __EMPTY_NODE(){return a}static set __EMPTY_NODE(e){a=e}compare(e,t){return rA(e.name,t.name)}isDefinedOn(e){throw tE("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return sw.MIN}maxPost(){return new sw(rR,a)}makePost(e,t){return tS("string"==typeof e,"KeyIndex indexValue must always be a string."),new sw(e,a)}toString(){return".key"}}let sT=new sk;class sS{constructor(e,t,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else if(0===s){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}getNext(){let e;if(0===this.nodeStack_.length)return null;let t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class sE{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:sE.RED,this.left=null!=i?i:sN.EMPTY_NODE,this.right=null!=r?r:sN.EMPTY_NODE}copy(e,t,n,i,r){return new sE(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this,r=n(e,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()}removeMin_(){if(this.left.isEmpty())return sN.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}remove(e,t){let n,i;if(n=this,0>t(e,n.key))n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key))if(n.right.isEmpty())return sN.EMPTY_NODE;else i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_());n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,sE.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,sE.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){return Math.pow(2,this.check_())<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e===this.right.check_())return e+ +!this.isRed_();throw Error("Black depths differ")}}sE.RED=!0,sE.BLACK=!1;class sN{constructor(e,t=sN.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new sN(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,sE.BLACK,null,null))}remove(e){return new sN(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,sE.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))if(n.left.isEmpty())if(i)return i.key;else return null;else{for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new sS(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new sS(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new sS(this.root_,null,this.comparator_,!0,e)}}function sI(e,t){return rA(e.name,t.name)}function sP(e,t){return rA(e,t)}sN.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new sE(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};let sj=function(e){return"number"==typeof e?"number:"+rV(e):"string:"+e},sR=function(e){if(e.isLeafNode()){let t=e.val();tS("string"==typeof t||"number"==typeof t||"object"==typeof t&&t1(t,".sv"),"Priority must be a string or number.")}else tS(e===l||e.isEmpty(),"priority of unexpected type.");tS(e===l||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};class sA{static set __childrenNodeConstructor(e){h=e}static get __childrenNodeConstructor(){return h}constructor(e,t=sA.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,tS(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),sR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sA(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:sA.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return sd(e)?this:".priority"===ss(e)?this.priorityNode_:sA.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:sA.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){let n=ss(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(tS(".priority"!==n||1===so(e),".priority must be the last token in a path"),this.updateImmediateChild(n,sA.__childrenNodeConstructor.EMPTY_NODE.updateChild(sa(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sj(this.priorityNode_.val())+":");let t=typeof this.value_;e+=t+":","number"===t?e+=rV(this.value_):e+=this.value_,this.lazyHash_=rv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sA.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sA.__childrenNodeConstructor?-1:(tS(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let t=typeof e.value_,n=typeof this.value_,i=sA.VALUE_TYPE_ORDER.indexOf(t),r=sA.VALUE_TYPE_ORDER.indexOf(n);return(tS(i>=0,"Unknown leaf type: "+t),tS(r>=0,"Unknown leaf type: "+n),i!==r)?r-i:"object"===n?0:this.value_<e.value_?-1:1*(this.value_!==e.value_)}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}}sA.VALUE_TYPE_ORDER=["object","boolean","number","string"];let sM=new class extends sC{compare(e,t){let n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?rA(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return sw.MIN}maxPost(){return new sw(rR,new sA("[PRIORITY-POST]",u))}makePost(e,t){return new sw(t,new sA("[PRIORITY-POST]",c(e)))}toString(){return".priority"}},sD=Math.log(2);class sO{constructor(e){this.count=parseInt(Math.log(e+1)/sD,10),this.current_=this.count-1;const t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}}let sL=function(e,t,n,i){e.sort(t);let r=function(t,i){let s,o=i-t;if(0===o)return null;if(1===o)return s=e[t],new sE(n?n(s):s,s.node,sE.BLACK,null,null);{let a=parseInt(o/2,10)+t,l=r(t,a),h=r(a+1,i);return s=e[a],new sE(n?n(s):s,s.node,sE.BLACK,l,h)}};return new sN(i||t,function(t){let i=null,s=null,o=e.length,a=function(t,i){let s=o-t,a=o;o-=t;let h=r(s+1,a),c=e[s];l(new sE(n?n(c):c,c.node,i,null,h))},l=function(e){i?i.left=e:s=e,i=e};for(let e=0;e<t.count;++e){let n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,sE.BLACK):(a(i,sE.BLACK),a(i,sE.RED))}return s}(new sO(e.length)))},sF={};class sV{static get Default(){return tS(sF&&sM,"ChildrenNode.ts has not been loaded"),d=d||new sV({".priority":sF},{".priority":sM})}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){let t=t2(this.indexes_,e);if(!t)throw Error("No index defined for "+e);return t instanceof sN?t:null}hasIndex(e){return t1(this.indexSet_,e.toString())}addIndex(e,t){let n;tS(e!==sT,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,s=t.getIterator(sw.Wrap),o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();n=r?sL(i,e.getCompare()):sF;let a=e.toString(),l={...this.indexSet_};l[a]=e;let h={...this.indexes_};return h[a]=n,new sV(h,l)}addToIndexes(e,t){return new sV(t5(this.indexes_,(n,i)=>{let r=t2(this.indexSet_,i);if(tS(r,"Missing index implementation for "+i),n===sF)if(!r.isDefinedOn(e.node))return sF;else{let n=[],i=t.getIterator(sw.Wrap),s=i.getNext();for(;s;)s.name!==e.name&&n.push(s),s=i.getNext();return n.push(e),sL(n,r.getCompare())}{let i=t.get(e.name),r=n;return i&&(r=r.remove(new sw(e.name,i))),r.insert(e,e.node)}}),this.indexSet_)}removeFromIndexes(e,t){return new sV(t5(this.indexes_,n=>{if(n===sF)return n;{let i=t.get(e.name);return i?n.remove(new sw(e.name,i)):n}}),this.indexSet_)}}class sq{static get EMPTY_NODE(){return p||(p=new sq(new sN(sP),null,sV.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&sR(this.priorityNode_),this.children_.isEmpty()&&tS(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||p}updatePriority(e){return this.children_.isEmpty()?this:new sq(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{let t=this.children_.get(e);return null===t?p:t}}getChild(e){let t=ss(e);return null===t?this:this.getImmediateChild(t).getChild(sa(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(tS(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{let n,i,r=new sw(e,t);t.isEmpty()?(n=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(n=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(r,this.children_));let s=n.isEmpty()?p:this.priorityNode_;return new sq(n,s,i)}}updateChild(e,t){let n=ss(e);if(null===n)return t;{tS(".priority"!==ss(e)||1===so(e),".priority must be the last token in a path");let i=this.getImmediateChild(n).updateChild(sa(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let t={},n=0,i=0,r=!0;if(this.forEachChild(sM,(s,o)=>{t[s]=o.val(e),n++,r&&sq.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):r=!1}),e||!r||!(i<2*n))return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t;{let e=[];for(let n in t)e[n]=t[n];return e}}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sj(this.getPriority().val())+":"),this.forEachChild(sM,(t,n)=>{let i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":rv(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){let i=this.resolveIndex_(n);if(!i)return this.children_.getPredecessorKey(e);{let n=i.getPredecessorKey(new sw(e,t));return n?n.name:null}}getFirstChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.minKey();{let e=t.minKey();return e&&e.name}}getFirstChild(e){let t=this.getFirstChildName(e);return t?new sw(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.maxKey();{let e=t.maxKey();return e&&e.name}}getLastChild(e){let t=this.getLastChildName(e);return t?new sw(t,this.children_.get(t)):null}forEachChild(e,t){let n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{let n=this.children_.getIteratorFrom(e.name,sw.Wrap),i=n.peek();for(;null!=i&&0>t.compare(i,e);)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{let n=this.children_.getReverseIteratorFrom(e.name,sw.Wrap),i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){if(this.isEmpty())if(e.isEmpty())return 0;else return -1;return e.isLeafNode()||e.isEmpty()?1:e===sz?-1:0}withIndex(e){if(e===sT||this.indexMap_.hasIndex(e))return this;{let t=this.indexMap_.addIndex(e,this.children_);return new sq(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===sT||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode()||!this.getPriority().equals(e.getPriority()))return!1;if(this.children_.count()!==e.children_.count())return!1;{let t=this.getIterator(sM),n=e.getIterator(sM),i=t.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=t.getNext(),r=n.getNext()}return null===i&&null===r}}resolveIndex_(e){return e===sT?null:this.indexMap_.get(e.toString())}}sq.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;let sz=new class extends sq{constructor(){super(new sN(sP),sq.EMPTY_NODE,sV.Default)}compareTo(e){return+(e!==this)}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return sq.EMPTY_NODE}isEmpty(){return!1}};function sB(e,t=null){if(null===e)return sq.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),tS(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new sA(e,sB(t));if(e instanceof Array){let n=sq.EMPTY_NODE;return rF(e,(t,i)=>{if(t1(e,t)&&"."!==t.substring(0,1)){let e=sB(i);(e.isLeafNode()||!e.isEmpty())&&(n=n.updateImmediateChild(t,e))}}),n.updatePriority(sB(t))}{let n=[],i=!1;if(rF(e,(e,t)=>{if("."!==e.substring(0,1)){let r=sB(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new sw(e,r)))}}),0===n.length)return sq.EMPTY_NODE;let r=sL(n,sI,e=>e.name,sP);if(!i)return new sq(r,sB(t),sV.Default);{let e=sL(n,sM.getCompare());return new sq(r,sB(t),new sV({".priority":e},{".priority":sM}))}}}Object.defineProperties(sw,{MIN:{value:new sw(rj,sq.EMPTY_NODE)},MAX:{value:new sw(rR,sz)}}),sk.__EMPTY_NODE=sq.EMPTY_NODE,sA.__childrenNodeConstructor=sq,l=sz,u=sz,c=sB;class sW extends sC{constructor(e){super(),this.indexPath_=e,tS(!sd(e)&&".priority"!==ss(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?rA(e.name,t.name):r}makePost(e,t){let n=sB(e);return new sw(t,sq.EMPTY_NODE.updateChild(this.indexPath_,n))}maxPost(){return new sw(rR,sq.EMPTY_NODE.updateChild(this.indexPath_,sz))}toString(){return sh(this.indexPath_,0).join("/")}}let s$=new class extends sC{compare(e,t){let n=e.node.compareTo(t.node);return 0===n?rA(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return sw.MIN}maxPost(){return sw.MAX}makePost(e,t){return new sw(t,sB(e))}toString(){return".value"}};function sU(e){return{type:"value",snapshotNode:e}}function sH(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function sK(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function sY(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class sG{constructor(e){this.index_=e}updateChild(e,t,n,i,r,s){tS(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let o=e.getImmediateChild(t);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()||(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(sK(t,o)):tS(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(sH(t,n)):s.trackChildChange(sY(t,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(sM,(e,i)=>{t.hasChild(e)||n.trackChildChange(sK(e,i))}),t.isLeafNode()||t.forEachChild(sM,(t,i)=>{if(e.hasChild(t)){let r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(sY(t,i,r))}else n.trackChildChange(sH(t,i))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?sq.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sX{constructor(e){this.indexedFilter_=new sG(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sX.getStartPost_(e),this.endPost_=sX.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),e):0>this.index_.compare(this.getStartPost(),e),n=this.endIsInclusive_?0>=this.index_.compare(e,this.getEndPost()):0>this.index_.compare(e,this.getEndPost());return t&&n}updateChild(e,t,n,i,r,s){return this.matches(new sw(t,n))||(n=sq.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=sq.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(sq.EMPTY_NODE);let r=this;return t.forEachChild(sM,(e,t)=>{r.matches(new sw(e,t))||(i=i.updateImmediateChild(e,sq.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(!e.hasStart())return e.getIndex().minPost();{let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}}static getEndPost_(e){if(!e.hasEnd())return e.getIndex().maxPost();{let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}}}class sQ{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{let t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new sX(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,s){return(this.rangedFilter_.matches(new sw(t,n))||(n=sq.EMPTY_NODE),e.getImmediateChild(t).equals(n))?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,s):this.fullLimitUpdateChild_(e,t,n,r,s)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=sq.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=sq.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){let t=e.getNext();if(this.withinDirectionalStart(t))if(this.withinDirectionalEnd(t))i=i.updateImmediateChild(t.name,t.node),n++;else break}}else{let e;i=(i=t.withIndex(this.index_)).updatePriority(sq.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){let t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,sq.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let s;if(this.reverse_){let e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();tS(e.numChildren()===this.limit_,"");let o=new sw(t,n),a=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),l=this.rangedFilter_.matches(o);if(e.hasChild(t)){let h=e.getImmediateChild(t),c=i.getChildAfterChild(this.index_,a,this.reverse_);for(;null!=c&&(c.name===t||e.hasChild(c.name));)c=i.getChildAfterChild(this.index_,c,this.reverse_);let u=null==c?1:s(c,o);if(l&&!n.isEmpty()&&u>=0)return null!=r&&r.trackChildChange(sY(t,n,h)),e.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(sK(t,h));let n=e.updateImmediateChild(t,sq.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=r&&r.trackChildChange(sH(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:l?s(a,o)>=0?(null!=r&&(r.trackChildChange(sK(a.name,a.node)),r.trackChildChange(sH(t,n))),e.updateImmediateChild(t,n).updateImmediateChild(a.name,sq.EMPTY_NODE)):e:e}}class sZ{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sM}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return tS(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(tS(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:rj}hasEnd(){return this.endSet_}getIndexEndValue(){return tS(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(tS(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:rR}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return tS(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sM}copy(){let e=new sZ;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sJ(e){let t,n={};if(e.isDefault())return n;if(e.index_===sM?t="$priority":e.index_===s$?t="$value":e.index_===sT?t="$key":(tS(e.index_ instanceof sW,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=tQ(t),e.startSet_){let t=e.startAfterSet_?"startAfter":"startAt";n[t]=tQ(e.indexStartValue_),e.startNameSet_&&(n[t]+=","+tQ(e.indexStartName_))}if(e.endSet_){let t=e.endBeforeSet_?"endBefore":"endAt";n[t]=tQ(e.indexEndValue_),e.endNameSet_&&(n[t]+=","+tQ(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function s0(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==sM&&(t.i=e.index_.toString()),t}class s1 extends se{reportStats(e){throw Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(tS(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=rk("p:rest:"),this.listens_={}}listen(e,t,n,i){let r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);let s=s1.getListenId_(e,n),o={};this.listens_[s]=o;let a=sJ(e._queryParams);this.restRequest_(r+".json",a,(e,t)=>{let a=t;(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(r,a,!1,n),t2(this.listens_,s)===o)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}unlisten(e,t){let n=s1.getListenId_(e,t);delete this.listens_[n]}get(e){let t=sJ(e._queryParams),n=e._path.toString(),i=new tL;return this.restRequest_(n+".json",t,(e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(Error(r))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(t.auth=i.accessToken),r&&r.token&&(t.ac=r.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){let t=[];for(let[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+s);let o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=tX(o.responseText)}catch(e){rE("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&rE("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class s2{constructor(){this.rootNode_=sq.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function s3(){return{value:null,children:new Map}}function s5(e,t,n){var i,r;null!==e.value?n(t,e.value):(i=e,r=(e,i)=>{s5(i,new si(t.toString()+"/"+e),n)},i.children.forEach((e,t)=>{r(t,e)}))}class s4{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t={...e};return this.last_&&rF(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class s6{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new s4(e);const n=1e4+2e4*Math.random();rW(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){let e=this.statsListener_.get(),t={},n=!1;rF(e,(e,i)=>{i>0&&t1(this.statsToReport_,e)&&(t[e]=i,n=!0)}),n&&this.server_.reportStats(t),rW(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}function s8(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function s9(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function s7(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(N=F||(F={}))[N.OVERWRITE=0]="OVERWRITE",N[N.MERGE=1]="MERGE",N[N.ACK_USER_WRITE=2]="ACK_USER_WRITE",N[N.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class oe{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=F.ACK_USER_WRITE,this.source=s8()}operationForChild(e){if(!sd(this.path))return tS(ss(this.path)===e,"operationForChild called for unrelated child."),new oe(sa(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return tS(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new si(e));return new oe(sr(),t,this.revert)}}}class ot{constructor(e,t){this.source=e,this.path=t,this.type=F.LISTEN_COMPLETE}operationForChild(e){return sd(this.path)?new ot(this.source,sr()):new ot(this.source,sa(this.path))}}class on{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=F.OVERWRITE}operationForChild(e){return sd(this.path)?new on(this.source,sr(),this.snap.getImmediateChild(e)):new on(this.source,sa(this.path),this.snap)}}class oi{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=F.MERGE}operationForChild(e){if(!sd(this.path))return tS(ss(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new oi(this.source,sa(this.path),this.children);{let t=this.children.subtree(new si(e));return t.isEmpty()?null:t.value?new on(this.source,sr(),t.value):new oi(this.source,sr(),t)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class or{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(sd(e))return this.isFullyInitialized()&&!this.filtered_;let t=ss(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class os{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function oo(e,t,n,i,r,s){let o=i.filter(e=>e.type===n);o.sort((t,n)=>(function(e,t,n){if(null==t.childName||null==n.childName)throw tE("Should only compare child_ events.");let i=new sw(t.childName,t.snapshotNode),r=new sw(n.childName,n.snapshotNode);return e.index_.compare(i,r)})(e,t,n)),o.forEach(n=>{var i,o,a;let l=(i=e,o=n,a=s,"value"===o.type||"child_removed"===o.type||(o.prevName=a.getPredecessorChildName(o.childName,o.snapshotNode,i.index_)),o);r.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(l,e.query_))})})}function oa(e,t){return{eventCache:e,serverCache:t}}function ol(e,t,n,i){return oa(new or(t,n,i),e.serverCache)}function oh(e,t,n,i){return oa(e.eventCache,new or(t,n,i))}function oc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ou(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}class od{static fromObject(e){let t=new od(null);return rF(e,(e,n)=>{t=t.set(new si(e),n)}),t}constructor(e,t=(!m&&(m=new sN(rM)),m)){this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:sr(),value:this.value};{if(sd(e))return null;let n=ss(e),i=this.children.get(n);if(null===i)return null;{let r=i.findRootMostMatchingPathAndValue(sa(e),t);return null!=r?{path:su(new si(n),r.path),value:r.value}:null}}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(sd(e))return this;{let t=ss(e),n=this.children.get(t);return null!==n?n.subtree(sa(e)):new od(null)}}set(e,t){if(sd(e))return new od(t,this.children);{let n=ss(e),i=(this.children.get(n)||new od(null)).set(sa(e),t),r=this.children.insert(n,i);return new od(this.value,r)}}remove(e){if(sd(e))if(this.children.isEmpty())return new od(null);else return new od(null,this.children);{let t=ss(e),n=this.children.get(t);if(!n)return this;{let i,r=n.remove(sa(e));return(i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty())?new od(null):new od(this.value,i)}}}get(e){if(sd(e))return this.value;{let t=ss(e),n=this.children.get(t);return n?n.get(sa(e)):null}}setTree(e,t){if(sd(e))return t;{let n,i=ss(e),r=(this.children.get(i)||new od(null)).setTree(sa(e),t);return n=r.isEmpty()?this.children.remove(i):this.children.insert(i,r),new od(this.value,n)}}fold(e){return this.fold_(sr(),e)}fold_(e,t){let n={};return this.children.inorderTraversal((i,r)=>{n[i]=r.fold_(su(e,i),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,sr(),t)}findOnPath_(e,t,n){let i=!!this.value&&n(t,this.value);if(i)return i;{if(sd(e))return null;let i=ss(e),r=this.children.get(i);return r?r.findOnPath_(sa(e),su(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,sr(),t)}foreachOnPath_(e,t,n){if(sd(e))return this;{this.value&&n(t,this.value);let i=ss(e),r=this.children.get(i);return r?r.foreachOnPath_(sa(e),su(t,i),n):new od(null)}}foreach(e){this.foreach_(sr(),e)}foreach_(e,t){this.children.inorderTraversal((n,i)=>{i.foreach_(su(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class op{constructor(e){this.writeTree_=e}static empty(){return new op(new od(null))}}function om(e,t,n){if(sd(t))return new op(new od(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){let r=i.path,s=i.value,o=sp(r,t);return s=s.updateChild(o,n),new op(e.writeTree_.set(r,s))}{let i=new od(n);return new op(e.writeTree_.setTree(t,i))}}}function of(e,t,n){let i=e;return rF(n,(e,n)=>{i=om(i,su(t,e),n)}),i}function og(e,t){return sd(t)?op.empty():new op(e.writeTree_.setTree(t,new od(null)))}function oy(e,t){return null!=ov(e,t)}function ov(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(sp(n.path,t)):null}function o_(e){let t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(sM,(e,n)=>{t.push(new sw(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new sw(e,n.value))}),t}function ob(e,t){if(sd(t))return e;{let n=ov(e,t);return new op(null!=n?new od(n):e.writeTree_.subtree(t))}}function ox(e){return e.writeTree_.isEmpty()}function ow(e,t){return function e(t,n,i){if(null!=n.value)return i.updateChild(t,n.value);{let r=null;return n.children.inorderTraversal((n,s)=>{".priority"===n?(tS(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):i=e(su(t,n),s,i)}),i.getChild(t).isEmpty()||null===r||(i=i.updateChild(su(t,".priority"),r)),i}}(sr(),e.writeTree_,t)}function oC(e){return e.visible}function ok(e,t,n){let i=op.empty();for(let r=0;r<e.length;++r){let s=e[r];if(t(s)){let e,t=s.path;if(s.snap)sg(n,t)?i=om(i,e=sp(n,t),s.snap):sg(t,n)&&(e=sp(t,n),i=om(i,sr(),s.snap.getChild(e)));else if(s.children){if(sg(n,t))i=of(i,e=sp(n,t),s.children);else if(sg(t,n))if(sd(e=sp(t,n)))i=of(i,sr(),s.children);else{let t=t2(s.children,ss(e));if(t){let n=t.getChild(sa(e));i=om(i,sr(),n)}}}else throw tE("WriteRecord should have .snap or .children")}}return i}function oT(e,t,n,i,r){if(i||r){let s=ob(e.visibleWrites,t);return!r&&ox(s)?n:r||null!=n||oy(s,sr())?ow(ok(e.allWrites,function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(sg(e.path,t)||sg(t,e.path))},t),n||sq.EMPTY_NODE):null}{let i=ov(e.visibleWrites,t);if(null!=i)return i;{let i=ob(e.visibleWrites,t);return ox(i)?n:null!=n||oy(i,sr())?ow(i,n||sq.EMPTY_NODE):null}}}function oS(e,t,n,i){return oT(e.writeTree,e.treePath,t,n,i)}function oE(e,t){return function(e,t,n){let i=sq.EMPTY_NODE,r=ov(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(sM,(e,t)=>{i=i.updateImmediateChild(e,t)}),i;if(!n)return o_(ob(e.visibleWrites,t)).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i;{let r=ob(e.visibleWrites,t);return n.forEachChild(sM,(e,t)=>{let n=ow(ob(r,new si(e)),t);i=i.updateImmediateChild(e,n)}),o_(r).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}}(e.writeTree,e.treePath,t)}function oN(e,t,n,i){return function(e,t,n,i,r){tS(i||r,"Either existingEventSnap or existingServerSnap must exist");let s=su(t,n);if(oy(e.visibleWrites,s))return null;{let t=ob(e.visibleWrites,s);return ox(t)?r.getChild(n):ow(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function oI(e,t){var n,i;return n=e.writeTree,i=su(e.treePath,t),ov(n.visibleWrites,i)}function oP(e,t,n){var i,r;let s,o;return i=e.writeTree,r=e.treePath,s=su(r,t),null!=(o=ov(i.visibleWrites,s))?o:n.isCompleteForChild(t)?ow(ob(i.visibleWrites,s),n.getNode().getImmediateChild(t)):null}function oj(e,t){return oR(su(e.treePath,t),e.writeTree)}function oR(e,t){return{treePath:e,writeTree:t}}class oA{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,n=e.childName;tS("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),tS(".priority"!==n,"Only non-priority child changes can be tracked.");let i=this.changeMap.get(n);if(i){let r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,sY(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,sK(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,sH(n,e.snapshotNode));else if("child_changed"===t&&"child_changed"===r)this.changeMap.set(n,sY(n,e.snapshotNode,i.oldSnap));else throw tE("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}let oM=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class oD{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let t=null!=this.optCompleteServerCache_?new or(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oP(this.writes_,e,t)}}getChildAfterChild(e,t,n){var i;let r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ou(this.viewCache_),s=(i=this.writes_,function(e,t,n,i,r,s,o){let a,l=ob(e.visibleWrites,t),h=ov(l,sr());if(null!=h)a=h;else{if(null==n)return[];a=ow(l,n)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];{let e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o),r=n.getNext();for(;r&&e.length<1;)0!==t(r,i)&&e.push(r),r=n.getNext();return e}}(i.writeTree,i.treePath,r,t,1,n,e));return 0===s.length?null:s[0]}}function oO(e,t,n,i,r,s){let o=t.eventCache;if(null!=oI(i,n))return t;{let a,l;if(sd(n))if(tS(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let n=ou(t),r=oE(i,n instanceof sq?n:sq.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),r,s)}else{let n=oS(i,ou(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{let h=ss(n);if(".priority"===h){tS(1===so(n),"Can't have a priority with additional path components");let r=o.getNode(),s=oN(i,n,r,l=t.serverCache.getNode());a=null!=s?e.filter.updatePriority(r,s):o.getNode()}else{let c,u=sa(n);if(o.isCompleteForChild(h)){l=t.serverCache.getNode();let e=oN(i,n,o.getNode(),l);c=null!=e?o.getNode().getImmediateChild(h).updateChild(u,e):o.getNode().getImmediateChild(h)}else c=oP(i,h,t.serverCache);a=null!=c?e.filter.updateChild(o.getNode(),h,c,u,r,s):o.getNode()}}return ol(t,a,o.isFullyInitialized()||sd(n),e.filter.filtersNodes())}}function oL(e,t,n,i,r,s,o,a){let l,h=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(sd(n))l=c.updateFullNode(h.getNode(),i,null);else if(c.filtersNodes()&&!h.isFiltered()){let e=h.getNode().updateChild(n,i);l=c.updateFullNode(h.getNode(),e,null)}else{let e=ss(n);if(!h.isCompleteForPath(n)&&so(n)>1)return t;let r=sa(n),s=h.getNode().getImmediateChild(e).updateChild(r,i);l=".priority"===e?c.updatePriority(h.getNode(),s):c.updateChild(h.getNode(),e,s,r,oM,null)}let u=oh(t,l,h.isFullyInitialized()||sd(n),c.filtersNodes()),d=new oD(r,u,s);return oO(e,u,n,r,d,a)}function oF(e,t,n,i,r,s,o){let a,l,h=t.eventCache,c=new oD(r,t,s);if(sd(n))l=e.filter.updateFullNode(t.eventCache.getNode(),i,o),a=ol(t,l,!0,e.filter.filtersNodes());else{let r=ss(n);if(".priority"===r)l=e.filter.updatePriority(t.eventCache.getNode(),i),a=ol(t,l,h.isFullyInitialized(),h.isFiltered());else{let s,l=sa(n),u=h.getNode().getImmediateChild(r);if(sd(l))s=i;else{let e=c.getCompleteChild(r);s=null!=e?".priority"===sl(l)&&e.getChild(sc(l)).isEmpty()?e:e.updateChild(l,i):sq.EMPTY_NODE}a=u.equals(s)?t:ol(t,e.filter.updateChild(h.getNode(),r,s,l,c,o),h.isFullyInitialized(),e.filter.filtersNodes())}}return a}function oV(e,t){return e.eventCache.isCompleteForChild(t)}function oq(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function oz(e,t,n,i,r,s,o,a){let l;if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let h=t;l=sd(n)?i:new od(null).setTree(n,i);let c=t.serverCache.getNode();return l.children.inorderTraversal((n,i)=>{if(c.hasChild(n)){let l=oq(e,t.serverCache.getNode().getImmediateChild(n),i);h=oL(e,h,new si(n),l,r,s,o,a)}}),l.children.inorderTraversal((n,i)=>{let l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!c.hasChild(n)&&!l){let l=oq(e,t.serverCache.getNode().getImmediateChild(n),i);h=oL(e,h,new si(n),l,r,s,o,a)}}),h}class oB{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new sG(n.getIndex()),r=function(e){return e.loadsAllData()?new sG(e.getIndex()):e.hasLimit()?new sQ(e):new sX(e)}(n);this.processor_={filter:r};const s=t.serverCache,o=t.eventCache,a=i.updateFullNode(sq.EMPTY_NODE,s.getNode(),null),l=r.updateFullNode(sq.EMPTY_NODE,o.getNode(),null),h=new or(a,s.isFullyInitialized(),i.filtersNodes()),c=new or(l,o.isFullyInitialized(),r.filtersNodes());this.viewCache_=oa(c,h),this.eventGenerator_=new os(this.query_)}get query(){return this.query_}}function oW(e){return 0===e.eventRegistrations_.length}function o$(e,t,n){let i=[];if(n){tS(null==t,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(e=>{let t=e.createCancelEvent(n,r);t&&i.push(t)})}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){let r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function oU(e,t,n,i){var r,s;t.type===F.MERGE&&null!==t.source.queryId&&(tS(ou(e.viewCache_),"We should always have a full cache before handling merges"),tS(oc(e.viewCache_),"Missing event cache, even though we have a server cache"));let o=e.viewCache_,a=function(e,t,n,i,r){var s,o,a,l,h,c,u,d,p,m,f,g;let y,v,_=new oA;if(n.type===F.OVERWRITE)n.source.fromUser?y=oF(e,t,n.path,n.snap,i,r,_):(tS(n.source.fromServer,"Unknown source."),v=n.source.tagged||t.serverCache.isFiltered()&&!sd(n.path),y=oL(e,t,n.path,n.snap,i,r,v,_));else if(n.type===F.MERGE){let d;n.source.fromUser?(s=e,o=t,a=n.path,l=n.children,h=i,c=r,u=_,d=o,l.foreach((e,t)=>{let n=su(a,e);oV(o,ss(n))&&(d=oF(s,d,n,t,h,c,u))}),l.foreach((e,t)=>{let n=su(a,e);oV(o,ss(n))||(d=oF(s,d,n,t,h,c,u))}),y=d):(tS(n.source.fromServer,"Unknown source."),v=n.source.tagged||t.serverCache.isFiltered(),y=oz(e,t,n.path,n.children,i,r,v,_))}else if(n.type===F.ACK_USER_WRITE)y=n.revert?function(e,t,n,i,r,s){let o;if(null!=oI(i,n))return t;{let a,l=new oD(i,t,r),h=t.eventCache.getNode();if(sd(n)||".priority"===ss(n)){let n;if(t.serverCache.isFullyInitialized())n=oS(i,ou(t));else{let e=t.serverCache.getNode();tS(e instanceof sq,"serverChildren would be complete if leaf node"),n=oE(i,e)}a=e.filter.updateFullNode(h,n,s)}else{let r=ss(n),c=oP(i,r,t.serverCache);null==c&&t.serverCache.isCompleteForChild(r)&&(c=h.getImmediateChild(r)),(a=null!=c?e.filter.updateChild(h,r,c,sa(n),l,s):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(h,r,sq.EMPTY_NODE,sa(n),l,s):h).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=oS(i,ou(t))).isLeafNode()&&(a=e.filter.updateFullNode(a,o,s))}return o=t.serverCache.isFullyInitialized()||null!=oI(i,sr()),ol(t,a,o,e.filter.filtersNodes())}}(e,t,n.path,i,r,_):function(e,t,n,i,r,s,o){if(null!=oI(r,n))return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value)if(sd(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return oL(e,t,n,l.getNode().getChild(n),r,s,a,o);else{if(!sd(n))return t;let i=new od(null);return l.getNode().forEachChild(sT,(e,t)=>{i=i.set(new si(e),t)}),oz(e,t,n,i,r,s,a,o)}{let h=new od(null);return i.foreach((e,t)=>{let i=su(n,e);l.isCompleteForPath(i)&&(h=h.set(e,l.getNode().getChild(i)))}),oz(e,t,n,h,r,s,a,o)}}(e,t,n.path,n.affectedTree,i,r,_);else if(n.type===F.LISTEN_COMPLETE){let r;d=e,p=t,m=n.path,f=i,g=_,r=p.serverCache,y=oO(d,oh(p,r.getNode(),r.isFullyInitialized()||sd(m),r.isFiltered()),m,f,oM,g)}else throw tE("Unknown operation type: "+n.type);let b=_.getChanges();return function(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=oc(e);!(n.length>0)&&e.eventCache.isFullyInitialized()&&(!r||i.getNode().equals(s))&&i.getNode().getPriority().equals(s.getPriority())||n.push(sU(oc(t)))}}(t,y,b),{viewCache:y,changes:b}}(e.processor_,o,t,n,i);return r=e.processor_,tS((s=a.viewCache).eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),tS(s.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed"),tS(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,oH(e,a.changes,a.viewCache.eventCache.getNode(),null)}function oH(e,t,n,i){var r;let s,o,a=i?[i]:e.eventRegistrations_;return r=e.eventGenerator_,s=[],o=[],t.forEach(e=>{var t;"child_changed"===e.type&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((t=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:t}))}),oo(r,s,"child_removed",t,a,n),oo(r,s,"child_added",t,a,n),oo(r,s,"child_moved",o,a,n),oo(r,s,"child_changed",t,a,n),oo(r,s,"value",t,a,n),s}class oK{constructor(){this.views=new Map}}function oY(e,t,n,i){let r=t.source.queryId;if(null!==r){let s=e.views.get(r);return tS(null!=s,"SyncTree gave us an op for an invalid query."),oU(s,t,n,i)}{let r=[];for(let s of e.views.values())r=r.concat(oU(s,t,n,i));return r}}function oG(e,t,n,i,r){let s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=oS(n,r?i:null),s=!1;return e?s=!0:(e=i instanceof sq?oE(n,i):sq.EMPTY_NODE,s=!1),new oB(t,oa(new or(e,s,!1),new or(i,r,!1)))}return o}function oX(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function oQ(e,t){let n=null;for(let i of e.views.values())n=n||function(e,t){let n=ou(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!sd(t)&&!n.getImmediateChild(ss(t)).isEmpty())?n.getChild(t):null}(i,t);return n}function oZ(e,t){if(t._queryParams.loadsAllData())return o0(e);{let n=t._queryIdentifier;return e.views.get(n)}}function oJ(e){return null!=o0(e)}function o0(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let o1=1;class o2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new od(null),this.pendingWriteTree_={visibleWrites:op.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function o3(e,t,n,i,r){var s,o;return(s=e.pendingWriteTree_,o=r,tS(i>s.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),s.allWrites.push({path:t,snap:n,writeId:i,visible:o}),o&&(s.visibleWrites=om(s.visibleWrites,t,n)),s.lastWriteId=i,r)?ae(e,new on(s8(),t,n)):[]}function o5(e,t,n=!1){let i=function(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(!function(e,t){var n;let i=e.allWrites.findIndex(e=>e.writeId===t);tS(i>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[i];e.allWrites.splice(i,1);let s=r.visible,o=!1,a=e.allWrites.length-1;for(;s&&a>=0;){let t=e.allWrites[a];t.visible&&(a>=i&&function(e,t){if(e.snap)return sg(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&sg(su(e.path,n),t))return!0;return!1}(t,r.path)?s=!1:sg(r.path,t.path)&&(o=!0)),a--}return!!s&&(o?((n=e).visibleWrites=ok(n.allWrites,oC,sr()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1):r.snap?e.visibleWrites=og(e.visibleWrites,r.path):rF(r.children,t=>{e.visibleWrites=og(e.visibleWrites,su(r.path,t))}),!0)}(e.pendingWriteTree_,t))return[];{let t=new od(null);return null!=i.snap?t=t.set(sr(),!0):rF(i.children,e=>{t=t.set(new si(e),!0)}),ae(e,new oe(i.path,t,n))}}function o4(e,t,n){return ae(e,new on(s9(),t,n))}function o6(e,t,n,i,r=!1){let s=t._path,o=e.syncPointTree_.get(s),a=[];if(o&&("default"===t._queryIdentifier||null!=oZ(o,t))){let c=function(e,t,n,i){let r=t._queryIdentifier,s=[],o=[],a=oJ(e);if("default"===r)for(let[t,r]of e.views.entries())o=o.concat(o$(r,n,i)),oW(r)&&(e.views.delete(t),r.query._queryParams.loadsAllData()||s.push(r.query));else{let t=e.views.get(r);t&&(o=o.concat(o$(t,n,i)),oW(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!oJ(e)&&s.push(new(tS(f,"Reference.ts has not been loaded"),f)(t._repo,t._path)),{removed:s,events:o}}(o,t,n,i);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));let u=c.removed;if(a=c.events,!r){let n=-1!==u.findIndex(e=>e._queryParams.loadsAllData()),r=e.syncPointTree_.findOnPath(s,(e,t)=>oJ(t));if(n&&!r){let t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){let n=t.fold((e,t,n)=>{if(t&&oJ(t))return[o0(t)];{let e=[];return t&&(e=oX(t)),rF(n,(t,n)=>{e=e.concat(n)}),e}});for(let t=0;t<n.length;++t){let i=n[t],r=i.query,s=at(e,i);e.listenProvider_.startListening(aa(r),an(e,r),s.hashFn,s.onComplete)}}}r||!(u.length>0)||i||(n?e.listenProvider_.stopListening(aa(t),null):u.forEach(t=>{let n=e.queryToTagMap.get(ai(t));e.listenProvider_.stopListening(aa(t),n)}))}var l=e,h=u;for(let e=0;e<h.length;++e){let t=h[e];if(!t._queryParams.loadsAllData()){let e=ai(t),n=l.queryToTagMap.get(e);l.queryToTagMap.delete(e),l.tagToQueryMap.delete(n)}}}return a}function o8(e,t,n,i){let r=ar(e,i);if(null==r)return[];{let i=as(r),s=i.path,o=i.queryId,a=sp(s,t);return ao(e,s,new on(s7(o),a,n))}}function o9(e,t,n,i=!1){var r;let s,o,a,l,h=t._path,c=null,u=!1;e.syncPointTree_.foreachOnPath(h,(e,t)=>{let n=sp(e,h);c=c||oQ(t,n),u=u||oJ(t)});let d=e.syncPointTree_.get(h);d?(u=u||oJ(d),c=c||oQ(d,sr())):(d=new oK,e.syncPointTree_=e.syncPointTree_.set(h,d)),null!=c?s=!0:(s=!1,c=sq.EMPTY_NODE,e.syncPointTree_.subtree(h).foreachChild((e,t)=>{let n=oQ(t,sr());n&&(c=c.updateImmediateChild(e,n))}));let p=null!=oZ(d,t);if(!p&&!t._queryParams.loadsAllData()){let n=ai(t);tS(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");let i=o1++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let m=oR(h,e.pendingWriteTree_),f=(o=oG(r=d,t,m,c,s),r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,o),o.eventRegistrations_.push(n),a=o.viewCache_.eventCache,l=[],a.getNode().isLeafNode()||a.getNode().forEachChild(sM,(e,t)=>{l.push(sH(e,t))}),a.isFullyInitialized()&&l.push(sU(a.getNode())),oH(o,l,a.getNode(),n));if(!p&&!u&&!i){let n=oZ(d,t);f=f.concat(function(e,t,n){let i=t._path,r=an(e,t),s=at(e,n),o=e.listenProvider_.startListening(aa(t),r,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(i);if(r)tS(!oJ(a.value),"If we're adding a query, it shouldn't be shadowed");else{let t=a.fold((e,t,n)=>{if(!sd(e)&&t&&oJ(t))return[o0(t).query];{let e=[];return t&&(e=e.concat(oX(t).map(e=>e.query))),rF(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){let i=t[n];e.listenProvider_.stopListening(aa(i),an(e,i))}}return o}(e,t,n))}return f}function o7(e,t,n){let i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(e,n)=>{let i=oQ(n,sp(e,t));if(i)return i});return oT(i,t,r,n,!0)}function ae(e,t){var n;return function e(t,n,i,r){if(sd(t.path))return function e(t,n,i,r){let s=n.get(sr());null==i&&null!=s&&(i=oQ(s,sr()));let o=[];return n.children.inorderTraversal((n,s)=>{let a=i?i.getImmediateChild(n):null,l=oj(r,n),h=t.operationForChild(n);h&&(o=o.concat(e(h,s,a,l)))}),s&&(o=o.concat(oY(s,t,r,i))),o}(t,n,i,r);{let s=n.get(sr());null==i&&null!=s&&(i=oQ(s,sr()));let o=[],a=ss(t.path),l=t.operationForChild(a),h=n.children.get(a);if(h&&l){let t=i?i.getImmediateChild(a):null,n=oj(r,a);o=o.concat(e(l,h,t,n))}return s&&(o=o.concat(oY(s,t,r,i))),o}}(t,e.syncPointTree_,null,(n=e.pendingWriteTree_,oR(sr(),n)))}function at(e,t){let n=t.query,i=an(e,n);return{hashFn:()=>(t.viewCache_.serverCache.getNode()||sq.EMPTY_NODE).hash(),onComplete:t=>{var r;if("ok"===t)if(i)return function(e,t,n){let i=ar(e,n);if(!i)return[];{let n=as(i),r=n.path,s=n.queryId,o=sp(r,t);return ao(e,r,new ot(s7(s),o))}}(e,n._path,i);else return r=n._path,ae(e,new ot(s9(),r));{let i,r,s=(i="Unknown Error","too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?i="Client doesn't have permission to access the desired data.":"unavailable"===t&&(i="The service is unavailable"),(r=Error(t+" at "+n._path.toString()+": "+i)).code=t.toUpperCase(),r);return o6(e,n,null,s)}}}}function an(e,t){let n=ai(t);return e.queryToTagMap.get(n)}function ai(e){return e._path.toString()+"$"+e._queryIdentifier}function ar(e,t){return e.tagToQueryMap.get(t)}function as(e){let t=e.indexOf("$");return tS(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new si(e.substr(0,t))}}function ao(e,t,n){let i=e.syncPointTree_.get(t);return tS(i,"Missing sync point for query tag that we're tracking"),oY(i,n,oR(t,e.pendingWriteTree_),null)}function aa(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(tS(g,"Reference.ts has not been loaded"),g)(e._repo,e._path):e}class al{constructor(e){this.node_=e}getImmediateChild(e){return new al(this.node_.getImmediateChild(e))}node(){return this.node_}}class ah{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=su(this.path_,e);return new ah(this.syncTree_,t)}node(){return o7(this.syncTree_,this.path_)}}let ac=function(e,t,n){return e&&"object"==typeof e?(tS(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"])?au(e[".sv"],t,n):"object"==typeof e[".sv"]?ad(e[".sv"],t):void tS(!1,"Unexpected server value: "+JSON.stringify(e,null,2)):e},au=function(e,t,n){if("timestamp"===e)return n.timestamp;tS(!1,"Unexpected server value: "+e)},ad=function(e,t,n){e.hasOwnProperty("increment")||tS(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;"number"!=typeof i&&tS(!1,"Unexpected increment value: "+i);let r=t.node();if(tS(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return"number"!=typeof s?i:s+i},ap=function(e,t,n,i){return af(t,new ah(n,e),i)},am=function(e,t,n){return af(e,new al(t),n)};function af(e,t,n){let i,r=ac(e.getPriority().val(),t.getImmediateChild(".priority"),n);if(!e.isLeafNode())return i=e,r!==e.getPriority().val()&&(i=i.updatePriority(new sA(r))),e.forEachChild(sM,(e,r)=>{let s=af(r,t.getImmediateChild(e),n);s!==r&&(i=i.updateImmediateChild(e,s))}),i;{let i=ac(e.getValue(),t,n);return i!==e.getValue()||r!==e.getPriority().val()?new sA(i,sB(r)):e}}class ag{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function ay(e,t){let n=t instanceof si?t:new si(t),i=e,r=ss(n);for(;null!==r;){let e=t2(i.node.children,r)||{children:{},childCount:0};i=new ag(r,i,e),r=ss(n=sa(n))}return i}function av(e){return e.node.value}function a_(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,i){let r=void 0===av(i)&&!ab(i),s=t1(t.node.children,n);r&&s?(delete t.node.children[n],t.node.childCount--,e(t)):r||s||(t.node.children[n]=i.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function ab(e){return e.node.childCount>0}function ax(e,t){rF(e.node.children,(n,i)=>{t(new ag(n,e,i))})}function aw(e){return new si(null===e.parent?e.name:aw(e.parent)+"/"+e.name)}let aC=/[\[\].#$\/\u0000-\u001F\u007F]/,ak=/[\[\].#$\u0000-\u001F\u007F]/,aT=function(e){return"string"==typeof e&&0!==e.length&&!aC.test(e)},aS=function(e){return"string"==typeof e&&0!==e.length&&!ak.test(e)},aE=function(e,t,n,i){i&&void 0===t||aN(t9(e,"value"),t,n)},aN=function(e,t,n){let i=n instanceof si?new sy(n,e):n;if(void 0===t)throw Error(e+"contains undefined "+s_(i));if("function"==typeof t)throw Error(e+"contains a function "+s_(i)+" with contents = "+t.toString());if(rI(t))throw Error(e+"contains "+t.toString()+" "+s_(i));if("string"==typeof t&&t.length>3495253.3333333335&&ne(t)>0xa00000)throw Error(e+"contains a string greater than 10485760 utf8 bytes "+s_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,r=!1;if(rF(t,(t,s)=>{let o;if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!aT(t)))throw Error(e+" contains an invalid key ("+t+") "+s_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=ne(t),sv(i),aN(e,s,i),o=i.parts_.pop(),i.byteLength_-=ne(o),i.parts_.length>0&&(i.byteLength_-=1)}),n&&r)throw Error(e+' contains ".value" child '+s_(i)+" in addition to actual children.")}},aI=function(e,t){let n,i;for(n=0;n<t.length;n++){let r=sh(i=t[n]);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!aT(r[t]))throw Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(sm);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&sg(r,i))throw Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},aP=function(e,t,n,i){if(i&&void 0===t)return;let r=t9(e,"values");if(!(t&&"object"==typeof t)||Array.isArray(t))throw Error(r+" must be an object containing the children to replace.");let s=[];rF(t,(e,t)=>{let i=new si(e);if(aN(r,t,su(n,i)),".priority"===sl(i)&&!(null===t||"string"==typeof t||"number"==typeof t&&!rI(t)||t&&"object"==typeof t&&t1(t,".sv")))throw Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)}),aI(r,s)},aj=function(e,t,n,i){if((!i||void 0!==n)&&!aS(n))throw Error(t9(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},aR=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),aj(e,t,n,i)},aA=function(e,t){if(".info"===ss(t))throw Error(e+" failed = Can't modify data under /.info/")},aM=function(e,t){var n;let i=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!aT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==i.length&&((n=i)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),!aS(n)))throw Error(t9(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class aD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function aO(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],s=r.getPath();null===n||sf(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function aL(e,t,n){aO(e,n),aV(e,e=>sf(e,t))}function aF(e,t,n){aO(e,n),aV(e,e=>sg(e,t)||sg(t,e))}function aV(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];r&&(t(r.path)?(function(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(null!==n){e.events[t]=null;let i=n.getEventRunner();rb&&rC("event: "+n.toString()),rB(i)}}}(e.eventLists_[i]),e.eventLists_[i]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}class aq{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=s3(),this.transactionQueueTree_=new ag,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function az(e){var t;let n;return(t=t={timestamp:(n=e.infoData_.getNode(new si(".info/serverTimeOffset")).val()||0,new Date().getTime()+n)}).timestamp=t.timestamp||new Date().getTime(),t}function aB(e,t,n,i,r){e.dataUpdateCount++;let s=new si(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){let t=t5(n,e=>sB(e));o=function(e,t,n,i){let r=ar(e,i);if(!r)return[];{let i=as(r),s=i.path,o=i.queryId,a=sp(s,t),l=od.fromObject(n);return ao(e,s,new oi(s7(o),a,l))}}(e.serverSyncTree_,s,t,r)}else{let t=sB(n);o=o8(e.serverSyncTree_,s,t,r)}else if(i){var a;let t,i=t5(n,e=>sB(e));a=e.serverSyncTree_,t=od.fromObject(i),o=ae(a,new oi(s9(),s,t))}else{let t=sB(n);o=o4(e.serverSyncTree_,s,t)}let l=s;o.length>0&&(l=aX(e,s)),aF(e.eventQueue_,l,o)}function aW(e,t){var n;let i,r,s;a$(e,"connected",t),!1===t&&(aK(n=e,"onDisconnectEvents"),i=az(n),r=s3(),s5(n.onDisconnect_,sr(),(e,t)=>{let s=ap(e,t,n.serverSyncTree_,i);!function e(t,n,i){if(sd(n))t.value=i,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,i);else{let r=ss(n);t.children.has(r)||t.children.set(r,s3()),e(t.children.get(r),n=sa(n),i)}}(r,e,s)}),s=[],s5(r,sr(),(e,t)=>{s=s.concat(o4(n.serverSyncTree_,e,t));let i=a0(n,e);aX(n,i)}),n.onDisconnect_=s3(),aF(n.eventQueue_,sr(),s))}function a$(e,t,n){let i=new si("/.info/"+t),r=sB(n);e.infoData_.updateSnapshot(i,r);let s=o4(e.infoSyncTree_,i,r);aF(e.eventQueue_,i,s)}function aU(e){return e.nextWriteId_++}function aH(e,t,n){let i;i=".info"===ss(t._path)?o6(e.infoSyncTree_,t,n):o6(e.serverSyncTree_,t,n),aL(e.eventQueue_,t._path,i)}function aK(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),rC(n,...t)}function aY(e,t,n,i){t&&rB(()=>{if("ok"===n)t(null);else{let e=(n||"error").toUpperCase(),r=e;i&&(r+=": "+i);let s=Error(r);s.code=e,t(s)}})}function aG(e,t,n){return o7(e.serverSyncTree_,t,n)||sq.EMPTY_NODE}function aX(e,t){let n=aQ(e,t),i=aw(n),r=aZ(e,n);return function(e,t,n){if(0===t.length)return;let i=[],r=[],s=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){let a=t[o],l=sp(n,a.path),h=!1,c;if(tS(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)h=!0,c=a.abortReason,r=r.concat(o5(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)h=!0,c="maxretry",r=r.concat(o5(e.serverSyncTree_,a.currentWriteId,!0));else{let n=aG(e,a.path,s);a.currentInputSnapshot=n;let i=t[o].update(n.val());if(void 0!==i){aN("transaction failed: Data returned ",i,a.path);let t=sB(i);"object"==typeof i&&null!=i&&t1(i,".priority")||(t=t.updatePriority(n.getPriority()));let o=a.currentWriteId,l=am(t,n,az(e));a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=l,a.currentWriteId=aU(e),s.splice(s.indexOf(o),1),r=(r=r.concat(o3(e.serverSyncTree_,a.path,l,a.currentWriteId,a.applyLocally))).concat(o5(e.serverSyncTree_,o,!0))}else h=!0,c="nodata",r=r.concat(o5(e.serverSyncTree_,a.currentWriteId,!0))}aF(e.eventQueue_,n,r),r=[],h&&(t[o].status=2,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete&&("nodata"===c?i.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):i.push(()=>t[o].onComplete(Error(c),!1,null))))}aJ(e,e.transactionQueueTree_);for(let e=0;e<i.length;e++)rB(i[e]);!function e(t,n=t.transactionQueueTree_){if(n||aJ(t,n),av(n)){let i=aZ(t,n);tS(i.length>0,"Sending zero length transaction queue"),i.every(e=>0===e.status)&&function(t,n,i){let r=aG(t,n,i.map(e=>e.currentWriteId)),s=r,o=r.hash();for(let e=0;e<i.length;e++){let t=i[e];tS(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;let r=sp(n,t.path);s=s.updateChild(r,t.currentOutputSnapshotRaw)}let a=s.val(!0);t.server_.put(n.toString(),a,r=>{aK(t,"transaction put response",{path:n.toString(),status:r});let s=[];if("ok"===r){let r=[];for(let e=0;e<i.length;e++)i[e].status=2,s=s.concat(o5(t.serverSyncTree_,i[e].currentWriteId)),i[e].onComplete&&r.push(()=>i[e].onComplete(null,!0,i[e].currentOutputSnapshotResolved)),i[e].unwatcher();aJ(t,ay(t.transactionQueueTree_,n)),e(t,t.transactionQueueTree_),aF(t.eventQueue_,n,s);for(let e=0;e<r.length;e++)rB(r[e])}else{if("datastale"===r)for(let e=0;e<i.length;e++)3===i[e].status?i[e].status=4:i[e].status=0;else{rE("transaction at "+n.toString()+" failed: "+r);for(let e=0;e<i.length;e++)i[e].status=4,i[e].abortReason=r}aX(t,n)}},o)}(t,aw(n),i)}else ab(n)&&ax(n,n=>{e(t,n)})}(e,e.transactionQueueTree_)}(e,r,i),i}function aQ(e,t){let n,i=e.transactionQueueTree_;for(n=ss(t);null!==n&&void 0===av(i);)i=ay(i,n),n=ss(t=sa(t));return i}function aZ(e,t){let n=[];return function e(t,n,i){let r=av(n);if(r)for(let e=0;e<r.length;e++)i.push(r[e]);ax(n,n=>{e(t,n,i)})}(e,t,n),n.sort((e,t)=>e.order-t.order),n}function aJ(e,t){let n=av(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,a_(t,n.length>0?n:void 0)}ax(t,t=>{aJ(e,t)})}function a0(e,t){let n=aw(aQ(e,t)),i=ay(e.transactionQueueTree_,t);return!function(e,t,n){let i=e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,t=>{a1(e,t)}),a1(e,i),!function e(t,n,i,r){i&&!r&&n(t),ax(t,t=>{e(t,n,!0,r)}),i&&r&&n(t)}(i,t=>{a1(e,t)}),n}function a1(e,t){let n=av(t);if(n){let i=[],r=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(tS(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(tS(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(o5(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,Error("set"),!1,null))));-1===s?a_(t,void 0):n.length=s+1,aF(e.eventQueue_,aw(t),r);for(let e=0;e<i.length;e++)rB(i[e])}}let a2=function(e,t){let n=a3(e),i=n.namespace;"firebase.com"===n.domain&&rS(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||rS("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rN();let r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new rX(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new si(n.pathString)}},a3=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof e){let h=e.indexOf("//");h>=0&&(a=e.substring(0,h-1),e=e.substring(h+2));let c=e.indexOf("/");-1===c&&(c=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(c,u)),c<u&&(r=function(e){let t="",n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let i=n[e];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(c,u)));let d=function(e){let t={};for(let n of("?"===e.charAt(0)&&(e=e.substring(1)),e.split("&"))){if(0===n.length)continue;let i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):rE(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,u)));(h=t.indexOf(":"))>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(h+1),10)):h=t.length;let p=t.slice(0,h);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{let e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=i}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};class a5{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){let e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tQ(this.snapshot.exportVal())}}class a4{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class a6{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return tS(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class a8{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return sd(this._path)?null:sl(this._path)}get ref(){return new a9(this._repo,this._path)}get _queryIdentifier(){let e=rO(s0(this._queryParams));return"{}"===e?"default":e}get _queryObject(){return s0(this._queryParams)}isEqual(e){if(!((e=nn(e))instanceof a8))return!1;let t=this._repo===e._repo,n=sf(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class a9 extends a8{constructor(e,t){super(e,t,new sZ,!1)}get parent(){let e=sc(this._path);return null===e?null:new a9(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class a7{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new si(e),n=lt(this.ref,e);return new a7(this._node.getChild(t),n,sM)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new a7(n,lt(this.ref,t),sM)))}hasChild(e){let t=new si(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function le(e,t){return(e=nn(e))._checkNotDeleted("ref"),void 0!==t?lt(e._root,t):e._root}function lt(e,t){return null===ss((e=nn(e))._path)?aR("child","path",t,!1):aj("child","path",t,!1),new a9(e._repo,su(e._path,t))}function ln(e,t){var n,i,r;let s,o,a,l,h,c;aA("set",(e=nn(e))._path),aE("set",t,e._path,!1);let u=new tL;return n=e._repo,i=e._path,r=u.wrapCallback(()=>{}),aK(n,"set",{path:i.toString(),value:t,priority:null}),s=az(n),a=am(o=sB(t,null),o7(n.serverSyncTree_,i),s),l=aU(n),h=o3(n.serverSyncTree_,i,a,l,!0),aO(n.eventQueue_,h),n.server_.put(i.toString(),o.val(!0),(e,t)=>{let s="ok"===e;s||rE("set at "+i+" failed: "+e);let o=o5(n.serverSyncTree_,l,!s);aF(n.eventQueue_,i,o),aY(n,r,e,t)}),c=a0(n,i),aX(n,c),aF(n.eventQueue_,c,[]),u.promise}function li(e,t){aP("update",t,e._path,!1);let n=new tL;return!function(e,t,n,i){aK(e,"update",{path:t.toString(),value:n});let r=!0,s=az(e),o={};if(rF(n,(n,i)=>{r=!1,o[n]=ap(su(t,n),sB(i),e.serverSyncTree_,s)}),r)rC("update() called with empty data.  Don't do anything."),aY(e,i,"ok",void 0);else{var a,l;let r,s=aU(e),h=(a=e.serverSyncTree_,l=a.pendingWriteTree_,tS(s>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:t,children:o,writeId:s,visible:!0}),l.visibleWrites=of(l.visibleWrites,t,o),l.lastWriteId=s,r=od.fromObject(o),ae(a,new oi(s8(),t,r)));aO(e.eventQueue_,h),e.server_.merge(t.toString(),n,(n,r)=>{let o="ok"===n;o||rE("update at "+t+" failed: "+n);let a=o5(e.serverSyncTree_,s,!o),l=a.length>0?aX(e,t):t;aF(e.eventQueue_,l,a),aY(e,i,n,r)}),rF(n,n=>{let i=a0(e,su(t,n));aX(e,i)}),aF(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function lr(e){var t,n,i,r,s;let o,a,l,h,c,u,d;e=nn(e);let p=new ls(new a6(()=>{}));return(t=e._repo,n=e,i=t.serverSyncTree_,a=(r=n)._path,l=null,i.syncPointTree_.foreachOnPath(a,(e,t)=>{let n=sp(e,a);l=l||oQ(t,n)}),(h=i.syncPointTree_.get(a))?l=l||oQ(h,sr()):(h=new oK,i.syncPointTree_=i.syncPointTree_.set(a,h)),u=(c=null!=l)?new or(l,!0,!1):null,d=(s=i.pendingWriteTree_,oR(r._path,s)),null!=(o=oc(oG(h,r,d,c?u.getNode():sq.EMPTY_NODE,c).viewCache_))?Promise.resolve(o):t.server_.get(n).then(e=>{let i,r=sB(e).withIndex(n._queryParams.getIndex());if(o9(t.serverSyncTree_,n,p,!0),n._queryParams.loadsAllData())i=o4(t.serverSyncTree_,n._path,r);else{let e=an(t.serverSyncTree_,n);i=o8(t.serverSyncTree_,n._path,r,e)}return aF(t.eventQueue_,n._path,i),o6(t.serverSyncTree_,n,p,null,!0),r},e=>(aK(t,"get for query "+tQ(n)+" failed: "+e),Promise.reject(Error(e))))).then(t=>new a7(t,new a9(e._repo,e._path),e._queryParams.getIndex()))}class ls{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){let n=t._queryParams.getIndex();return new a5("value",this,new a7(e.snapshotNode,new a9(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new a4(this,e,t):null}matches(e){return e instanceof ls&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class lo{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new a4(this,e,t):null}createEvent(e,t){tS(null!=e.childName,"Child events should have a childName.");let n=lt(new a9(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new a5(e.type,this,new a7(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof lo&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function la(e,t,n,i){return function(e,t,n,i,r){var s;let o,a;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){let t=n,i=(n,i)=>{aH(e._repo,e,h),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}let l=new a6(n,o||void 0),h="value"===t?new ls(l):new lo(t,l);return s=e._repo,a=".info"===ss(e._path)?o9(s.infoSyncTree_,e,h):o9(s.serverSyncTree_,e,h),aL(s.eventQueue_,e._path,a),()=>aH(e._repo,e,h)}(e,"value",t,n,i)}tS(!f,"__referenceConstructor has already been defined"),f=a9,tS(!g,"__referenceConstructor has already been defined"),g=a9;let ll={};class lh{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(!function(e,t,n){var i;let r;if(e.stats_=r1(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new s1(e.repoInfo_,(t,n,i,r)=>{aB(e,t,n,i,r)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>aW(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{tQ(n)}catch(e){throw Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new sx(e.repoInfo_,t,(t,n,i,r)=>{aB(e,t,n,i,r)},t=>{aW(e,t)},t=>{var n;n=e,rF(t,(e,t)=>{a$(n,e,t)})},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),i=e.repoInfo_,r0[r=i.toString()]||(r0[r]=(()=>new s6(e.stats_,e.server_))()),e.statsReporter_=r0[r],e.infoData_=new s2,e.infoSyncTree_=new o2({startListening:(t,n,i,r)=>{let s=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=o4(e.infoSyncTree_,t._path,o),setTimeout(()=>{r("ok")},0)),s},stopListening:()=>{}}),a$(e,"connected",!1),e.serverSyncTree_=new o2({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,(n,i)=>{let s=r(n,i);aF(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new a9(this._repo,sr())),this._rootInternal}_delete(){if(null!==this._rootInternal){var e,t;let n;e=this._repo,(n=ll[t=this.app.name])&&n[e.key]===e||rS(`Database ${t}(${e.repoInfo_}) has already been deleted.`),e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt"),delete n[e.key],this._repoInternal=null,this._rootInternal=null}return Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&rS("Cannot call "+e+" on a deleted database.")}}sx.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},sx.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},rc=nY,nL(new ni("database",(e,{instanceIdentifier:t})=>{var n,i,r,s;let o,a,l,h,c,u,d,p=e.getProvider("app").getImmediate(),m=e.getProvider("auth-internal"),f=e.getProvider("app-check-internal");return void 0===(l=t||p.options.databaseURL)&&(p.options.projectId||rS("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rC("Using default host for project ",p.options.projectId),l=`${p.options.projectId}-default-rtdb.firebaseio.com`),c=(h=a2(l,void 0)).repoInfo,void 0!==tT.default&&tT.default.env&&(u=tT.default.env.FIREBASE_DATABASE_EMULATOR_HOST),u?c=(h=a2(l=`http://${u}?ns=${c.namespace}`,void 0)).repoInfo:!h.repoInfo.secure,d=new rU(p.name,p.options,m),aM("Invalid Firebase Database URL",h),sd(h.path)||rS("Database URL must point to the root of a Firebase Database (not including a child path)."),new lh((n=c,i=p,r=d,s=new r$(p,f),(o=ll[i.name])||(o={},ll[i.name]=o),(a=o[n.toURLString()])&&rS("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new aq(n,!1,r,s),o[n.toURLString()]=a,a),p)},"PUBLIC").setMultipleInstances(!0)),n0(rl,rh,void 0),n0(rl,rh,"esm2020");let lc=function(e=nQ(),t){let n=nF(e,"database").getImmediate({identifier:void 0});if(!n._instanceStarted){let e=(e=>{let t=tD()?.emulatorHosts?.[e];if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]})("database");e&&function(e,t,n,i={}){var r;let s,o,a;(e=nn(e))._checkNotDeleted("useEmulator");let l=`${t}:${n}`,h=e._repoInternal;if(e._instanceStarted){if(l===e._repoInternal.repoInfo_.host&&t4(i,h.repoInfo_.emulatorOptions))return;rS("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}h.repoInfo_.nodeAdmin?(i.mockUserToken&&rS('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new rH(rH.OWNER)):i.mockUserToken&&(s=new rH("string"==typeof i.mockUserToken?i.mockUserToken:function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[tA(JSON.stringify({alg:"none",type:"JWT"})),tA(JSON.stringify(s)),""].join(".")}(i.mockUserToken,e.app.options.projectId))),tF(t)&&(tV(t),function(e,t){if("undefined"==typeof window||"undefined"==typeof document||!tF(window.location.host)||tq[e]===t||tq[e]||tz)return;function n(e){return`__firebase__banner__${e}`}tq[e]=t;let i="__firebase__banner",r=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(tq))tq[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){let e,t,s=(e=document.getElementById(i),t=!1,e||((e=document.createElement("div")).setAttribute("id",i),t=!0),{created:t,element:e}),o=n("text"),a=document.getElementById(o)||document.createElement("span"),l=n("learnmore"),h=document.getElementById(l)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.created){let e,t=s.element;t.style.display="flex",t.style.background="#7faaf0",t.style.position="fixed",t.style.bottom="5px",t.style.left="5px",t.style.padding=".5em",t.style.borderRadius="5px",t.style.alignItems="center",h.setAttribute("id",l),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline";let n=((e=document.createElement("span")).style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{let e;tz=!0,(e=document.getElementById(i))&&e.remove()},e);u.setAttribute("width","24"),u.setAttribute("id",c),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px",t.append(u,a,h,n),document.body.appendChild(t)}r?(a.innerText="Preview backend disconnected.",u.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(u.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText="Preview backend running in this workspace."),a.setAttribute("id",o)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}("Database",!0)),r=s,o=l.lastIndexOf(":"),a=tF(l.substring(0,o)),h.repoInfo_=new rX(l,a,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(h.authTokenProvider_=r)}(n,...e)}return n}(ra),lu=async e=>{await li(le(lc,`rooms/${e}`),{status:"endGame",gameStarted:!1,gameEnded:!0})},ld=async e=>{let t=le(lc,`rooms/${e}`),n=await lr(t);return n.exists()?{status:n.val().status,gameStarted:n.val().gameStarted||!1}:null},lp=(e,t)=>la(le(lc,`rooms/${e}`),e=>{let n=e.val();t({status:n?.status||"closed",gameStarted:n?.gameStarted||!1})}),lm=async()=>{let e=Math.random().toString(36).substring(2,8).toUpperCase(),t=crypto.randomUUID();return await ln(le(lc,`rooms/${e}`),{adminKey:t,status:"open",gameStarted:!1,createdAt:Date.now(),players:{}}),{roomCode:e,adminKey:t}},lf=async e=>{await li(le(lc,`rooms/${e}`),{gameStarted:!0})},lg=async(e,t)=>{let n=crypto.randomUUID();return await ln(le(lc,`rooms/${e}/players/${n}`),{name:t,score:0,joinedAt:Date.now()}),n},ly=async e=>{await li(le(lc,`rooms/${e}`),{status:"closed"})},lv=async(e,t,n)=>{let i=le(lc,`rooms/${e}/players/${t}`),r=await lr(i);if(!r.exists())return;let s=r.val().score||0;await li(i,{score:Math.max(0,s+n)})},l_=async(e,t,n=2)=>{let i=le(lc,`rooms/${e}/players/${t}`),r=await lr(i);if(!r.exists())return;let s=r.val().score||0;await li(i,{score:s*n})},lb=async(e,t)=>{await li(le(lc,`rooms/${e}/players/${t}`),{score:0})},lx=async(e,t,n,i)=>{let r=le(lc,`rooms/${e}/players`),s=await lr(r);if(!s.exists())return;let o=s.val();if(!o[t]||!o[n])return;let a=o[n].score||0;if(a<=0)return;let l=Math.floor(a*("STEAL_20"===i?.2:.5));o[t].score+=l,o[n].score-=l,await li(r,{[t]:o[t],[n]:o[n]})},lw=async(e,t,n)=>{let i=le(lc,`rooms/${e}/players`),r=await lr(i);if(!r.exists())return;let s=r.val();if(!s[t]||!s[n])return;let o=s[t].score||0;s[t].score=s[n].score||0,s[n].score=o,await li(i,{[t]:s[t],[n]:s[n]})},lC=(e,t)=>la(le(lc,`rooms/${e}/players`),e=>{t(Object.entries(e.val()||{}).map(([e,t])=>({id:e,name:t.name,score:t.score})).sort((e,t)=>t.score-e.score))}),lk={swap:{bg:"bg-purple-500 text-white",icon:""},x2:{bg:"bg-green-400 text-white",icon:"x2"},x3:{bg:"bg-blue-500 text-white",icon:"x3"},"+50":{bg:"bg-amber-200",icon:"+50"},"+100":{bg:"bg-yellow-400",icon:"+100"},"+150":{bg:"bg-orange-400",icon:"+150"},"-50":{bg:"bg-pink-200",icon:"-50"},"-100":{bg:"bg-pink-400",icon:"-100"},"-150":{bg:"bg-red-500 text-white",icon:"-150"},loseAll:{bg:"bg-gray-900 text-white",icon:""},steal20:{bg:"bg-yellow-800 text-white",icon:" 20%"},steal50:{bg:"bg-red-700 text-white",icon:" 50%"}};function lT({type:e,flipped:t,onClick:n}){let i=lk[e];return(0,z.jsx)("div",{onClick:n,className:"w-32 h-44 cursor-pointer",style:{perspective:"1000px"},children:(0,z.jsxs)("div",{style:{transformStyle:"preserve-3d",transition:"transform 0.6s",transform:t?"rotateY(180deg)":"rotateY(0deg)"},className:"relative w-full h-full",children:[(0,z.jsx)("div",{style:{backfaceVisibility:"hidden"},className:"absolute inset-0 bg-blue-600 rounded-xl flex items-center justify-center text-white text-4xl font-bold shadow-lg",children:"?"}),(0,z.jsxs)("div",{style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},className:`absolute inset-0 rounded-xl flex flex-col items-center justify-center font-bold text-xl shadow-lg ${i.bg}`,children:[(0,z.jsx)("span",{className:"text-3xl mb-2",children:i.icon}),(0,z.jsx)("span",{className:"text-sm opacity-80",children:e})]})]})})}let lS=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lE=[{type:"+50",weight:30,desc:"Cng thm 50 im."},{type:"+100",weight:20,desc:"Cng thm 100 im."},{type:"+150",weight:10,desc:"Cng thm 150 im."},{type:"-50",weight:15,desc:"Tr 50 im."},{type:"-100",weight:8,desc:"Tr 100 im."},{type:"-150",weight:4,desc:"Tr 150 im."},{type:"x2",weight:15,desc:"Nhn i im va nhn."},{type:"x3",weight:4,desc:"Nhn ba im va nhn."},{type:"steal20",weight:8,desc:"Cp 20% tng im ca mt ngi chi khc."},{type:"steal50",weight:2,desc:"Cp 50% tng im ca mt ngi chi khc."},{type:"swap",weight:5,desc:"Hon i ton b im vi mt ngi chi khc."},{type:"loseAll",weight:1,desc:"Mt ton b im hin ti."}],lN=lE.reduce((e,t)=>e+t.weight,0);function lI({open:e,onClose:t}){return e?(0,z.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,z.jsxs)("div",{className:"bg-white p-5 rounded-xl max-w-4xl w-full relative",children:[(0,z.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-900",onClick:t,children:(0,z.jsx)(lS,{})}),(0,z.jsx)("h2",{className:"text-2xl font-bold mb-6",children:" Lut & T l Card"}),(0,z.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:lE.map(e=>{var t;return(0,z.jsxs)("div",{className:"flex flex-col items-center gap-1 border rounded-lg p-2 text-sm",children:[(0,z.jsx)("div",{className:"scale-[0.85]",children:(0,z.jsx)(lT,{type:e.type,flipped:!0,onClick:()=>{}})}),(0,z.jsx)("p",{className:"font-semibold",children:e.desc}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:[" T l: ",(e.weight/lN*100).toFixed(1),"%"]}),(0,z.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-gray-200",children:(t=e.weight)>=20?"Thng":t>=8?"t gp":t>=3?"Him":"Cc him"})]},e.type)})})]})}):null}var lP=e.i(98392);async function lj({roomCode:e,playerId:t,card:n}){let i=0;switch(n){case"+50":i=50;break;case"+100":i=100;break;case"+150":i=150;break;case"-50":i=-50;break;case"-100":i=-100;break;case"-150":i=-150;break;case"x2":await l_(e,t,2);return;case"x3":await l_(e,t,3);return;case"loseAll":await lb(e,t);return;default:return}await lv(e,t,i)}let lR=[{question:"i hi IX ca ng xc nh m hnh kinh t tng qut l g?",options:["Kinh t k hoch ha tp trung","Kinh t th trng nh hng XHCN","Kinh t th trng hin i","Kinh t nhiu thnh phn"],answer:"Kinh t th trng nh hng XHCN"},{question:"i hi VIII xc nh chin lc no?",options:["Cng nghip ha  hin i ha","Pht trin nng nghip","M ca hi nhp","Kinh t tri thc"],answer:"Cng nghip ha  hin i ha"},{question:"i hi VII xc nh chin lc no?",options:["Cng nghip ha  hin i ha","Pht trin nng nghip","M ca hi nhp","Kinh t tri thc"],answer:"Pht trin nng nghip"}];function lA(e){let t=[...e];for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}function lM({roomCode:e,playerId:t}){let[n,i]=(0,B.useState)("question"),[r,s]=(0,B.useState)(0),[o,a]=(0,B.useState)(lA(lR)),[l,h]=(0,B.useState)(0),[c,u]=(0,B.useState)(null),[d,p]=(0,B.useState)(15),[m,f]=(0,B.useState)([]),[g,y]=(0,B.useState)([]),[v,_]=(0,B.useState)([]),[b,x]=(0,B.useState)(2),[w,C]=(0,B.useState)(!1),[k,T]=(0,B.useState)(null),[S,E]=(0,B.useState)([]);(0,B.useEffect)(()=>{f(lA(lR))},[]),(0,B.useEffect)(()=>{if("question"!==n||c)return;if(d<=0){u(""),setTimeout(I,800);return}let e=setTimeout(()=>p(e=>e-1),1e3);return()=>clearTimeout(e)},[d,n,c]),(0,B.useEffect)(()=>{var n;if(!e||!t)return;let i=(n=e=>{s(e)},la(le(lc,`rooms/${e}/players/${t}/score`),e=>{n(e.val()||0)}));return()=>i()},[e,t]),(0,B.useEffect)(()=>{if(!e)return;let t=lC(e,e=>{E(e.map((e,t)=>({id:e.id,name:e.name,score:e.score})))});return()=>t()},[e]);let N=async n=>{k&&("steal20"===k?await lx(e,t,n,"STEAL_20"):"steal50"===k?await lx(e,t,n,"STEAL_50"):"swap"===k&&await lw(e,t,n),T(null),x(e=>{let t=e-1;return t>0?i("popup"):setTimeout(()=>{I()},800),t}))},I=()=>{u(null),p(15),x(2),i("question"),l+1<m.length?h(e=>e+1):(console.log("Ht set cu hi, to set mi..."),f(lA(lR)),h(0))},P=o[l];if(!P)return(0,z.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,z.jsx)("p",{className:"text-gray-500",children:"ang ti cu hi..."})});let j=S.filter(e=>e.id!==t);return(0,z.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 min-h-screen bg-gradient-to-br from-indigo-100 to-purple-100 p-6",children:[(0,z.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 mx-auto max-w-2xl space-y-6 text-center",children:[(0,z.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 bg-white rounded-xl shadow-lg p-4",children:(0,z.jsxs)("p",{className:"jsx-2af4dab3cd9b1dd2 text-2xl font-bold text-indigo-600",children:["im: ",r]})}),"question"===n&&P&&(0,z.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 p-6 border rounded-xl bg-white shadow-lg",children:[(0,z.jsx)("h2",{className:"jsx-2af4dab3cd9b1dd2 text-xl font-semibold mb-2",children:P.question}),(0,z.jsxs)("p",{className:"jsx-2af4dab3cd9b1dd2 text-sm text-gray-500 mb-4",children:["Thi gian cn li: ",d,"s"]}),(0,z.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 grid grid-cols-2 gap-4",children:P.options.map(n=>{let r=n===P.answer,s="bg-gray-100 hover:bg-gray-200";return c&&(n===c?s=r?"bg-green-500 text-white":"bg-red-500 text-white":r&&(s="bg-green-500 text-white")),(0,z.jsx)("button",{onClick:()=>{var r;return r=n,void(c||((u(r),r!==P.answer)?setTimeout(I,1200):(lv(e,t,100+5*d),x(2),setTimeout(()=>{i("popup")},800))))},disabled:!!c,className:`jsx-2af4dab3cd9b1dd2 p-3 rounded font-medium transition-all ${s}`,children:n},n)})})]}),"popup"===n&&(0,z.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,z.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-4 animate-scale-in",children:[(0,z.jsx)("h2",{className:"jsx-2af4dab3cd9b1dd2 text-2xl font-bold text-indigo-600 mb-4",children:" Tr li ng!"}),(0,z.jsx)("p",{className:"jsx-2af4dab3cd9b1dd2 text-gray-700 mb-6",children:2===b?"Bn c mun bc bi  nhn thng thm?":`Bn c\xf2n ${b} lt b\xf3c. Tip tc?`}),(0,z.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 flex gap-4",children:[(0,z.jsx)("button",{onClick:()=>{y(function(e){let t=new Set;for(;t.size<3;)t.add(function(){let e=Math.random()*lE.reduce((e,t)=>e+t.weight,0);for(let t of lE){if(e<t.weight)return t.type;e-=t.weight}return"+50"}());return[...t]}(0)),_([,,,].fill(!1)),i("card")},className:"jsx-2af4dab3cd9b1dd2 flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-all",children:" Bc bi"}),(0,z.jsx)("button",{onClick:I,className:"jsx-2af4dab3cd9b1dd2 flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-6 rounded-lg transition-all",children:" Cu k tip"})]})]})}),"card"===n&&(0,z.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 space-y-4 bg-white rounded-xl shadow-lg p-6",children:[(0,z.jsx)("h2",{className:"jsx-2af4dab3cd9b1dd2 text-xl font-bold text-indigo-600",children:" Chn bi  bc"}),(0,z.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 flex justify-center gap-6",children:g.map((n,r)=>(0,z.jsx)(lT,{type:n,flipped:v[r],onClick:()=>(n=>{if(w||v[n]||b<=0)return;C(!0),_(e=>e.map((e,t)=>t===n||e));let r=g[n];setTimeout(()=>{"steal20"===r||"steal50"===r||"swap"===r?(T(r),i("selectPlayer"),C(!1)):(lj({roomCode:e,playerId:t,card:r}),x(e=>{let t=e-1;return t>0?setTimeout(()=>{i("popup"),C(!1)},800):setTimeout(()=>{I(),C(!1)},1200),t}))},500)})(r)},r))}),(0,z.jsxs)("p",{className:"jsx-2af4dab3cd9b1dd2 text-sm text-gray-500",children:["Lt lt cn li: ",b]})]}),"selectPlayer"===n&&(0,z.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,z.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 bg-white rounded-2xl shadow-2xl p-8 max-w-lg mx-4 animate-scale-in max-h-[80vh] overflow-y-auto",children:[(0,z.jsxs)("h2",{className:"jsx-2af4dab3cd9b1dd2 text-2xl font-bold text-indigo-600 mb-2",children:["steal20"===k&&" Cp 20% im","steal50"===k&&" Cp 50% im","swap"===k&&" Hon i im"]}),(0,z.jsx)("p",{className:"jsx-2af4dab3cd9b1dd2 text-gray-600 mb-6",children:"Chn ngi chi  thc hin:"}),0===j.length?(0,z.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 text-center py-8",children:[(0,z.jsx)("p",{className:"jsx-2af4dab3cd9b1dd2 text-gray-500 mb-4",children:"Khng c ngi chi khc trong phng"}),(0,z.jsx)("button",{onClick:()=>{T(null),x(e=>{let t=e-1;return t>0?i("popup"):I(),t})},className:"jsx-2af4dab3cd9b1dd2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg transition-all",children:"Tip tc"})]}):(0,z.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 space-y-3",children:j.map(e=>(0,z.jsxs)("button",{onClick:()=>N(e.id),className:"jsx-2af4dab3cd9b1dd2 w-full bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-4 px-6 rounded-lg transition-all flex items-center justify-between",children:[(0,z.jsx)("span",{className:"jsx-2af4dab3cd9b1dd2 text-lg",children:e.name}),(0,z.jsxs)("span",{className:"jsx-2af4dab3cd9b1dd2 text-xl",children:[" ",e.score]})]},e.id))})]})})]}),(0,z.jsx)(lP.default,{id:"2af4dab3cd9b1dd2",children:"@keyframes scale-in{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.animate-scale-in.jsx-2af4dab3cd9b1dd2{animation:.3s ease-out scale-in}.rotate-y-180.jsx-2af4dab3cd9b1dd2{transform:rotateY(180deg)}"})]})}let lD=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lO=new Set(lD),lL=e=>180*e/Math.PI,lF=e=>lq(lL(Math.atan2(e[1],e[0]))),lV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:lF,rotateZ:lF,skewX:e=>lL(Math.atan(e[1])),skewY:e=>lL(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},lq=e=>((e%=360)<0&&(e+=360),e),lz=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),lB=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),lW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lz,scaleY:lB,scale:e=>(lz(e)+lB(e))/2,rotateX:e=>lq(lL(Math.atan2(e[6],e[5]))),rotateY:e=>lq(lL(Math.atan2(-e[2],e[0]))),rotateZ:lF,rotate:lF,skewX:e=>lL(Math.atan(e[4])),skewY:e=>lL(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function l$(e){return+!!e.includes("scale")}function lU(e,t){let n,i;if(!e||"none"===e)return l$(t);let r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(r)n=lW,i=r;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=lV,i=t}if(!i)return l$(t);let s=n[t],o=i[1].split(",").map(lH);return"function"==typeof s?s(o):o[s]}function lH(e){return parseFloat(e.trim())}let lK=e=>t=>"string"==typeof t&&t.startsWith(e),lY=lK("--"),lG=lK("var(--"),lX=e=>!!lG(e)&&lQ.test(e.split("/*")[0].trim()),lQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function lZ({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}let lJ=(e,t,n)=>e+(t-e)*n;function l0(e){return void 0===e||1===e}function l1({scale:e,scaleX:t,scaleY:n}){return!l0(e)||!l0(t)||!l0(n)}function l2(e){return l1(e)||l3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function l3(e){var t,n;return(t=e.x)&&"0%"!==t||(n=e.y)&&"0%"!==n}function l5(e,t,n,i,r){return void 0!==r&&(e=i+r*(e-i)),i+n*(e-i)+t}function l4(e,t=0,n=1,i,r){e.min=l5(e.min,t,n,i,r),e.max=l5(e.max,t,n,i,r)}function l6(e,{x:t,y:n}){l4(e.x,t.translate,t.scale,t.originPoint),l4(e.y,n.translate,n.scale,n.originPoint)}function l8(e,t){e.min=e.min+t,e.max=e.max+t}function l9(e,t,n,i,r=.5){let s=lJ(e.min,e.max,r);l4(e,t,n,s,i)}function l7(e,t){l9(e.x,t.x,t.scaleX,t.scale,t.originX),l9(e.y,t.y,t.scaleY,t.scale,t.originY)}function he(e,t){return lZ(function(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}let ht=new Set(["width","height","top","left","right","bottom",...lD]),hn=(e,t,n)=>n>t?t:n<e?e:n,hi={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},hr={...hi,transform:e=>hn(0,1,e)},hs={...hi,default:1},ho=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ha=ho("deg"),hl=ho("%"),hh=ho("px"),hc=ho("vh"),hu=ho("vw"),hd={...hl,parse:e=>hl.parse(e)/100,transform:e=>hl.transform(100*e)},hp=e=>t=>t.test(e),hm=[hi,hh,hl,ha,hu,hc,{test:e=>"auto"===e,parse:e=>e}],hf=e=>hm.find(hp(e)),hg=()=>{},hy=()=>{},hv=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,h_=e=>e===hi||e===hh,hb=new Set(["x","y","z"]),hx=lD.filter(e=>!hb.has(e)),hw={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>lU(t,"x"),y:(e,{transform:t})=>lU(t,"y")};hw.translateX=hw.x,hw.translateY=hw.y;let hC=e=>e,hk={},hT=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hS(e,t){let n=!1,i=!0,r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=hT.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,i=new Set,r=!1,s=!1,o=new WeakSet,a={delta:0,timestamp:0,isProcessing:!1},l=0;function h(t){o.has(t)&&(c.schedule(t),e()),l++,t(a)}let c={schedule:(e,t=!1,s=!1)=>{let a=s&&r?n:i;return t&&o.add(e),a.has(e)||a.add(e),e},cancel:e=>{i.delete(e),o.delete(e)},process:e=>{if(a=e,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(h),t,l=0,n.clear(),r=!1,s&&(s=!1,c.process(e))}};return c}(s,t?n:void 0),e),{}),{setup:a,read:l,resolveKeyframes:h,preUpdate:c,update:u,preRender:d,render:p,postRender:m}=o,f=()=>{let s=hk.useManualTiming?r.timestamp:performance.now();n=!1,hk.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(s-r.timestamp,40),1)),r.timestamp=s,r.isProcessing=!0,a.process(r),l.process(r),h.process(r),c.process(r),u.process(r),d.process(r),p.process(r),m.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(f))};return{schedule:hT.reduce((t,s)=>{let a=o[s];return t[s]=(t,s=!1,o=!1)=>(!n&&(n=!0,i=!0,r.isProcessing||e(f)),a.schedule(t,s,o)),t},{}),cancel:e=>{for(let t=0;t<hT.length;t++)o[hT[t]].cancel(e)},state:r,steps:o}}let{schedule:hE,cancel:hN,state:hI,steps:hP}=hS("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:hC,!0),hj=new Set,hR=!1,hA=!1,hM=!1;function hD(){if(hA){let e=Array.from(hj).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t,i=(t=[],hx.forEach(n=>{let i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(+!!n.startsWith("scale")))}),t);i.length&&(n.set(e,i),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}hA=!1,hR=!1,hj.forEach(e=>e.complete(hM)),hj.clear()}function hO(){hj.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hA=!0)})}class hL{constructor(e,t,n,i,r,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(hj.add(this),hR||(hR=!0,hE.read(hO),hE.resolveKeyframes(hD))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(null===e[0]){let r=i?.get(),s=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){let i=n.readValue(t,s);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=s),i&&void 0===r&&i.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),hj.delete(this)}cancel(){"scheduled"===this.state&&(hj.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let hF=e=>Math.round(1e5*e)/1e5,hV=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,hq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hz=(e,t)=>n=>!!("string"==typeof n&&hq.test(n)&&n.startsWith(e)||t&&null!=n&&Object.prototype.hasOwnProperty.call(n,t)),hB=(e,t,n)=>i=>{if("string"!=typeof i)return i;let[r,s,o,a]=i.match(hV);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},hW={...hi,transform:e=>Math.round(hn(0,255,e))},h$={test:hz("rgb","red"),parse:hB("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+hW.transform(e)+", "+hW.transform(t)+", "+hW.transform(n)+", "+hF(hr.transform(i))+")"},hU={test:hz("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:h$.transform},hH={test:hz("hsl","hue"),parse:hB("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+hl.transform(hF(t))+", "+hl.transform(hF(n))+", "+hF(hr.transform(i))+")"},hK={test:e=>h$.test(e)||hU.test(e)||hH.test(e),parse:e=>h$.test(e)?h$.parse(e):hH.test(e)?hH.parse(e):hU.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?h$.transform(e):hH.transform(e),getAnimatableNone:e=>{let t=hK.parse(e);return t.alpha=0,hK.transform(t)}},hY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,hG="number",hX="color",hQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hZ(e){let t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[],s=0,o=t.replace(hQ,e=>(hK.test(e)?(i.color.push(s),r.push(hX),n.push(hK.parse(e))):e.startsWith("var(")?(i.var.push(s),r.push("var"),n.push(e)):(i.number.push(s),r.push(hG),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:o,indexes:i,types:r}}function hJ(e){return hZ(e).values}function h0(e){let{split:t,types:n}=hZ(e),i=t.length;return e=>{let r="";for(let s=0;s<i;s++)if(r+=t[s],void 0!==e[s]){let t=n[s];t===hG?r+=hF(e[s]):t===hX?r+=hK.transform(e[s]):r+=e[s]}return r}}let h1=e=>"number"==typeof e?0:hK.test(e)?hK.getAnimatableNone(e):e,h2={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(hV)?.length||0)+(e.match(hY)?.length||0)>0},parse:hJ,createTransformer:h0,getAnimatableNone:function(e){let t=hJ(e);return h0(e)(t.map(h1))}},h3=new Set(["brightness","contrast","saturate","opacity"]);function h5(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[i]=n.match(hV)||[];if(!i)return e;let r=n.replace(i,""),s=+!!h3.has(t);return i!==n&&(s*=100),t+"("+s+r+")"}let h4=/\b([a-z-]*)\(.*?\)/gu,h6={...h2,getAnimatableNone:e=>{let t=e.match(h4);return t?t.map(h5).join(" "):e}},h8={...hi,transform:Math.round},h9={borderWidth:hh,borderTopWidth:hh,borderRightWidth:hh,borderBottomWidth:hh,borderLeftWidth:hh,borderRadius:hh,radius:hh,borderTopLeftRadius:hh,borderTopRightRadius:hh,borderBottomRightRadius:hh,borderBottomLeftRadius:hh,width:hh,maxWidth:hh,height:hh,maxHeight:hh,top:hh,right:hh,bottom:hh,left:hh,padding:hh,paddingTop:hh,paddingRight:hh,paddingBottom:hh,paddingLeft:hh,margin:hh,marginTop:hh,marginRight:hh,marginBottom:hh,marginLeft:hh,backgroundPositionX:hh,backgroundPositionY:hh,rotate:ha,rotateX:ha,rotateY:ha,rotateZ:ha,scale:hs,scaleX:hs,scaleY:hs,scaleZ:hs,skew:ha,skewX:ha,skewY:ha,distance:hh,translateX:hh,translateY:hh,translateZ:hh,x:hh,y:hh,z:hh,perspective:hh,transformPerspective:hh,opacity:hr,originX:hd,originY:hd,originZ:hh,zIndex:h8,fillOpacity:hr,strokeOpacity:hr,numOctaves:h8},h7={...h9,color:hK,backgroundColor:hK,outlineColor:hK,fill:hK,stroke:hK,borderColor:hK,borderTopColor:hK,borderRightColor:hK,borderBottomColor:hK,borderLeftColor:hK,filter:h6,WebkitFilter:h6},ce=e=>h7[e];function ct(e,t){let n=ce(e);return n!==h6&&(n=h2),n.getAnimatableNone?n.getAnimatableNone(t):void 0}let cn=new Set(["auto","none","0"]);class ci extends hL{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let i=e[n];if("string"==typeof i&&lX(i=i.trim())){let r=function e(t,n,i=1){hy(i<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[r,s]=function(e){let t=hv.exec(e);if(!t)return[,];let[,n,i,r]=t;return[`--${n??i}`,r]}(t);if(!r)return;let o=window.getComputedStyle(n).getPropertyValue(r);if(o){let e=o.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return lX(s)?e(s,n,i+1):s}(i,t.current);void 0!==r&&(e[n]=r),n===e.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!ht.has(n)||2!==e.length)return;let[i,r]=e,s=hf(i),o=hf(r);if(s!==o)if(h_(s)&&h_(o))for(let t=0;t<e.length;t++){let n=e[t];"string"==typeof n&&(e[t]=parseFloat(n))}else hw[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&n.push(t);n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){let t=e[r];"string"==typeof t&&!cn.has(t)&&hZ(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=ct(n,i)}(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hw[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);let r=n.length-1,s=n[r];n[r]=hw[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}let cr=e=>!!(e&&e.getVelocity);function cs(){y=void 0}let co={now:()=>(void 0===y&&co.set(hI.isProcessing||hk.useManualTiming?hI.timestamp:performance.now()),y),set:e=>{y=e,queueMicrotask(cs)}};function ca(e,t){-1===e.indexOf(t)&&e.push(t)}function cl(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}class ch{constructor(){this.subscriptions=[]}add(e){return ca(this.subscriptions,e),()=>cl(this.subscriptions,e)}notify(e,t,n){let i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){let i=this.subscriptions[r];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class cc{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=co.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=co.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ch);let n=this.events[e].add(t);return"change"===e?()=>{n(),hE.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return T&&T.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=co.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let n=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),n?1e3/n*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cu(e,t){return new cc(e,t)}let cd=[...hm,hK,h2],{schedule:cp}=hS(queueMicrotask,!1),cm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cf={};for(let e in cm)cf[e]={isEnabled:t=>cm[e].some(e=>!!t[e])};let cg=()=>({translate:0,scale:1,origin:0,originPoint:0}),cy=()=>({x:cg(),y:cg()}),cv=()=>({min:0,max:0}),c_=()=>({x:cv(),y:cv()}),cb="undefined"!=typeof window,cx={current:null},cw={current:!1},cC=new WeakMap;function ck(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function cT(e){return"string"==typeof e||Array.isArray(e)}let cS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cE=["initial",...cS];function cN(e){return ck(e.animate)||cE.some(t=>cT(e[t]))}function cI(e){return!!(cN(e)||e.variants)}function cP(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function cj(e,t,n,i){if("function"==typeof t){let[r,s]=cP(i);t=t(void 0!==n?n:e.custom,r,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[r,s]=cP(i);t=t(void 0!==n?n:e.custom,r,s)}return t}let cR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cA{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=co.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,hE.render(this.render,!1,!0))};const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=cN(t),this.isVariantNode=cI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in c){const t=c[e];void 0!==a[e]&&cr(t)&&t.set(a[e])}}mount(e){this.current=e,cC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),cw.current||function(){if(cw.current=!0,cb)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cx.current=e.matches;e.addEventListener("change",t),t()}else cx.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||cx.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),hN(this.notifyUpdate),hN(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let n;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let i=lO.has(e);i&&this.onBindTransform&&this.onBindTransform();let r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&hE.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),n&&n(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in cf){let t=cf[e];if(!t)continue;let{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):c_()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<cR.length;t++){let n=cR[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let i=e["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=function(e,t,n){for(let i in t){let r=t[i],s=n[i];if(cr(r))e.addValue(i,r);else if(cr(s))e.addValue(i,cu(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){let t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{let t=e.getStaticValue(i);e.addValue(i,cu(void 0!==t?t:r,{owner:e}))}}for(let i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=cu(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=n){let i,r;if("string"==typeof n&&(i=n,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i)||(r=n,/^0[^.\s]+$/u.test(r))))n=parseFloat(n);else{let i;i=n,!cd.find(hp(i))&&h2.test(t)&&(n=ct(e,t))}this.setBaseTarget(e,cr(n)?n.get():n)}return cr(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:n}=this.props;if("string"==typeof n||"object"==typeof n){let i=cj(this.props,n,this.presenceContext?.custom);i&&(t=i[e])}if(n&&void 0!==t)return t;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||cr(i)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new ch),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){cp.render(this.render)}}class cM extends cA{constructor(){super(...arguments),this.KeyframeResolver=ci}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;cr(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}let cD=(e,t)=>t&&"number"==typeof e?t.transform(e):e,cO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cL=lD.length;function cF(e,t,n){let{style:i,vars:r,transformOrigin:s}=e,o=!1,a=!1;for(let e in t){let n=t[e];if(lO.has(e)){o=!0;continue}if(lY(e)){r[e]=n;continue}{let t=cD(n,h9[e]);e.startsWith("origin")?(a=!0,s[e]=t):i[e]=t}}if(!t.transform&&(o||n?i.transform=function(e,t,n){let i="",r=!0;for(let s=0;s<cL;s++){let o=lD[s],a=e[o];if(void 0===a)continue;let l=!0;if(!(l="number"==typeof a?a===+!!o.startsWith("scale"):0===parseFloat(a))||n){let e=cD(a,h9[o]);if(!l){r=!1;let t=cO[o]||o;i+=`${t}(${e}) `}n&&(t[o]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),a){let{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin=`${e} ${t} ${n}`}}function cV(e,{style:t,vars:n},i,r){let s,o=e.style;for(s in t)o[s]=t[s];for(s in r?.applyProjectionStyles(o,i),n)o.setProperty(s,n[s])}function cq(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let cz={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!hh.test(e))return e;else e=parseFloat(e);let n=cq(e,t.target.x),i=cq(e,t.target.y);return`${n}% ${i}%`}},cB={borderRadius:{...cz,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cz,borderTopRightRadius:cz,borderBottomLeftRadius:cz,borderBottomRightRadius:cz,boxShadow:{correct:(e,{treeScale:t,projectionDelta:n})=>{let i=h2.parse(e);if(i.length>5)return e;let r=h2.createTransformer(e),s=+("number"!=typeof i[0]),o=n.x.scale*t.x,a=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=a;let l=lJ(o,a,.5);return"number"==typeof i[2+s]&&(i[2+s]/=l),"number"==typeof i[3+s]&&(i[3+s]/=l),r(i)}}};function cW(e,{layout:t,layoutId:n}){return lO.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!cB[e]||"opacity"===e)}function c$(e,t,n){let{style:i}=e,r={};for(let s in i)(cr(i[s])||t.style&&cr(t.style[s])||cW(s,e)||n?.getValue(s)?.liveStyle!==void 0)&&(r[s]=i[s]);return r}class cU extends cM{constructor(){super(...arguments),this.type="html",this.renderInstance=cV}readValueFromInstance(e,t){if(lO.has(t))return this.projection?.isProjecting?l$(t):((e,t)=>{let{transform:n="none"}=getComputedStyle(e);return lU(n,t)})(e,t);{let n=window.getComputedStyle(e),i=(lY(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return he(e,t)}build(e,t,n){cF(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return c$(e,t,n)}}let cH=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cK={offset:"stroke-dashoffset",array:"stroke-dasharray"},cY={offset:"strokeDashoffset",array:"strokeDasharray"};function cG(e,{attrX:t,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},l,h,c){if(cF(e,a,h),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:u,style:d}=e;u.transform&&(d.transform=u.transform,delete u.transform),(d.transform||u.transformOrigin)&&(d.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete u.transformBox),void 0!==t&&(u.x=t),void 0!==n&&(u.y=n),void 0!==i&&(u.scale=i),void 0!==r&&function(e,t,n=1,i=0,r=!0){e.pathLength=1;let s=r?cK:cY;e[s.offset]=hh.transform(-i);let o=hh.transform(t),a=hh.transform(n);e[s.array]=`${o} ${a}`}(u,r,s,o,!1)}let cX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),cQ=e=>"string"==typeof e&&"svg"===e.toLowerCase();function cZ(e,t,n){let i=c$(e,t,n);for(let n in e)(cr(e[n])||cr(t[n]))&&(i[-1!==lD.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]);return i}class cJ extends cM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=c_}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(lO.has(t)){let e=ce(t);return e&&e.default||0}return t=cX.has(t)?t:cH(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return cZ(e,t,n)}build(e,t,n){cG(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){for(let n in cV(e,t,void 0,i),t.attrs)e.setAttribute(cX.has(n)?n:cH(n),t.attrs[n])}mount(e){this.isSVGTag=cQ(e.tagName),super.mount(e)}}let c0=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c1(e){if("string"!=typeof e||e.includes("-"));else if(c0.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let c2=(0,B.createContext)({}),c3=(0,B.createContext)({strict:!1}),c5=(0,B.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),c4=(0,B.createContext)({});function c6(e){return Array.isArray(e)?e.join(" "):e}let c8=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function c9(e,t,n){for(let i in t)cr(t[i])||cW(i,n)||(e[i]=t[i])}let c7=()=>({...c8(),attrs:{}}),ue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ut(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ue.has(e)}let un=e=>!ut(e);try{I=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof I&&(un=e=>e.startsWith("on")?!ut(e):I(e))}catch{}let ui=(0,B.createContext)(null);function ur(e){let t=(0,B.useRef)(null);return null===t.current&&(t.current=e()),t.current}function us(e){return cr(e)?e.get():e}let uo=e=>(t,n)=>{let i=(0,B.useContext)(c4),r=(0,B.useContext)(ui),s=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,r){return{latestValues:function(e,t,n,i){let r={},s=i(e,{});for(let e in s)r[e]=us(s[e]);let{initial:o,animate:a}=e,l=cN(e),h=cI(e);t&&h&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let c=!!n&&!1===n.initial,u=(c=c||!1===o)?a:o;if(u&&"boolean"!=typeof u&&!ck(u)){let t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){let i=cj(e,t[n]);if(i){let{transitionEnd:e,transition:t,...n}=i;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=c?t.length-1:0;t=t[e]}null!==t&&(r[e]=t)}for(let t in e)r[t]=e[t]}}}return r}(n,i,r,e),renderState:t()}})(e,t,i,r);return n?s():ur(s)},ua=uo({scrapeMotionValuesFromProps:c$,createRenderState:c8}),ul=uo({scrapeMotionValuesFromProps:cZ,createRenderState:c7}),uh=Symbol.for("motionComponentSymbol");function uc(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let uu="data-"+cH("framerAppearId"),ud=(0,B.createContext)({}),up=cb?B.useLayoutEffect:B.useEffect;function um(e,{forwardMotionProps:t=!1}={},n,i){n&&function(e){for(let t in e)cf[t]={...cf[t],...e[t]}}(n);let r=c1(e)?ul:ua;function s(n,s){var o;let a,l={...(0,B.useContext)(c5),...n,layoutId:function({layoutId:e}){let t=(0,B.useContext)(c2).id;return t&&void 0!==e?t+"-"+e:e}(n)},{isStatic:h}=l,c=function(e){let{initial:t,animate:n}=function(e,t){if(cN(e)){let{initial:t,animate:n}=e;return{initial:!1===t||cT(t)?t:void 0,animate:cT(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,B.useContext)(c4));return(0,B.useMemo)(()=>({initial:t,animate:n}),[c6(t),c6(n)])}(n),u=r(n,h);if(!h&&cb){(0,B.useContext)(c3).strict;let t=function(e){let{drag:t,layout:n}=cf;if(!t&&!n)return{};let i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(l);a=t.MeasureLayout,c.visualElement=function(e,t,n,i,r){let{visualElement:s}=(0,B.useContext)(c4),o=(0,B.useContext)(c3),a=(0,B.useContext)(ui),l=(0,B.useContext)(c5).reducedMotion,h=(0,B.useRef)(null);i=i||o.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));let c=h.current,u=(0,B.useContext)(ud);c&&!c.projection&&r&&("html"===c.type||"svg"===c.type)&&function(e,t,n,i){let{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:h,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&uc(a),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:h})}(h.current,n,r,u);let d=(0,B.useRef)(!1);(0,B.useInsertionEffect)(()=>{c&&d.current&&c.update(n,a)});let p=n[uu],m=(0,B.useRef)(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return up(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),m.current&&c.animationState&&c.animationState.animateChanges())}),(0,B.useEffect)(()=>{c&&(!m.current&&c.animationState&&c.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),m.current=!1),c.enteringChildren=void 0)}),c}(e,u,l,i,t.ProjectionNode)}return(0,z.jsxs)(c4.Provider,{value:c,children:[a&&c.visualElement?(0,z.jsx)(a,{visualElement:c.visualElement,...l}):null,function(e,t,n,{latestValues:i},r,s=!1){let o=(c1(e)?function(e,t,n,i){let r=(0,B.useMemo)(()=>{let n=c7();return cG(n,t,cQ(i),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};c9(t,e.style,e),r.style={...t,...r.style}}return r}:function(e,t){let n,i,r={},s=(n=e.style||{},c9(i={},n,e),Object.assign(i,function({transformTemplate:e},t){return(0,B.useMemo)(()=>{let n=c8();return cF(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),i);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r})(t,i,r,e),a=function(e,t,n){let i={};for(let r in e)("values"!==r||"object"!=typeof e.values)&&(un(r)||!0===n&&ut(r)||!t&&!ut(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(t,"string"==typeof e,s),l=e!==B.Fragment?{...a,...o,ref:n}:{},{children:h}=t,c=(0,B.useMemo)(()=>cr(h)?h.get():h,[h]);return(0,B.createElement)(e,{...l,children:c})}(e,n,(o=c.visualElement,(0,B.useCallback)(e=>{e&&u.onMount&&u.onMount(e),o&&(e?o.mount(e):o.unmount()),s&&("function"==typeof s?s(e):uc(s)&&(s.current=e))},[o])),u,h,t)]})}s.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let o=(0,B.forwardRef)(s);return o[uh]=e,o}function uf(e,t,n){let i=e.getProps();return cj(i,t,void 0!==n?n:i.custom,e)}function ug(e,t){return e?.[t]??e?.default??e}let uy=e=>Array.isArray(e);function uv(e,t){let n=e.getValue("willChange");if(cr(n)&&n.add)return n.add(t);if(!n&&hk.WillChange){let n=new hk.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function u_(e){e.duration=0,e.type="keyframes"}let ub=(e,t)=>n=>t(e(n)),ux=(...e)=>e.reduce(ub),uw=e=>1e3*e,uC={layout:0,mainThread:0,waapi:0};function uk(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uT(e,t){return n=>n>0?t:e}let uS=(e,t,n)=>{let i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},uE=[hU,h$,hH];function uN(e){let t=uE.find(t=>t.test(e));if(hg(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===hH&&(n=function({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,n/=100;let r=0,s=0,o=0;if(t/=100){let i=n<.5?n*(1+t):n+t-n*t,a=2*n-i;r=uk(a,i,e+1/3),s=uk(a,i,e),o=uk(a,i,e-1/3)}else r=s=o=n;return{red:Math.round(255*r),green:Math.round(255*s),blue:Math.round(255*o),alpha:i}}(n)),n}let uI=(e,t)=>{let n=uN(e),i=uN(t);if(!n||!i)return uT(e,t);let r={...n};return e=>(r.red=uS(n.red,i.red,e),r.green=uS(n.green,i.green,e),r.blue=uS(n.blue,i.blue,e),r.alpha=lJ(n.alpha,i.alpha,e),h$.transform(r))},uP=new Set(["none","hidden"]);function uj(e,t){return n=>lJ(e,t,n)}function uR(e){return"number"==typeof e?uj:"string"==typeof e?lX(e)?uT:hK.test(e)?uI:uD:Array.isArray(e)?uA:"object"==typeof e?hK.test(e)?uI:uM:uT}function uA(e,t){let n=[...e],i=n.length,r=e.map((e,n)=>uR(e)(e,t[n]));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function uM(e,t){let n={...e,...t},i={};for(let r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=uR(e[r])(e[r],t[r]));return e=>{for(let t in i)n[t]=i[t](e);return n}}let uD=(e,t)=>{let n=h2.createTransformer(t),i=hZ(e),r=hZ(t);if(!(i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length))return hg(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),uT(e,t);if(uP.has(e)&&!r.values.length||uP.has(t)&&!i.values.length)return uP.has(e)?n=>n<=0?e:t:n=>n>=1?t:e;return ux(uA(function(e,t){let n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){let s=t.types[r],o=e.indexes[s][i[s]],a=e.values[o]??0;n[r]=a,i[s]++}return n}(i,r),r.values),n)};function uO(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?lJ(e,t,n):uR(e)(e,t)}let uL=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>hE.update(t,e),stop:()=>hN(t),now:()=>hI.isProcessing?hI.timestamp:co.now()}},uF=(e,t,n=10)=>{let i="",r=Math.max(Math.round(t/n),2);for(let t=0;t<r;t++)i+=Math.round(1e4*e(t/(r-1)))/1e4+", ";return`linear(${i.substring(0,i.length-2)})`};function uV(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function uq(e,t,n){var i,r;let s=Math.max(t-5,0);return i=n-e(s),(r=t-s)?1e3/r*i:0}let uz=.01,uB=2,uW=.005,u$=.5;function uU(e,t){return e*Math.sqrt(1-t*t)}let uH=["duration","bounce"],uK=["stiffness","damping","mass"];function uY(e,t){return t.some(t=>void 0!==e[t])}function uG(e=.3,t=.3){let n,i="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:s}=i,o=i.keyframes[0],a=i.keyframes[i.keyframes.length-1],l={done:!1,value:o},{stiffness:h,damping:c,mass:u,duration:d,velocity:p,isResolvedFromDuration:m}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!uY(e,uK)&&uY(e,uH))if(e.visualDuration){let n=2*Math.PI/(1.2*e.visualDuration),i=n*n,r=2*hn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:1,stiffness:i,damping:r}}else{let n=function({duration:e=800,bounce:t=.3,velocity:n=0,mass:i=1}){let r,s;hg(e<=uw(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=hn(.05,1,o),e=hn(.01,10,e/1e3),o<1?(r=t=>{let i=t*o,r=i*e;return .001-(i-n)/uU(t,o)*Math.exp(-r)},s=t=>{let i=t*o*e,s=Math.pow(o,2)*Math.pow(t,2)*e,a=Math.exp(-i),l=uU(Math.pow(t,2),o);return(i*n+n-s)*a*(-r(t)+.001>0?-1:1)/l}):(r=t=>-.001+Math.exp(-t*e)*((t-n)*e+1),s=t=>e*e*(n-t)*Math.exp(-t*e));let a=function(e,t,n){let i=n;for(let n=1;n<12;n++)i-=e(i)/t(i);return i}(r,s,5/e);if(e=uw(e),isNaN(a))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(a,2)*i;return{stiffness:t,damping:2*o*Math.sqrt(i*t),duration:e}}}(e);(t={...t,...n,mass:1}).isResolvedFromDuration=!0}return t}({...i,velocity:-((i.velocity||0)/1e3)}),f=p||0,g=c/(2*Math.sqrt(h*u)),y=a-o,v=Math.sqrt(h/u)/1e3,_=5>Math.abs(y);if(r||(r=_?uz:uB),s||(s=_?uW:u$),g<1){let e=uU(v,g);n=t=>a-Math.exp(-g*v*t)*((f+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===g)n=e=>a-Math.exp(-v*e)*(y+(f+v*y)*e);else{let e=v*Math.sqrt(g*g-1);n=t=>{let n=Math.exp(-g*v*t),i=Math.min(e*t,300);return a-n*((f+g*v*y)*Math.sinh(i)+e*y*Math.cosh(i))/e}}let b={calculatedDuration:m&&d||null,next:e=>{let t=n(e);if(m)l.done=e>=d;else{let i=0===e?f:0;g<1&&(i=0===e?uw(f):uq(n,e,t));let o=Math.abs(a-t)<=s;l.done=Math.abs(i)<=r&&o}return l.value=l.done?a:t,l},toString:()=>{let e=Math.min(uV(b),2e4),t=uF(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function uX({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:h=.5,restSpeed:c}){let u,d,p=e[0],m={done:!1,value:p},f=n*t,g=p+f,y=void 0===o?g:o(g);y!==g&&(f=y-p);let v=e=>-f*Math.exp(-e/i),_=e=>y+v(e),b=e=>{let t=v(e),n=_(e);m.done=Math.abs(t)<=h,m.value=m.done?y:n},x=e=>{let t;if(t=m.value,void 0!==a&&t<a||void 0!==l&&t>l){var n;u=e,d=uG({keyframes:[m.value,(n=m.value,void 0===a?l:void 0===l||Math.abs(a-n)<Math.abs(l-n)?a:l)],velocity:uq(_,e,m.value),damping:r,stiffness:s,restDelta:h,restSpeed:c})}};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==u||(t=!0,b(e),x(e)),void 0!==u&&e>=u)?d.next(e-u):(t||b(e),m)}}}uG.applyToOptions=e=>{let t=function(e,t=100,n){let i=n({...e,keyframes:[0,t]}),r=Math.min(uV(i),2e4);return{type:"keyframes",ease:e=>i.next(r*e).value/t,duration:r/1e3}}(e,100,uG);return e.ease=t.ease,e.duration=uw(t.duration),e.type="keyframes",e};let uQ=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function uZ(e,t,n,i){return e===t&&n===i?hC:r=>0===r||1===r?r:uQ(function(e,t,n,i,r){let s,o,a=0;do(s=uQ(o=t+(n-t)/2,i,r)-e)>0?n=o:t=o;while(Math.abs(s)>1e-7&&++a<12)return o}(r,0,1,e,n),t,i)}let uJ=uZ(.42,0,1,1),u0=uZ(0,0,.58,1),u1=uZ(.42,0,.58,1),u2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,u3=e=>t=>1-e(1-t),u5=uZ(.33,1.53,.69,.99),u4=u3(u5),u6=u2(u4),u8=e=>(e*=2)<1?.5*u4(e):.5*(2-Math.pow(2,-10*(e-1))),u9=e=>1-Math.sin(Math.acos(e)),u7=u3(u9),de=u2(u9),dt=e=>Array.isArray(e)&&"number"==typeof e[0],dn={linear:hC,easeIn:uJ,easeInOut:u1,easeOut:u0,circIn:u9,circInOut:de,circOut:u7,backIn:u4,backInOut:u6,backOut:u5,anticipate:u8},di=e=>{if(dt(e)){hy(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,n,i,r]=e;return uZ(t,n,i,r)}return"string"==typeof e?(hy(void 0!==dn[e],`Invalid easing type '${e}'`,"invalid-easing-type"),dn[e]):e},dr=(e,t,n)=>{let i=t-e;return 0===i?1:(n-e)/i};function ds({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){var r;let s,o=Array.isArray(i)&&"number"!=typeof i[0]?i.map(di):di(i),a={done:!1,value:t[0]},l=function(e,t,{clamp:n=!0,ease:i,mixer:r}={}){let s=e.length;if(hy(s===t.length,"Both input and output ranges must be the same length","range-length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=function(e,t,n){let i=[],r=n||hk.mix||uO,s=e.length-1;for(let n=0;n<s;n++){let s=r(e[n],e[n+1]);t&&(s=ux(Array.isArray(t)?t[n]||hC:t,s)),i.push(s)}return i}(t,i,r),l=a.length,h=n=>{if(o&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);let r=dr(e[i],e[i+1],n);return a[i](r)};return n?t=>h(hn(e[0],e[s-1],t)):h}((r=n&&n.length===t.length?n:(!function(e,t){let n=e[e.length-1];for(let i=1;i<=t;i++){let r=dr(0,t,i);e.push(lJ(n,1,r))}}(s=[0],t.length-1),s),r.map(t=>t*e)),t,{ease:Array.isArray(o)?o:t.map(()=>o||u1).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(a.value=l(t),a.done=t>=e,a)}}let da=e=>null!==e;function dl(e,{repeat:t,repeatType:n="loop"},i,r=1){let s=e.filter(da),o=r<0||t&&"loop"!==n&&t%2==1?0:s.length-1;return o&&void 0!==i?i:s[o]}let dh={decay:uX,inertia:uX,tween:ds,keyframes:ds,spring:uG};function dc(e){"string"==typeof e.type&&(e.type=dh[e.type])}class du{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let dd=e=>e/100;class dp extends du{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==co.now()&&this.tick(co.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},uC.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;dc(e);let{type:t=ds,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:s=0}=e,{keyframes:o}=e,a=t||ds;a!==ds&&"number"!=typeof o[0]&&(this.mixKeyframes=ux(dd,uO(o[0],o[1])),o=[0,100]);let l=a({...e,keyframes:o});"mirror"===r&&(this.mirroredGenerator=a({...e,keyframes:[...o].reverse(),velocity:-s})),null===l.calculatedDuration&&(l.calculatedDuration=uV(l));let{calculatedDuration:h}=l;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);let{delay:l=0,keyframes:h,repeat:c,repeatType:u,repeatDelay:d,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let v=this.currentTime,_=n;if(c){let e=Math.min(this.currentTime,i)/o,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,(t=Math.min(t,c+1))%2&&("reverse"===u?(n=1-n,d&&(n-=d/o)):"mirror"===u&&(_=s)),v=hn(0,1,n)*o}let b=y?{done:!1,value:h[0]}:_.next(v);r&&(b.value=r(b.value));let{done:x}=b;y||null===a||(x=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);let w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return w&&p!==uX&&(b.value=dl(h,this.options,f,this.speed)),m&&m(b.value),w&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=uw(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(co.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=uL,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(co.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,uC.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function dm(e){let t;return()=>(void 0===t&&(t=e()),t)}let df=dm(()=>void 0!==window.ScrollTimeline),dg={},dy=(x=dm(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>dg.linearEasing??x()),dv=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,d_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dv([0,.65,.55,1]),circOut:dv([.55,0,1,.45]),backIn:dv([.31,.01,.66,-.59]),backOut:dv([.33,1.53,.69,.99])};function db(e){return"function"==typeof e&&"applyToOptions"in e}class dx extends du{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:r,allowFlatten:s=!1,finalKeyframe:o,onComplete:a}=e;this.isPseudoElement=!!r,this.allowFlatten=s,this.options=e,hy("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return db(e)&&dy()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},h){let c={[t]:n};l&&(c.offset=l);let u=function e(t,n){if(t)return"function"==typeof t?dy()?uF(t,n):"ease-out":dt(t)?dv(t):Array.isArray(t)?t.map(t=>e(t,n)||d_.easeOut):d_[t]}(a,r);Array.isArray(u)&&(c.easing=u);let d={delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"};h&&(d.pseudoElement=h);let p=e.animate(c,d);return p}(t,n,i,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){let e=dl(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):n.startsWith("--")?t.style.setProperty(n,e):t.style[n]=e,this.animation.cancel()}a?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.finishedTime=null,this.animation.currentTime=uw(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&df())?(this.animation.timeline=e,hC):t(this)}}let dw={anticipate:u8,backInOut:u6,circInOut:de};class dC extends dx{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in dw&&(e.ease=dw[e.ease])}(e),dc(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:i,element:r,...s}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let o=new dp({...s,autoplay:!1}),a=uw(this.finishedTime??this.time);t.setWithVelocity(o.sample(a-10).value,o.sample(a).value,10),o.stop()}}let dk=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(h2.test(e)||"0"===e)&&!e.startsWith("url(")),dT=new Set(["opacity","clipPath","filter","transform"]),dS=dm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class dE extends du{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s="loop",keyframes:o,name:a,motionValue:l,element:h,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=co.now();const u={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:r,repeatType:s,name:a,motionValue:l,element:h,...c},d=h?.KeyframeResolver||hL;this.keyframeResolver=new d(o,(e,t,n)=>this.onKeyframesResolved(e,t,u,!n),a,l,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;let{name:r,type:s,velocity:o,delay:a,isHandoff:l,onUpdate:h}=n;this.resolvedAt=co.now(),!function(e,t,n,i){let r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;let s=e[e.length-1],o=dk(r,t),a=dk(s,t);return hg(o===a,`You are trying to animate ${t} from "${r}" to "${s}". "${o?s:r}" is not an animatable value.`,"value-not-animatable"),!!o&&!!a&&(function(e){let t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||db(n))&&i)}(e,r,s,o)&&((hk.instantAnimations||!a)&&h?.(dl(e,n,t)),e[0]=e[e.length-1],u_(n),n.repeat=0);let c={startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},u=!l&&function(e){let{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:a,transformTemplate:l}=t.owner.getProps();return dS()&&n&&dT.has(n)&&("transform"!==n||!l)&&!a&&!i&&"mirror"!==r&&0!==s&&"inertia"!==o}(c)?new dC({...c,element:c.motionValue.owner.current}):new dp(c);u.finished.then(()=>this.notifyFinished()).catch(hC),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),hM=!0,hO(),hD(),hM=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let dN=e=>null!==e,dI={type:"spring",stiffness:500,damping:25,restSpeed:10},dP={type:"keyframes",duration:.8},dj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dR=(e,t,n,i={},r,s)=>o=>{let a=ug(i,e)||{},l=a.delay||i.delay||0,{elapsed:h=0}=i;h-=uw(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-h,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:r};!function({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:h,...c}){return!!Object.keys(c).length}(a)&&Object.assign(c,((e,{keyframes:t})=>t.length>2?dP:lO.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:dI:dj)(e,c)),c.duration&&(c.duration=uw(c.duration)),c.repeatDelay&&(c.repeatDelay=uw(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let u=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(u_(c),0===c.delay&&(u=!0)),(hk.instantAnimations||hk.skipAnimations)&&(u=!0,u_(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,u&&!s&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:n="loop"},i){let r=e.filter(dN),s=t&&"loop"!==n&&t%2==1?0:r.length-1;return r[s]}(c.keyframes,a);if(void 0!==e)return void hE.update(()=>{c.onUpdate(e),c.onComplete()})}return a.isSync?new dp(c):new dE(c)};function dA(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;i&&(s=i);let l=[],h=r&&e.animationState&&e.animationState.getState()[r];for(let t in a){let i=e.getValue(t,e.latestValues[t]??null),r=a[t];if(void 0===r||h&&function({protectedKeys:e,needsAnimating:t},n){let i=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,i}(h,t))continue;let o={delay:n,...ug(s||{},t)},c=i.get();if(void 0!==c&&!i.isAnimating&&!Array.isArray(r)&&r===c&&!o.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){let n=e.props[uu];if(n){let e=window.MotionHandoffAnimation(n,t,hE);null!==e&&(o.startTime=e,u=!0)}}uv(e,t),i.start(dR(t,i,r,e.shouldReduceMotion&&ht.has(t)?{type:!1}:o,e,u));let d=i.animation;d&&l.push(d)}return o&&Promise.all(l).then(()=>{hE.update(()=>{o&&function(e,t){let{transitionEnd:n={},transition:i={},...r}=uf(e,t)||{};for(let t in r={...r,...n}){var s;let n=uy(s=r[t])?s[s.length-1]||0:s;e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,cu(n))}}(e,o)})}),l}function dM(e,t,n,i=0,r=1){let s=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,a=(o-1)*i;return"function"==typeof n?n(s,o):1===r?s*i:a-s*i}function dD(e,t,n={}){let i=uf(e,t,"exit"===n.type?e.presenceContext?.custom:void 0),{transition:r=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);let s=i?()=>Promise.all(dA(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(i=0)=>{let{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=r;return function(e,t,n=0,i=0,r=0,s=1,o){let a=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),a.push(dD(l,t,{...o,delay:n+("function"==typeof i?0:i)+dM(e.variantChildren,l,i,r,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}(e,t,i,s,o,a,n)}:()=>Promise.resolve(),{when:a}=r;if(!a)return Promise.all([s(),o(n.delay)]);{let[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then(()=>t())}}function dO(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}let dL=cE.length,dF=[...cS].reverse(),dV=cS.length;function dq(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dz(){return{animate:dq(!0),whileInView:dq(),whileHover:dq(),whileTap:dq(),whileDrag:dq(),whileFocus:dq(),exit:dq()}}class dB{constructor(e){this.isMounted=!1,this.node=e}update(){}}let dW=0,d$={x:!1,y:!1};function dU(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}let dH=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function dK(e){return{point:{x:e.pageX,y:e.pageY}}}function dY(e,t,n,i){return dU(e,t,e=>dH(e)&&n(e,dK(e)),i)}function dG(e){return e.max-e.min}function dX(e,t,n,i=.5){e.origin=i,e.originPoint=lJ(t.min,t.max,e.origin),e.scale=dG(n)/dG(t),e.translate=lJ(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function dQ(e,t,n,i){dX(e.x,t.x,n.x,i?i.originX:void 0),dX(e.y,t.y,n.y,i?i.originY:void 0)}function dZ(e,t,n){e.min=n.min+t.min,e.max=e.min+dG(t)}function dJ(e,t,n){e.min=t.min-n.min,e.max=e.min+dG(t)}function d0(e,t,n){dJ(e.x,t.x,n.x),dJ(e.y,t.y,n.y)}function d1(e){return[e("x"),e("y")]}let d2=({current:e})=>e?e.ownerDocument.defaultView:null,d3=(e,t)=>Math.abs(e-t);class d5{constructor(e,t,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=d8(this.lastMoveEventInfo,this.history),i=null!==this.startEvent,r=(e=n.offset,t={x:0,y:0},Math.sqrt(d3(e.x,t.x)**2+d3(e.y,t.y)**2)>=this.distanceThreshold);if(!i&&!r)return;let{point:s}=n,{timestamp:o}=hI;this.history.push({...s,timestamp:o});let{onStart:a,onMove:l}=this.handlers;i||(a&&a(this.lastMoveEvent,n),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,n)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=d4(t,this.transformPagePoint),hE.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=d8("pointercancel"===e.type?this.lastMoveEventInfo:d4(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),i&&i(e,s)},!dH(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;const o=d4(dK(e),this.transformPagePoint),{point:a}=o,{timestamp:l}=hI;this.history=[{...a,timestamp:l}];const{onSessionStart:h}=t;h&&h(e,d8(o,this.history)),this.removeListeners=ux(dY(this.contextWindow,"pointermove",this.handlePointerMove),dY(this.contextWindow,"pointerup",this.handlePointerUp),dY(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hN(this.updatePoint)}}function d4(e,t){return t?{point:t(e.point)}:e}function d6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function d8({point:e},t){return{point:e,delta:d6(e,d9(t)),offset:d6(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null,r=d9(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>uw(.1)));)n--;if(!i)return{x:0,y:0};let s=(r.timestamp-i.timestamp)/1e3;if(0===s)return{x:0,y:0};let o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}(t,.1)}}function d9(e){return e[e.length-1]}function d7(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function pe(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function pt(e,t,n){return{min:pn(e,t),max:pn(e,n)}}function pn(e,t){return"number"==typeof e?e:e[t]||0}let pi=new WeakMap;class pr{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=c_(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let r=e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(dK(e).point)},s=(e,t)=>{let{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(d$[e])return null;else return d$[e]=!0,()=>{d$[e]=!1};return d$.x||d$.y?null:(d$.x=d$.y=!0,()=>{d$.x=d$.y=!1})}(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),d1(e=>{let t=this.getAxisMotionValue(e).get()||0;if(hl.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let i=n.layout.layoutBox[e];i&&(t=dG(i)*(parseFloat(t)/100))}}this.originPoint[e]=t}),r&&hE.postRender(()=>r(e,t)),uv(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:o}=t;if(i&&null===this.currentDirection){this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(o),null!==this.currentDirection&&r&&r(this.currentDirection);return}this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},a=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>d1(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new d5(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:d2(this.visualElement)})}stop(e,t){let n=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!n)return;let{velocity:s}=i;this.startAnimation(s);let{onDragEnd:o}=this.getProps();o&&hE.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){let{drag:i}=this.getProps();if(!n||!ps(e,i,this.currentDirection))return;let r=this.getAxisMotionValue(e),s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},i){return void 0!==t&&e<t?e=i?lJ(t,e,i.min):Math.max(e,t):void 0!==n&&e>n&&(e=i?lJ(n,e,i.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),r.set(s)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&uc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=function(e,{top:t,left:n,bottom:i,right:r}){return{x:d7(e.x,n,r),y:d7(e.y,t,i)}}(n.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:pt(e,"left","right"),y:pt(e,"top","bottom")}}(t),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&d1(e=>{var t,i;let r;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=n.layoutBox[e],i=this.constraints[e],r={},void 0!==i.min&&(r.min=i.min-t.min),void 0!==i.max&&(r.max=i.max-t.min),r))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!uc(t))return!1;let i=t.current;hy(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let s=function(e,t,n){let i=he(e,n),{scroll:r}=t;return r&&(l8(i.x,r.offset.x),l8(i.y,r.offset.y)),i}(i,r.root,this.visualElement.getTransformPagePoint()),o=(e=r.layout.layoutBox,{x:pe(e.x,s.x),y:pe(e.y,s.y)});if(n){let e=n(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=lZ(e))}return o}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{};return Promise.all(d1(o=>{if(!ps(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});let h={type:"inertia",velocity:n?e[o]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(o,h)})).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return uv(this.visualElement,e),n.start(dR(e,n,0,t,this.visualElement,!1))}stopAnimation(){d1(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){d1(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){d1(t=>{let{drag:n}=this.getProps();if(!ps(t,n,this.currentDirection))return;let{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){let{min:n,max:s}=i.layout.layoutBox[t];r.set(e[t]-lJ(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!uc(t)||!n||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};d1(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var n,r;let s,o,a,l=t.get();i[e]=(n={min:l,max:l},r=this.constraints[e],s=.5,o=dG(n),(a=dG(r))>o?s=dr(r.min,r.max-o,n.min):o>a&&(s=dr(n.min,n.max-a,r.min)),hn(0,1,s))}});let{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),d1(t=>{if(!ps(t,e,null))return;let n=this.getAxisMotionValue(t),{min:r,max:s}=this.constraints[t];n.set(lJ(r,s,i[t]))})}addListeners(){if(!this.visualElement.current)return;pi.set(this.visualElement,this);let e=dY(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();uc(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),hE.read(t);let r=dU(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(d1(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),e(),i(),s&&s()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:s=.35,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:s,dragMomentum:o}}}function ps(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}let po=e=>(t,n)=>{e&&hE.postRender(()=>e(t,n))};var pa=B;function pl(e=!0){let t=(0,B.useContext)(ui);if(null===t)return[!0,null];let{isPresent:n,onExitComplete:i,register:r}=t,s=(0,B.useId)();(0,B.useEffect)(()=>{if(e)return r(s)},[e]);let o=(0,B.useCallback)(()=>e&&i&&i(s),[s,i,e]);return!n&&i?[!1,o]:[!0]}let ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1},pc=!1;class pu extends pa.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),pc&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,{projection:s}=n;return s&&(s.isPresent=r,pc=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==r?s.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?s.promote():s.relegate()||hE.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;pc=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pd(e){let[t,n]=pl(),i=(0,pa.useContext)(c2);return(0,z.jsx)(pu,{...e,layoutGroup:i,switchLayoutGroup:(0,pa.useContext)(ud),isPresent:t,safeToRemove:n})}function pp(e){return"object"==typeof e&&null!==e}function pm(e){return pp(e)&&"ownerSVGElement"in e}let pf=(e,t)=>e.depth-t.depth;class pg{constructor(){this.children=[],this.isDirty=!1}add(e){ca(this.children,e),this.isDirty=!0}remove(e){cl(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pf),this.isDirty=!1,this.children.forEach(e)}}let py=["TopLeft","TopRight","BottomLeft","BottomRight"],pv=py.length,p_=e=>"string"==typeof e?parseFloat(e):e,pb=e=>"number"==typeof e||hh.test(e);function px(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let pw=pk(0,.5,u7),pC=pk(.5,.95,hC);function pk(e,t,n){return i=>i<e?0:i>t?1:n(dr(e,t,i))}function pT(e,t){e.min=t.min,e.max=t.max}function pS(e,t){pT(e.x,t.x),pT(e.y,t.y)}function pE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function pN(e,t,n,i,r){return e-=t,e=i+1/n*(e-i),void 0!==r&&(e=i+1/r*(e-i)),e}function pI(e,t,[n,i,r],s,o){!function(e,t=0,n=1,i=.5,r,s=e,o=e){if(hl.test(t)&&(t=parseFloat(t),t=lJ(o.min,o.max,t/100)-o.min),"number"!=typeof t)return;let a=lJ(s.min,s.max,i);e===s&&(a-=t),e.min=pN(e.min,t,n,a,r),e.max=pN(e.max,t,n,a,r)}(e,t[n],t[i],t[r],t.scale,s,o)}let pP=["x","scaleX","originX"],pj=["y","scaleY","originY"];function pR(e,t,n,i){pI(e.x,t,pP,n?n.x:void 0,i?i.x:void 0),pI(e.y,t,pj,n?n.y:void 0,i?i.y:void 0)}function pA(e){return 0===e.translate&&1===e.scale}function pM(e){return pA(e.x)&&pA(e.y)}function pD(e,t){return e.min===t.min&&e.max===t.max}function pO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function pL(e,t){return pO(e.x,t.x)&&pO(e.y,t.y)}function pF(e){return dG(e.x)/dG(e.y)}function pV(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class pq{constructor(){this.members=[]}add(e){ca(this.members,e),e.scheduleRender()}remove(e){if(cl(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,n=this.members.findIndex(t=>e===t);if(0===n)return!1;for(let e=n;e>=0;e--){let n=this.members[e];if(!1!==n.isPresent){t=n;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let pz=["","X","Y","Z"],pB=0;function pW(e,t,n,i){let{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function p$({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(e={},n=t?.()){this.id=pB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pK),this.nodes.forEach(p0),this.nodes.forEach(p1),this.nodes.forEach(pY)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new pg)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ch),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=pm(t)&&!(pm(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:n,layout:i,visualElement:r}=this.options;if(r&&!r.current&&r.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||n)&&(this.isLayoutDirty=!0),e){let n,i=0,r=()=>this.root.updateBlockedByResize=!1;hE.read(()=>{i=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==i){let t,s;i=e,this.root.updateBlockedByResize=!0,n&&n(),t=co.now(),s=({timestamp:e})=>{let n=e-t;n>=250&&(hN(s),r(n-250))},hE.setup(s,!0),n=()=>hN(s),ph.hasAnimatedSinceResize&&(ph.hasAnimatedSinceResize=!1,this.nodes.forEach(pJ))}})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&r&&(n||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let s=this.options.transition||r.getDefaultTransition()||p8,{onLayoutAnimationStart:o,onLayoutAnimationComplete:a}=r.getProps(),l=!this.targetLayout||!pL(this.targetLayout,i),h=!t&&n;if(this.options.layoutRoot||this.resumeFrom||h||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...ug(s,"layout"),onPlay:o,onComplete:a};(r.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,h)}else t||pJ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hN(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p2),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:n}=t.options;if(!n)return;let i=n.props[uu];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:e,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",hE,!(e||n))}let{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e(r)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pX);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(pQ);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pZ),this.nodes.forEach(pU),this.nodes.forEach(pH)):this.nodes.forEach(pQ),this.clearAllSnapshots();let e=co.now();hI.delta=hn(0,1e3/60,e-hI.timestamp),hI.timestamp=e,hI.isProcessing=!0,hP.update.process(hI),hP.preRender.process(hI),hP.render.process(hI),hI.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pG),this.sharedNodes.forEach(p3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hE.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hE.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||dG(this.snapshot.measuredBox.x)||dG(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=c_(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!pM(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,s=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||l2(this.latestValues)||s)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let n=this.measurePageBox(),i=this.removeElementScroll(n);return e&&(i=this.removeTransform(i)),me((t=i).x),me(t.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return c_();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mn))){let{scroll:e}=this.root;e&&(l8(t.x,e.offset.x),l8(t.y,e.offset.y))}return t}removeElementScroll(e){let t=c_();if(pS(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let i=this.path[n],{scroll:r,options:s}=i;i!==this.root&&r&&s.layoutScroll&&(r.wasRoot&&pS(t,e),l8(t.x,r.offset.x),l8(t.y,r.offset.y))}return t}applyTransform(e,t=!1){let n=c_();pS(n,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&l7(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l2(i.latestValues)&&l7(n,i.latestValues)}return l2(this.latestValues)&&l7(n,this.latestValues),n}removeTransform(e){let t=c_();pS(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!l2(n.latestValues))continue;l1(n.latestValues)&&n.updateSnapshot();let i=c_();pS(i,n.measurePageBox()),pR(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,i)}return l2(this.latestValues)&&pR(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hI.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:i,layoutId:r}=this.options;if(!this.layout||!(i||r))return;this.resolvedRelativeTargetAt=hI.timestamp;let s=this.getClosestProjectingParent();if(s&&this.linkedParentVersion!==s.layoutVersion&&!s.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(s&&s.layout?this.createRelativeTarget(s,this.layout.layoutBox,s.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=c_(),this.targetWithTransforms=c_()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var o,a,l;this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,dZ(o.x,a.x,l.x),dZ(o.y,a.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pS(this.target,this.layout.layoutBox),l6(this.target,this.targetDelta)):pS(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,s&&!!s.resumingFrom==!!this.resumingFrom&&!s.options.layoutScroll&&s.target&&1!==this.animationProgress?this.createRelativeTarget(s,this.target,s.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||l1(this.parent.latestValues)||l3(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=c_(),this.relativeTargetOrigin=c_(),d0(this.relativeTargetOrigin,t,n),pS(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===hI.timestamp&&(n=!1),n)return;let{layout:i,layoutId:r}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||r))return;pS(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,i=!1){let r,s,o=n.length;if(o){t.x=t.y=1;for(let a=0;a<o;a++){s=(r=n[a]).projectionDelta;let{visualElement:o}=r.options;(!o||!o.props.style||"contents"!==o.props.style.display)&&(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&l7(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,l6(e,s)),i&&l2(r.latestValues)&&l7(e,r.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=c_());let{target:a}=e;if(!a){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(pE(this.prevProjectionDelta.x,this.projectionDelta.x),pE(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),dQ(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&pV(this.projectionDelta.x,this.prevProjectionDelta.x)&&pV(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cy(),this.projectionDelta=cy(),this.projectionDeltaWithTransform=cy()}setAnimationOrigin(e,t=!1){let n,i=this.snapshot,r=i?i.latestValues:{},s={...this.latestValues},o=cy();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let a=c_(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),h=this.getStack(),c=!h||h.members.length<=1,u=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(p6));this.animationProgress=0,this.mixTargetDelta=t=>{let i=t/1e3;if(p5(o.x,e.x,i),p5(o.y,e.y,i),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var h,d,p,m,f,g;d0(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=a,g=i,p4(p.x,m.x,f.x,g),p4(p.y,m.y,f.y,g),n&&(h=this.relativeTarget,d=n,pD(h.x,d.x)&&pD(h.y,d.y))&&(this.isProjectionDirty=!1),n||(n=c_()),pS(n,this.relativeTarget)}l&&(this.animationValues=s,function(e,t,n,i,r,s){r?(e.opacity=lJ(0,n.opacity??1,pw(i)),e.opacityExit=lJ(t.opacity??1,0,pC(i))):s&&(e.opacity=lJ(t.opacity??1,n.opacity??1,i));for(let r=0;r<pv;r++){let s=`border${py[r]}Radius`,o=px(t,s),a=px(n,s);(void 0!==o||void 0!==a)&&(o||(o=0),a||(a=0),0===o||0===a||pb(o)===pb(a)?(e[s]=Math.max(lJ(p_(o),p_(a),i),0),(hl.test(a)||hl.test(o))&&(e[s]+="%")):e[s]=a)}(t.rotate||n.rotate)&&(e.rotate=lJ(t.rotate||0,n.rotate||0,i))}(s,r,this.latestValues,i,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(hN(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hE.update(()=>{var t,n,i;let r;ph.hasAnimatedSinceResize=!0,uC.layout++,this.motionValue||(this.motionValue=cu(0)),this.currentAnimation=(t=this.motionValue,n=[0,1e3],i={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{uC.layout--},onComplete:()=>{uC.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(r=cr(t)?t:cu(t)).start(dR("",r,n,i)),r.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&mt(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||c_();let t=dG(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let i=dG(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}pS(t,n),l7(t,r),dQ(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new pq),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let i={};n.z&&pW("z",e,i,this.animationValues);for(let t=0;t<pz.length;t++)pW(`rotate${pz[t]}`,e,i,this.animationValues),pW(`skew${pz[t]}`,e,i,this.animationValues);for(let t in e.render(),i)e.setStaticValue(t,i[t]),this.animationValues&&(this.animationValues[t]=i[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=us(t?.pointerEvents)||"",e.transform=n?n(this.latestValues,""):"none";return}let i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=us(t?.pointerEvents)||""),this.hasProjected&&!l2(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1);return}e.visibility="";let r=i.animationValues||i.latestValues;this.applyTransformsToTarget();let s=function(e,t,n){let i="",r=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(1!==t.x||1!==t.y)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:r,rotateY:s,skewX:o,skewY:a}=n;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),r&&(i+=`rotateX(${r}deg) `),s&&(i+=`rotateY(${s}deg) `),o&&(i+=`skewX(${o}deg) `),a&&(i+=`skewY(${a}deg) `)}let a=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==a||1!==l)&&(i+=`scale(${a}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);n&&(s=n(r,s)),e.transform=s;let{x:o,y:a}=this.projectionDelta;for(let t in e.transformOrigin=`${100*o.origin}% ${100*a.origin}% 0`,i.animationValues?e.opacity=i===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=i===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0,cB){if(void 0===r[t])continue;let{correct:n,applyTo:o,isCSSVariable:a}=cB[t],l="none"===s?r[t]:n(r[t],i);if(o){let t=o.length;for(let n=0;n<t;n++)e[o[n]]=l}else a?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=i===this?us(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(pX),this.root.sharedNodes.clear()}}}function pU(e){e.updateLayout()}function pH(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:n,measuredBox:i}=e.layout,{animationType:r}=e.options,s=t.source!==e.layout.source;"size"===r?d1(e=>{let i=s?t.measuredBox[e]:t.layoutBox[e],r=dG(i);i.min=n[e].min,i.max=i.min+r}):mt(r,t.layoutBox,n)&&d1(i=>{let r=s?t.measuredBox[i]:t.layoutBox[i],o=dG(n[i]);r.max=r.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+o)});let o=cy();dQ(o,n,t.layoutBox);let a=cy();s?dQ(a,e.applyTransform(i,!0),t.measuredBox):dQ(a,n,t.layoutBox);let l=!pM(o),h=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:r,layout:s}=i;if(r&&s){let o=c_();d0(o,t.layoutBox,r.layoutBox);let a=c_();d0(a,n,s.layoutBox),pL(o,a)||(h=!0),i.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:h})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function pK(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pG(e){e.clearSnapshot()}function pX(e){e.clearMeasurements()}function pQ(e){e.isLayoutDirty=!1}function pZ(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pJ(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function p0(e){e.resolveTargetDelta()}function p1(e){e.calcProjection()}function p2(e){e.resetSkewAndRotation()}function p3(e){e.removeLeadSnapshot()}function p5(e,t,n){e.translate=lJ(t.translate,0,n),e.scale=lJ(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function p4(e,t,n,i){e.min=lJ(t.min,n.min,i),e.max=lJ(t.max,n.max,i)}function p6(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let p8={duration:.45,ease:[.4,0,.1,1]},p9=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),p7=p9("applewebkit/")&&!p9("chrome/")?Math.round:hC;function me(e){e.min=p7(e.min),e.max=p7(e.max)}function mt(e,t,n){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(pF(t)-pF(n)))}function mn(e){return e!==e.root&&e.scroll?.wasRoot}let mi=p$({attachResizeListener:(e,t)=>dU(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mr={current:void 0},ms=p$({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mr.current){let e=new mi({});e.mount(window),e.setOptions({layoutScroll:!0}),mr.current=e}return mr.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function mo(e,t){let n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document,n=(void 0)??t.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}(e),i=new AbortController;return[n,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function ma(e){return!("touch"===e.pointerType||d$.x||d$.y)}function ml(e,t,n){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);let r=i["onHover"+n];r&&hE.postRender(()=>r(t,dK(t)))}function mh(e){return pp(e)&&"offsetHeight"in e}let mc=(e,t)=>!!t&&(e===t||mc(e,t.parentElement)),mu=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),md=new WeakSet;function mp(e){return t=>{"Enter"===t.key&&e(t)}}function mm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function mf(e){return dH(e)&&!(d$.x||d$.y)}function mg(e,t,n){let{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);let r=i["onTap"+("End"===n?"":n)];r&&hE.postRender(()=>r(t,dK(t)))}let my=new WeakMap,mv=new WeakMap,m_=e=>{let t=my.get(e.target);t&&t(e)},mb=e=>{e.forEach(m_)},mx={some:0,all:1},mw=function(e,t){if("undefined"==typeof Proxy)return um;let n=new Map,i=(n,i)=>um(n,i,e,t);return new Proxy((e,t)=>i(e,t),{get:(r,s)=>"create"===s?i:(n.has(s)||n.set(s,um(s,void 0,e,t)),n.get(s))})}({animation:{Feature:class extends dB{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:n})=>(function(e,t,n={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t))i=Promise.all(t.map(t=>dD(e,t,n)));else if("string"==typeof t)i=dD(e,t,n);else{let r="function"==typeof t?uf(e,t,n.custom):t;i=Promise.all(dA(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})})(e,t,n))),n=dz(),i=!0,r=t=>(n,i)=>{let r=uf(e,i,"exit"===t?e.presenceContext?.custom:void 0);if(r){let{transition:e,transitionEnd:t,...i}=r;n={...n,...i,...t}}return n};function s(s){let{props:o}=e,a=function e(t){if(!t)return;if(!t.isControllingVariants){let n=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(n.initial=t.props.initial),n}let n={};for(let e=0;e<dL;e++){let i=cE[e],r=t.props[i];(cT(r)||!1===r)&&(n[i]=r)}return n}(e.parent)||{},l=[],h=new Set,c={},u=1/0;for(let t=0;t<dV;t++){var d,p;let m=dF[t],f=n[m],g=void 0!==o[m]?o[m]:a[m],y=cT(g),v=m===s?f.isActive:null;!1===v&&(u=t);let _=g===a[m]&&g!==o[m]&&y;if(_&&i&&e.manuallyAnimateOnMount&&(_=!1),f.protectedKeys={...c},!f.isActive&&null===v||!g&&!f.prevProp||ck(g)||"boolean"==typeof g)continue;let b=(d=f.prevProp,"string"==typeof(p=g)?p!==d:!!Array.isArray(p)&&!dO(p,d)),x=b||m===s&&f.isActive&&!_&&y||t>u&&y,w=!1,C=Array.isArray(g)?g:[g],k=C.reduce(r(m),{});!1===v&&(k={});let{prevResolvedValues:T={}}=f,S={...T,...k},E=t=>{x=!0,h.has(t)&&(w=!0,h.delete(t)),f.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in S){let t=k[e],n=T[e];if(!c.hasOwnProperty(e))(uy(t)&&uy(n)?dO(t,n):t===n)?void 0!==t&&h.has(e)?E(e):f.protectedKeys[e]=!0:null!=t?E(e):h.add(e)}f.prevProp=g,f.prevResolvedValues=k,f.isActive&&(c={...c,...k}),i&&e.blockInitialAnimation&&(x=!1);let N=_&&b,I=!N||w;x&&I&&l.push(...C.map(t=>{let n={type:m};if("string"==typeof t&&i&&!N&&e.manuallyAnimateOnMount&&e.parent){let{parent:i}=e,r=uf(i,t);if(i.enteringChildren&&r){let{delayChildren:t}=r.transition||{};n.delay=dM(i.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(h.size){let t={};if("boolean"!=typeof o.initial){let n=uf(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}h.forEach(n=>{let i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=i??null}),l.push({animation:t})}let m=!!l.length;return i&&(!1===o.initial||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(m=!1),i=!1,m?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,i){if(n[t].isActive===i)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,i)),n[t].isActive=i;let r=s(t);for(let e in n)n[e].protectedKeys={};return r},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=dz()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();ck(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends dB{constructor(){super(...arguments),this.id=dW++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends dB{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:n={}}=this.node.getProps(),{root:i,margin:r,amount:s="some",once:o}=n,a={root:i?i.current:void 0,rootMargin:r,threshold:"number"==typeof s?s:mx[s]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,o&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),r=t?n:i;r&&r(e)};return e=this.node.current,t=function({root:e,...t}){let n=e||document;mv.has(n)||mv.set(n,{});let i=mv.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(mb,{root:e,...t})),i[r]}(a),my.set(e,l),t.observe(e),()=>{my.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends dB{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){let[i,r,s]=mo(e,n),o=e=>{let i=e.currentTarget;if(!mf(e))return;md.add(i);let s=t(i,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),md.has(i)&&md.delete(i),mf(e)&&"function"==typeof s&&s(e,{success:t})},a=e=>{o(e,i===window||i===document||n.useGlobalTarget||mc(i,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,r),window.addEventListener("pointercancel",l,r)};return i.forEach(e=>{((n.useGlobalTarget?window:e).addEventListener("pointerdown",o,r),mh(e))&&(e.addEventListener("focus",e=>((e,t)=>{let n=e.currentTarget;if(!n)return;let i=mp(()=>{if(md.has(n))return;mm(n,"down");let e=mp(()=>{mm(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>mm(n,"cancel"),t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)})(e,r)),mu.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}(e,(e,t)=>(mg(this.node,t,"Start"),(e,{success:t})=>mg(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends dB{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ux(dU(this.node.current,"focus",()=>this.onFocus()),dU(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends dB{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){let[i,r,s]=mo(e,n),o=e=>{if(!ma(e))return;let{target:n}=e,i=t(n,e);if("function"!=typeof i||!n)return;let s=e=>{ma(e)&&(i(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,r)};return i.forEach(e=>{e.addEventListener("pointerenter",o,r)}),s}(e,(e,t)=>(ml(this.node,t,"Start"),e=>ml(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends dB{constructor(){super(...arguments),this.removePointerDownListener=hC}onPointerDown(e){this.session=new d5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d2(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:po(e),onStart:po(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&hE.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=dY(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends dB{constructor(e){super(e),this.removeGroupControls=hC,this.removeListeners=hC,this.controls=new pr(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hC}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ms,MeasureLayout:pd},layout:{ProjectionNode:ms,MeasureLayout:pd}},(e,t)=>c1(e)?new cJ(t):new cU(t,{allowProjection:e!==B.Fragment}));var mC=B;function mk(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class mT extends mC.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=mh(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mS({children:e,isPresent:t,anchorX:n,root:i}){let r=(0,mC.useId)(),s=(0,mC.useRef)(null),o=(0,mC.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=(0,mC.useContext)(c5),l=function(...e){return B.useCallback(function(...e){return t=>{let n=!1,i=e.map(e=>{let i=mk(e,t);return n||"function"!=typeof i||(n=!0),i});if(n)return()=>{for(let t=0;t<i.length;t++){let n=i[t];"function"==typeof n?n():mk(e[t],null)}}}}(...e),e)}(s,e?.ref);return(0,mC.useInsertionEffect)(()=>{let{width:e,height:l,top:h,left:c,right:u}=o.current;if(t||!s.current||!e||!l)return;let d="left"===n?`left: ${c}`:`right: ${u}`;s.current.dataset.motionPopId=r;let p=document.createElement("style");a&&(p.nonce=a);let m=i??document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${l}px !important;
            ${d}px !important;
            top: ${h}px !important;
          }
        `),()=>{m.contains(p)&&m.removeChild(p)}},[t]),(0,z.jsx)(mT,{isPresent:t,childRef:s,sizeRef:o,children:mC.cloneElement(e,{ref:l})})}let mE=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{let h=ur(mN),c=(0,B.useId)(),u=!0,d=(0,B.useMemo)(()=>(u=!1,{id:c,initial:t,isPresent:n,custom:r,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;i&&i()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[n,h,i]);return s&&u&&(d={...d}),(0,B.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[n]),B.useEffect(()=>{n||h.size||!i||i()},[n]),"popLayout"===o&&(e=(0,z.jsx)(mS,{isPresent:n,anchorX:a,root:l,children:e})),(0,z.jsx)(ui.Provider,{value:d,children:e})};function mN(){return new Map}let mI=e=>e.key||"";function mP(e){let t=[];return B.Children.forEach(e,e=>{(0,B.isValidElement)(e)&&t.push(e)}),t}let mj=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{let[h,c]=pl(o),u=(0,B.useMemo)(()=>mP(e),[e]),d=o&&!h?[]:u.map(mI),p=(0,B.useRef)(!0),m=(0,B.useRef)(u),f=ur(()=>new Map),[g,y]=(0,B.useState)(u),[v,_]=(0,B.useState)(u);up(()=>{p.current=!1,m.current=u;for(let e=0;e<v.length;e++){let t=mI(v[e]);d.includes(t)?f.delete(t):!0!==f.get(t)&&f.set(t,!1)}},[v,d.length,d.join("-")]);let b=[];if(u!==g){let e=[...u];for(let t=0;t<v.length;t++){let n=v[t],i=mI(n);d.includes(i)||(e.splice(t,0,n),b.push(n))}return"wait"===s&&b.length&&(e=b),_(mP(e)),y(u),null}let{forceRender:x}=(0,B.useContext)(c2);return(0,z.jsx)(z.Fragment,{children:v.map(e=>{let g=mI(e),y=(!o||!!h)&&(u===v||d.includes(g));return(0,z.jsx)(mE,{isPresent:y,initial:(!p.current||!!n)&&void 0,custom:t,presenceAffectsLayout:r,mode:s,root:l,onExitComplete:y?void 0:()=>{if(!f.has(g))return;f.set(g,!0);let e=!0;f.forEach(t=>{t||(e=!1)}),e&&(x?.(),_(m.current),o&&c?.(),i&&i())},anchorX:a,children:e},g)})})};function mR({players:e,currentPlayerId:t}){let n=[...e].sort((e,t)=>t.score-e.score),i=null,r=0,s=n.map((e,t)=>{let n=e.score===i?r:t+1;return i=e.score,r=n,{...e,rank:n}});return(0,z.jsxs)(tg,{className:"border-2 border-primary/20 shadow-xl",children:[(0,z.jsx)(ty,{children:(0,z.jsx)(tv,{children:"Bng xp hng"})}),(0,z.jsx)(tb,{className:"space-y-2 max-h-96 overflow-y-auto",children:(0,z.jsx)(mj,{children:s.map(e=>{let n=e.id===t;return(0,z.jsxs)(mw.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:e6("flex justify-between items-center px-4 py-3 rounded-lg transition-all duration-200",1===e.rank&&"bg-yellow-500/20 border-2 border-yellow-500",2===e.rank&&"bg-gray-400/20 border-2 border-gray-400",3===e.rank&&"bg-orange-600/20 border-2 border-orange-600",e.rank>3&&"bg-muted/50",n&&"ring-2 ring-primary ring-offset-2"),children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("span",{className:"text-xl font-bold",children:1===e.rank?"":2===e.rank?"":3===e.rank?"":`#${e.rank}`}),(0,z.jsx)("span",{className:e6("font-medium",n&&"text-primary font-bold"),children:e.name})]}),(0,z.jsxs)("span",{className:"text-lg font-bold",children:[e.score," im"]})]},e.id||e.name)})})})]})}function mA(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),!1===n||!i.defaultPrevented)return t?.(i)}}var mM=globalThis?.document?B.useLayoutEffect:()=>{},mD=B["useId".toString()]||(()=>void 0),mO=0;function mL(e){let[t,n]=B.useState(mD());return mM(()=>{e||n(e=>e??String(mO++))},[e]),e||(t?`radix-${t}`:"")}function mF(e){let t=B.useRef(e);return B.useEffect(()=>{t.current=e}),B.useMemo(()=>(...e)=>t.current?.(...e),[])}var mV=e.i(49463),mq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=B.forwardRef((e,n)=>{let{asChild:i,...r}=e,s=i?tl:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,z.jsx)(s,{...r,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),mz="dismissableLayer.update",mB=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mW=B.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,h=B.useContext(mB),[c,u]=B.useState(null),d=c?.ownerDocument??globalThis?.document,[,p]=B.useState({}),m=ta(t,e=>u(e)),f=Array.from(h.layers),[g]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),y=f.indexOf(g),v=c?f.indexOf(c):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,b=v>=y,x=function(e,t=globalThis?.document){let n=mF(e),i=B.useRef(!1),r=B.useRef(()=>{});return B.useEffect(()=>{let e=e=>{if(e.target&&!i.current){let i=function(){mU("dismissableLayer.pointerDownOutside",n,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",r.current),r.current=i,t.addEventListener("click",r.current,{once:!0})):i()}else t.removeEventListener("click",r.current);i.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}(e=>{let t=e.target,n=[...h.branches].some(e=>e.contains(t));b&&!n&&(r?.(e),o?.(e),e.defaultPrevented||a?.())},d),w=function(e,t=globalThis?.document){let n=mF(e),i=B.useRef(!1);return B.useEffect(()=>{let e=e=>{e.target&&!i.current&&mU("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{let t=e.target;![...h.branches].some(e=>e.contains(t))&&(s?.(e),o?.(e),e.defaultPrevented||a?.())},d);return!function(e,t=globalThis?.document){let n=mF(e);B.useEffect(()=>{let e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{v===h.layers.size-1&&(i?.(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))},d),B.useEffect(()=>{if(c)return n&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(V=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(c)),h.layers.add(c),m$(),()=>{n&&1===h.layersWithOutsidePointerEventsDisabled.size&&(d.body.style.pointerEvents=V)}},[c,d,n,h]),B.useEffect(()=>()=>{c&&(h.layers.delete(c),h.layersWithOutsidePointerEventsDisabled.delete(c),m$())},[c,h]),B.useEffect(()=>{let e=()=>p({});return document.addEventListener(mz,e),()=>document.removeEventListener(mz,e)},[]),(0,z.jsx)(mq.div,{...l,ref:m,style:{pointerEvents:_?b?"auto":"none":void 0,...e.style},onFocusCapture:mA(e.onFocusCapture,w.onFocusCapture),onBlurCapture:mA(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:mA(e.onPointerDownCapture,x.onPointerDownCapture)})});function m$(){let e=new CustomEvent(mz);document.dispatchEvent(e)}function mU(e,t,n,{discrete:i}){let r=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});if(t&&r.addEventListener(e,t,{once:!0}),i)r&&mV.flushSync(()=>r.dispatchEvent(s));else r.dispatchEvent(s)}mW.displayName="DismissableLayer",B.forwardRef((e,t)=>{let n=B.useContext(mB),i=B.useRef(null),r=ta(t,i);return B.useEffect(()=>{let e=i.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,z.jsx)(mq.div,{...e,ref:r})}).displayName="DismissableLayerBranch";var mH="focusScope.autoFocusOnMount",mK="focusScope.autoFocusOnUnmount",mY={bubbles:!1,cancelable:!0},mG=B.forwardRef((e,t)=>{let{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=e,[a,l]=B.useState(null),h=mF(r),c=mF(s),u=B.useRef(null),d=ta(t,e=>l(e)),p=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(i){let e=function(e){if(p.paused||!a)return;let t=e.target;a.contains(t)?u.current=t:mZ(u.current,{select:!0})},t=function(e){if(p.paused||!a)return;let t=e.relatedTarget;null!==t&&(a.contains(t)||mZ(u.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&mZ(a)});return a&&n.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[i,a,p.paused]),B.useEffect(()=>{if(a){mJ.add(p);let e=document.activeElement;if(!a.contains(e)){let t=new CustomEvent(mH,mY);a.addEventListener(mH,h),a.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let i of e)if(mZ(i,{select:t}),document.activeElement!==n)return}(mX(a).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&mZ(a))}return()=>{a.removeEventListener(mH,h),setTimeout(()=>{let t=new CustomEvent(mK,mY);a.addEventListener(mK,c),a.dispatchEvent(t),t.defaultPrevented||mZ(e??document.body,{select:!0}),a.removeEventListener(mK,c),mJ.remove(p)},0)}}},[a,h,c,p]);let m=B.useCallback(e=>{if(!n&&!i||p.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){var s;let t,i=e.currentTarget,[o,a]=[mQ(t=mX(s=i),s),mQ(t.reverse(),s)];o&&a?e.shiftKey||r!==a?e.shiftKey&&r===o&&(e.preventDefault(),n&&mZ(a,{select:!0})):(e.preventDefault(),n&&mZ(o,{select:!0})):r===i&&e.preventDefault()}},[n,i,p.paused]);return(0,z.jsx)(mq.div,{tabIndex:-1,...o,ref:d,onKeyDown:m})});function mX(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function mQ(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function mZ(e,{select:t=!1}={}){if(e&&e.focus){var n;let i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}mG.displayName="FocusScope";var mJ=(S=[],{add(e){let t=S[0];e!==t&&t?.pause(),(S=m0(S,e)).unshift(e)},remove(e){S=m0(S,e),S[0]?.resume()}});function m0(e,t){let n=[...e],i=n.indexOf(t);return -1!==i&&n.splice(i,1),n}var m1=B.forwardRef((e,t)=>{let{container:n,...i}=e,[r,s]=B.useState(!1);mM(()=>s(!0),[]);let o=n||r&&globalThis?.document?.body;return o?mV.default.createPortal((0,z.jsx)(mq.div,{...i,ref:t}),o):null});m1.displayName="Portal";var m2=e=>{var t;let n,i,{present:r,children:s}=e,o=function(e){var t,n;let[i,r]=B.useState(),s=B.useRef({}),o=B.useRef(e),a=B.useRef("none"),[l,h]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},B.useReducer((e,t)=>n[e][t]??e,t));return B.useEffect(()=>{let e=m3(s.current);a.current="mounted"===l?e:"none"},[l]),mM(()=>{let t=s.current,n=o.current;if(n!==e){let i=a.current,r=m3(t);e?h("MOUNT"):"none"===r||t?.display==="none"?h("UNMOUNT"):n&&i!==r?h("ANIMATION_OUT"):h("UNMOUNT"),o.current=e}},[e,h]),mM(()=>{if(i){let e,t=i.ownerDocument.defaultView??window,n=n=>{let r=m3(s.current).includes(n.animationName);if(n.target===i&&r&&(h("ANIMATION_END"),!o.current)){let n=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=n)})}},r=e=>{e.target===i&&(a.current=m3(s.current))};return i.addEventListener("animationstart",r),i.addEventListener("animationcancel",n),i.addEventListener("animationend",n),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",r),i.removeEventListener("animationcancel",n),i.removeEventListener("animationend",n)}}h("ANIMATION_END")},[i,h]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:B.useCallback(e=>{e&&(s.current=getComputedStyle(e)),r(e)},[])}}(r),a="function"==typeof s?s({present:o.isPresent}):B.Children.only(s),l=ta(o.ref,(t=a,(i=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(i=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof s||o.isPresent?B.cloneElement(a,{ref:l}):null};function m3(e){return e?.animationName||"none"}m2.displayName="Presence";var m5=0;function m4(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var m6=function(){return(m6=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function m8(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}var m9=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),m7="width-before-scroll-bar";function fe(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var ft="undefined"!=typeof window?B.useLayoutEffect:B.useEffect,fn=new WeakMap,fi=(void 0===P&&(P={}),(void 0===j&&(j=function(e){return e}),R=[],A=!1,M={read:function(){if(A)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return R.length?R[R.length-1]:null},useMedium:function(e){var t=j(e,A);return R.push(t),function(){R=R.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(A=!0;R.length;){var t=R;R=[],t.forEach(e)}R={push:function(t){return e(t)},filter:function(){return R}}},assignMedium:function(e){A=!0;var t=[];if(R.length){var n=R;R=[],n.forEach(e),t=R}var i=function(){var n=t;t=[],n.forEach(e)},r=function(){return Promise.resolve().then(i)};r(),R={push:function(e){t.push(e),r()},filter:function(e){return t=t.filter(e),R}}}}).options=m6({async:!0,ssr:!1},P),M),fr=function(){},fs=B.forwardRef(function(e,t){var n,i,r,s,o=B.useRef(null),a=B.useState({onScrollCapture:fr,onWheelCapture:fr,onTouchMoveCapture:fr}),l=a[0],h=a[1],c=e.forwardProps,u=e.children,d=e.className,p=e.removeScrollBar,m=e.enabled,f=e.shards,g=e.sideCar,y=e.noRelative,v=e.noIsolation,_=e.inert,b=e.allowPinchZoom,x=e.as,w=e.gapMode,C=m8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=(n=[o,t],i=function(e){return n.forEach(function(t){return fe(t,e)})},(r=(0,B.useState)(function(){return{value:null,callback:i,facade:{get current(){return r.value},set current(value){var e=r.value;e!==value&&(r.value=value,r.callback(value,e))}}}})[0]).callback=i,s=r.facade,ft(function(){var e=fn.get(s);if(e){var t=new Set(e),i=new Set(n),r=s.current;t.forEach(function(e){i.has(e)||fe(e,null)}),i.forEach(function(e){t.has(e)||fe(e,r)})}fn.set(s,n)},[n]),s),T=m6(m6({},C),l);return B.createElement(B.Fragment,null,m&&B.createElement(g,{sideCar:fi,removeScrollBar:p,shards:f,noRelative:y,noIsolation:v,inert:_,setCallbacks:h,allowPinchZoom:!!b,lockRef:o,gapMode:w}),c?B.cloneElement(B.Children.only(u),m6(m6({},T),{ref:k})):B.createElement(void 0===x?"div":x,m6({},T,{className:d,ref:k}),u))});fs.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},fs.classNames={fullWidth:m7,zeroRight:m9};var fo=function(e){var t=e.sideCar,n=m8(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw Error("Sidecar medium not found");return B.createElement(i,m6({},n))};fo.isSideCarExport=!0;var fa=function(){var e=0,t=null;return{add:function(n){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=q||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var i,r;(i=t).styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n)),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fl=function(){var e=fa();return function(t,n){B.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},fh=function(){var e=fl();return function(t){return e(t.styles,t.dynamic),null}},fc={left:0,top:0,right:0,gap:0},fu=function(e){return parseInt(e||"",10)||0},fd=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],i=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[fu(n),fu(i),fu(r)]},fp=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return fc;var t=fd(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},fm=fh(),ff="data-scroll-locked",fg=function(e,t,n,i){var r=e.left,s=e.top,o=e.right,a=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(i,";\n   padding-right: ").concat(a,"px ").concat(i,";\n  }\n  body[").concat(ff,"] {\n    overflow: hidden ").concat(i,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(i,";"),"margin"===n&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(i,";\n    "),"padding"===n&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(m9," {\n    right: ").concat(a,"px ").concat(i,";\n  }\n  \n  .").concat(m7," {\n    margin-right: ").concat(a,"px ").concat(i,";\n  }\n  \n  .").concat(m9," .").concat(m9," {\n    right: 0 ").concat(i,";\n  }\n  \n  .").concat(m7," .").concat(m7," {\n    margin-right: 0 ").concat(i,";\n  }\n  \n  body[").concat(ff,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},fy=function(){var e=parseInt(document.body.getAttribute(ff)||"0",10);return isFinite(e)?e:0},fv=function(){B.useEffect(function(){return document.body.setAttribute(ff,(fy()+1).toString()),function(){var e=fy()-1;e<=0?document.body.removeAttribute(ff):document.body.setAttribute(ff,e.toString())}},[])},f_=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,r=void 0===i?"margin":i;fv();var s=B.useMemo(function(){return fp(r)},[r]);return B.createElement(fm,{styles:fg(s,!t,r,n?"":"!important")})},fb=!1;if("undefined"!=typeof window)try{var fx=Object.defineProperty({},"passive",{get:function(){return fb=!0,!0}});window.addEventListener("test",fx,fx),window.removeEventListener("test",fx,fx)}catch(e){fb=!1}var fw=!!fb&&{passive:!1},fC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&(n.overflowY!==n.overflowX||"TEXTAREA"===e.tagName||"visible"!==n[t])},fk=function(e,t){var n=t.ownerDocument,i=t;do{if("undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot&&(i=i.host),fT(e,i)){var r=fS(e,i);if(r[1]>r[2])return!0}i=i.parentNode}while(i&&i!==n.body)return!1},fT=function(e,t){return"v"===e?fC(t,"overflowY"):fC(t,"overflowX")},fS=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},fE=function(e,t,n,i,r){var s,o=(s=window.getComputedStyle(t).direction,"h"===e&&"rtl"===s?-1:1),a=o*i,l=n.target,h=t.contains(l),c=!1,u=a>0,d=0,p=0;do{if(!l)break;var m=fS(e,l),f=m[0],g=m[1]-m[2]-o*f;(f||g)&&fT(e,l)&&(d+=g,p+=f);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!h&&l!==document.body||h&&(t.contains(l)||t===l))return u&&(r&&1>Math.abs(d)||!r&&a>d)?c=!0:!u&&(r&&1>Math.abs(p)||!r&&-a>p)&&(c=!0),c},fN=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fI=function(e){return[e.deltaX,e.deltaY]},fP=function(e){return e&&"current"in e?e.current:e},fj=0,fR=[];let fA=(D=function(e){var t=B.useRef([]),n=B.useRef([0,0]),i=B.useRef(),r=B.useState(fj++)[0],s=B.useState(fh)[0],o=B.useRef(e);B.useEffect(function(){o.current=e},[e]),B.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var t=(function(e,t,n){if(n||2==arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(fP),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var a=B.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var r,s=fN(e),a=n.current,l="deltaX"in e?e.deltaX:a[0]-s[0],h="deltaY"in e?e.deltaY:a[1]-s[1],c=e.target,u=Math.abs(l)>Math.abs(h)?"h":"v";if("touches"in e&&"h"===u&&"range"===c.type)return!1;var d=window.getSelection(),p=d&&d.anchorNode;if(p&&(p===c||p.contains(c)))return!1;var m=fk(u,c);if(!m)return!0;if(m?r=u:(r="v"===u?"h":"v",m=fk(u,c)),!m)return!1;if(!i.current&&"changedTouches"in e&&(l||h)&&(i.current=r),!r)return!0;var f=i.current||r;return fE(f,t,e,"h"===f?l:h,!0)},[]),l=B.useCallback(function(e){if(fR.length&&fR[fR.length-1]===s){var n="deltaY"in e?fI(e):fN(e),i=t.current.filter(function(t){var i;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(i=t.delta,i[0]===n[0]&&i[1]===n[1])})[0];if(i&&i.should){e.cancelable&&e.preventDefault();return}if(!i){var r=(o.current.shards||[]).map(fP).filter(Boolean).filter(function(t){return t.contains(e.target)});(r.length>0?a(e,r[0]):!o.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),h=B.useCallback(function(e,n,i,r){var s={name:e,delta:n,target:i,should:r,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(i)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),c=B.useCallback(function(e){n.current=fN(e),i.current=void 0},[]),u=B.useCallback(function(t){h(t.type,fI(t),t.target,a(t,e.lockRef.current))},[]),d=B.useCallback(function(t){h(t.type,fN(t),t.target,a(t,e.lockRef.current))},[]);B.useEffect(function(){return fR.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:d}),document.addEventListener("wheel",l,fw),document.addEventListener("touchmove",l,fw),document.addEventListener("touchstart",c,fw),function(){fR=fR.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,fw),document.removeEventListener("touchmove",l,fw),document.removeEventListener("touchstart",c,fw)}},[]);var p=e.removeScrollBar,m=e.inert;return B.createElement(B.Fragment,null,m?B.createElement(s,{styles:"\n  .block-interactivity-".concat(r," {pointer-events: none;}\n  .allow-interactivity-").concat(r," {pointer-events: all;}\n")}):null,p?B.createElement(f_,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},fi.useMedium(D),fo);var fM=B.forwardRef(function(e,t){return B.createElement(fs,m6({},e,{ref:t,sideCar:fA}))});fM.classNames=fs.classNames;var fD=new WeakMap,fO=new WeakMap,fL={},fF=0,fV=function(e){return e&&(e.host||fV(e.parentNode))},fq=function(e,t,n,i){var r=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var n=fV(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});fL[n]||(fL[n]=new WeakMap);var s=fL[n],o=[],a=new Set,l=new Set(r),h=function(e){!e||a.has(e)||(a.add(e),h(e.parentNode))};r.forEach(h);var c=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(a.has(e))c(e);else try{var t=e.getAttribute(i),r=null!==t&&"false"!==t,l=(fD.get(e)||0)+1,h=(s.get(e)||0)+1;fD.set(e,l),s.set(e,h),o.push(e),1===l&&r&&fO.set(e,!0),1===h&&e.setAttribute(n,"true"),r||e.setAttribute(i,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return c(t),a.clear(),fF++,function(){o.forEach(function(e){var t=fD.get(e)-1,r=s.get(e)-1;fD.set(e,t),s.set(e,r),t||(fO.has(e)||e.removeAttribute(i),fO.delete(e)),r||e.removeAttribute(n)}),--fF||(fD=new WeakMap,fD=new WeakMap,fO=new WeakMap,fL={})}},fz=function(e,t,n){void 0===n&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),r=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),fq(i,r,n,"aria-hidden")):function(){return null}},fB="Dialog",[fW,f$]=function(e,t=[]){let n=[],i=()=>{let t=n.map(e=>B.createContext(e));return function(n){let i=n?.[e]||t;return B.useMemo(()=>({[`__scope${e}`]:{...n,[e]:i}}),[n,i])}};return i.scopeName=e,[function(t,i){let r=B.createContext(i),s=n.length;n=[...n,i];let o=t=>{let{scope:n,children:i,...o}=t,a=n?.[e]?.[s]||r,l=B.useMemo(()=>o,Object.values(o));return(0,z.jsx)(a.Provider,{value:l,children:i})};return o.displayName=t+"Provider",[o,function(n,o){let a=o?.[e]?.[s]||r,l=B.useContext(a);if(l)return l;if(void 0!==i)return i;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=n.reduce((t,{useScope:n,scopeName:i})=>{let r=n(e)[`__scope${i}`];return{...t,...r}},{});return B.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}(i,...t)]}(fB),[fU,fH]=fW(fB),fK=e=>{let{__scopeDialog:t,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:o=!0}=e,a=B.useRef(null),l=B.useRef(null),[h=!1,c]=function({prop:e,defaultProp:t,onChange:n=()=>{}}){let[i,r]=function({defaultProp:e,onChange:t}){let n=B.useState(e),[i]=n,r=B.useRef(i),s=mF(t);return B.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),n}({defaultProp:t,onChange:n}),s=void 0!==e,o=s?e:i,a=mF(n);return[o,B.useCallback(t=>{if(s){let n="function"==typeof t?t(e):t;n!==e&&a(n)}else r(t)},[s,e,r,a])]}({prop:i,defaultProp:r,onChange:s});return(0,z.jsx)(fU,{scope:t,triggerRef:a,contentRef:l,contentId:mL(),titleId:mL(),descriptionId:mL(),open:h,onOpenChange:c,onOpenToggle:B.useCallback(()=>c(e=>!e),[c]),modal:o,children:n})};fK.displayName=fB;var fY="DialogTrigger";B.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,r=fH(fY,n),s=ta(t,r.triggerRef);return(0,z.jsx)(mq.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":gi(r.open),...i,ref:s,onClick:mA(e.onClick,r.onOpenToggle)})}).displayName=fY;var fG="DialogPortal",[fX,fQ]=fW(fG,{forceMount:void 0}),fZ=e=>{let{__scopeDialog:t,forceMount:n,children:i,container:r}=e,s=fH(fG,t);return(0,z.jsx)(fX,{scope:t,forceMount:n,children:B.Children.map(i,e=>(0,z.jsx)(m2,{present:n||s.open,children:(0,z.jsx)(m1,{asChild:!0,container:r,children:e})}))})};fZ.displayName=fG;var fJ="DialogOverlay",f0=B.forwardRef((e,t)=>{let n=fQ(fJ,e.__scopeDialog),{forceMount:i=n.forceMount,...r}=e,s=fH(fJ,e.__scopeDialog);return s.modal?(0,z.jsx)(m2,{present:i||s.open,children:(0,z.jsx)(f1,{...r,ref:t})}):null});f0.displayName=fJ;var f1=B.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,r=fH(fJ,n);return(0,z.jsx)(fM,{as:tl,allowPinchZoom:!0,shards:[r.contentRef],children:(0,z.jsx)(mq.div,{"data-state":gi(r.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),f2="DialogContent",f3=B.forwardRef((e,t)=>{let n=fQ(f2,e.__scopeDialog),{forceMount:i=n.forceMount,...r}=e,s=fH(f2,e.__scopeDialog);return(0,z.jsx)(m2,{present:i||s.open,children:s.modal?(0,z.jsx)(f5,{...r,ref:t}):(0,z.jsx)(f4,{...r,ref:t})})});f3.displayName=f2;var f5=B.forwardRef((e,t)=>{let n=fH(f2,e.__scopeDialog),i=B.useRef(null),r=ta(t,n.contentRef,i);return B.useEffect(()=>{let e=i.current;if(e)return fz(e)},[]),(0,z.jsx)(f6,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mA(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:mA(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:mA(e.onFocusOutside,e=>e.preventDefault())})}),f4=B.forwardRef((e,t)=>{let n=fH(f2,e.__scopeDialog),i=B.useRef(!1),r=B.useRef(!1);return(0,z.jsx)(f6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||n.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(r.current=!0));let s=t.target;n.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})}),f6=B.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=e,a=fH(f2,n),l=B.useRef(null),h=ta(t,l);return B.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??m4()),document.body.insertAdjacentElement("beforeend",e[1]??m4()),m5++,()=>{1===m5&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),m5--}},[]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(mG,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:(0,z.jsx)(mW,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":gi(a.open),...o,ref:h,onDismiss:()=>a.onOpenChange(!1)})}),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ga,{titleId:a.titleId}),(0,z.jsx)(gl,{contentRef:l,descriptionId:a.descriptionId})]})]})}),f8="DialogTitle",f9=B.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,r=fH(f8,n);return(0,z.jsx)(mq.h2,{id:r.titleId,...i,ref:t})});f9.displayName=f8;var f7="DialogDescription",ge=B.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,r=fH(f7,n);return(0,z.jsx)(mq.p,{id:r.descriptionId,...i,ref:t})});ge.displayName=f7;var gt="DialogClose",gn=B.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,r=fH(gt,n);return(0,z.jsx)(mq.button,{type:"button",...i,ref:t,onClick:mA(e.onClick,()=>r.onOpenChange(!1))})});function gi(e){return e?"open":"closed"}gn.displayName=gt;var gr="DialogTitleWarning",[gs,go]=(O={contentName:f2,titleName:f8,docsSlug:"dialog"},w=B.createContext(O),(C=e=>{let{children:t,...n}=e,i=B.useMemo(()=>n,Object.values(n));return(0,z.jsx)(w.Provider,{value:i,children:t})}).displayName=gr+"Provider",[C,function(e){let t=B.useContext(w);if(t)return t;if(void 0!==O)return O;throw Error(`\`${e}\` must be used within \`${gr}\``)}]),ga=({titleId:e})=>{let t=go(gr),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return B.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},gl=({contentRef:e,descriptionId:t})=>{let n=go("DialogDescriptionWarning"),i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return B.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null};function gh({...e}){return(0,z.jsx)(fK,{"data-slot":"dialog",...e})}function gc({...e}){return(0,z.jsx)(fZ,{"data-slot":"dialog-portal",...e})}function gu({className:e,...t}){return(0,z.jsx)(f0,{"data-slot":"dialog-overlay",className:e6("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function gd({className:e,children:t,showCloseButton:n=!0,...i}){return(0,z.jsxs)(gc,{"data-slot":"dialog-portal",children:[(0,z.jsx)(gu,{}),(0,z.jsxs)(f3,{"data-slot":"dialog-content",className:e6("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...i,children:[t,n&&(0,z.jsxs)(gn,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,z.jsx)(lS,{}),(0,z.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function gp({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"dialog-header",className:e6("flex flex-col gap-2 text-center sm:text-left",e),...t})}function gm({className:e,...t}){return(0,z.jsx)(f9,{"data-slot":"dialog-title",className:e6("text-lg leading-none font-semibold",e),...t})}function gf({className:e,...t}){return(0,z.jsx)(ge,{"data-slot":"dialog-description",className:e6("text-muted-foreground text-sm",e),...t})}function gg(){let[e,t]=(0,B.useState)(""),[n,i]=(0,B.useState)(""),[r,s]=(0,B.useState)(!1),[o,a]=(0,B.useState)([]),[l,h]=(0,B.useState)(!1),[c,u]=(0,B.useState)(null),[d,p]=(0,B.useState)(!1),[m,f]=(0,B.useState)(!1),[g,y]=(0,B.useState)(!1);(0,B.useEffect)(()=>{"BO_MAY_LA_ADMIN"===localStorage.getItem("ADMIN_KEY")&&s(!0)},[]),(0,B.useEffect)(()=>{if(!e)return;let t=lC(e,e=>a(e)),n=lp(e,({status:e,gameStarted:t})=>{f("closed"===e),p(t),y("endGame"===e)});return()=>{t?.(),n?.()}},[e]);let v=async()=>{let{roomCode:e}=await lm();t(e),p(!1),f(!1),y(!1),lC(e,e=>a(e))},_=async()=>{e&&await lf(e)},b=async()=>{e&&(await ly(e),f(!0))},x=async()=>{e&&(await lu(e),p(!1),y(!0))},w=async()=>{if(!e||!n.trim())return;let t=await ld(e);t&&"closed"!==t.status?(u(await lg(e,n.trim())),lC(e,e=>a(e)),lp(e,({status:e,gameStarted:t})=>{f("closed"===e),p(t),y("endGame"===e)})):alert("Phng ny  b ng, khng th tham gia.")};return(0,z.jsxs)("div",{className:"mx-auto max-w-2xl space-y-8",children:[!r&&g&&(0,z.jsx)(gh,{open:g,onOpenChange:e=>{e||(t(""),i(""),u(null),a([]),p(!1),f(!1),y(!1))},children:(0,z.jsxs)(gd,{className:"max-w-md",children:[(0,z.jsxs)(gp,{children:[(0,z.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-yellow-500/10",children:(0,z.jsx)(tk,{className:"h-8 w-8 text-yellow-500"})}),(0,z.jsx)(gm,{className:"text-center text-2xl",children:"Tr chi  kt thc!"}),(0,z.jsx)(gf,{className:"text-center",children:"Cm n bn  tham gia. Di y l bng xp hng cui cng."})]}),(0,z.jsx)("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:(0,z.jsx)(mR,{players:o,currentPlayerId:c})})]})}),r?(0,z.jsxs)(z.Fragment,{children:[g&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("p",{className:"text-center text-xl font-bold text-yellow-600",children:"Tr chi  kt thc"}),(0,z.jsx)(mR,{players:o}),(0,z.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:(0,z.jsx)(tm,{onClick:v,children:"To phng mi"})})]}),d&&!g&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"flex justify-center gap-2",children:(0,z.jsx)(tm,{onClick:x,variant:"destructive",children:"Kt thc tr chi"})}),(0,z.jsxs)("p",{className:"mt-2 text-center text-lg font-semibold",children:["M phng: ",e]}),(0,z.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["S ngi tham gia: ",(0,z.jsx)("strong",{children:o.length})]}),(0,z.jsx)(mR,{players:o})]}),!d&&!g&&(0,z.jsxs)(tg,{className:"border-2 border-primary/20 shadow-xl",children:[(0,z.jsxs)(ty,{className:"text-center",children:[(0,z.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:(0,z.jsx)(tx,{className:"h-8 w-8 text-primary"})}),(0,z.jsx)(tv,{className:"text-2xl",children:"Giao din Admin"}),(0,z.jsx)(t_,{children:"To phng v theo di ngi chi tham gia"})]}),(0,z.jsxs)(tb,{className:"space-y-4 text-center",children:[(0,z.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,z.jsx)(tm,{onClick:v,children:"To phng mi"}),e&&!m&&(0,z.jsx)(tm,{onClick:_,children:"Bt u"}),e&&!m&&(0,z.jsx)(tm,{onClick:b,variant:"destructive",children:"ng phng"})]}),e&&(0,z.jsxs)("p",{className:"mt-2 text-lg font-semibold",children:["M phng: ",e]}),o.length>0&&(0,z.jsxs)("div",{className:"mt-4 space-y-2 border p-2 rounded",children:[(0,z.jsx)("p",{className:"font-medium mb-2",children:"Danh sch ngi tham gia:"}),(0,z.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map((e,t)=>(0,z.jsxs)("span",{className:"inline-flex items-center gap-1 bg-primary/20 dark:bg-primary/30 text-primary px-3 py-1 rounded-full text-sm font-medium",children:[e.name,d&&(0,z.jsxs)("span",{className:"ml-1 text-xs font-normal",children:["(",e.score," im)"]})]},t))})]}),m&&(0,z.jsx)("p",{className:"mt-2 text-red-600 font-semibold",children:"Phng  b ng"})]})]})]}):(0,z.jsxs)(z.Fragment,{children:[!c&&(0,z.jsxs)(tg,{className:"border-2 border-primary/20 shadow-xl",children:[(0,z.jsxs)(ty,{className:"text-center",children:[(0,z.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:(0,z.jsx)(tx,{className:"h-8 w-8 text-primary"})}),(0,z.jsx)(tv,{className:"text-2xl",children:"Tham gia tr chi"}),(0,z.jsx)(t_,{children:"Nhp m phng  tham gia cng bn b"})]}),(0,z.jsx)(tb,{className:"space-y-4",children:(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsx)(tf,{placeholder:"Tn ca bn",value:n,onChange:e=>i(e.target.value)}),(0,z.jsx)(tf,{placeholder:"Nhp m phng...",value:e,onChange:e=>t(e.target.value.toUpperCase()),className:"text-center text-lg font-semibold tracking-widest",maxLength:6}),(0,z.jsx)(tm,{onClick:w,children:"Tham gia"})]})})]}),c&&(0,z.jsx)(z.Fragment,{children:d&&!g?(0,z.jsx)(lM,{roomCode:e,playerId:c}):g?null:(0,z.jsxs)(tg,{className:"border-2 border-primary/20 shadow-xl",children:[(0,z.jsx)(ty,{children:(0,z.jsxs)(tv,{children:["Phng: ",e]})}),(0,z.jsxs)(tb,{className:"space-y-2 max-h-64 overflow-y-auto border p-2 rounded",children:[o.length>0&&(0,z.jsxs)("div",{className:"mt-4 space-y-2 border p-2 rounded",children:[(0,z.jsx)("p",{className:"font-medium mb-2",children:"Danh sch ngi tham gia:"}),(0,z.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map((e,t)=>(0,z.jsxs)("span",{className:"inline-flex items-center gap-1 bg-primary/20 dark:bg-primary/30 text-primary px-3 py-1 rounded-full text-sm font-medium",children:[e.name,d&&(0,z.jsxs)("span",{className:"ml-1 text-xs font-normal",children:["(",e.score," im)"]})]},t))})]}),(m||!d)&&(0,z.jsx)("p",{className:`mt-2 font-semibold ${m?"text-red-600":"text-sm text-muted-foreground"}`,children:m?"Phng  b ng":"Ch admin bt u..."})]})]})})]}),(0,z.jsxs)(tg,{children:[(0,z.jsx)(ty,{children:(0,z.jsxs)(tv,{className:"flex items-center gap-2",children:[(0,z.jsx)(tC,{className:"h-5 w-5 text-primary"}),"Lut chi"]})}),(0,z.jsxs)(tb,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"flex gap-3 rounded-lg bg-muted/50 p-4",children:[(0,z.jsx)(tw,{className:"h-5 w-5 shrink-0 text-primary"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"font-medium",children:"Thi gian"}),(0,z.jsx)("p",{className:"text-sm text-muted-foreground",children:"15 giy cho mi cu hi"}),(0,z.jsx)("p",{className:"text-sm text-muted-foreground",children:"D kin tr chi s din ra trong 8 pht, tr chi s kt thc khi admin ng phng"})]})]}),(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsx)(e7,{className:"h-5 w-5 shrink-0 text-emerald-500"}),(0,z.jsx)("p",{className:"text-sm",children:"Tr li cc cu hi v lch s Vit Nam t i hi VIII n nay"})]}),(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsx)(e7,{className:"h-5 w-5 shrink-0 text-emerald-500"}),(0,z.jsxs)("div",{className:"text-sm",children:["C ch bc bi:",(0,z.jsxs)("ul",{className:"list-disc ml-5",children:[(0,z.jsx)("li",{children:"Mi ln tr li ng, bn c im da trn thi gian tr li nhanh/chm."}),(0,z.jsxs)("li",{children:["Sau , bn c bc ",(0,z.jsx)("strong",{children:"2 l card"})," t b bi (c th b qua nu khng mun bc thm)."]}),(0,z.jsx)("li",{children:"Mi l card s nh hng trc tip n im s ca bn hoc i th (nhn im, cng/tr im, cp im, mt ton b)"}),(0,z.jsx)("li",{children:"Nu tr li sai, bn khng c im v c th chuyn sang cu hi tip theo."})]})]})]}),(0,z.jsx)(tm,{className:"mt-2",onClick:()=>h(!0),children:"Xem lut cc loi card"})]})]}),(0,z.jsx)(lI,{open:l,onClose:()=>h(!1)})]})}function gy(){let[e,t]=(0,B.useState)("home");return(0,z.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,z.jsx)(tr,{activeTab:e,setActiveTab:t}),(0,z.jsx)("main",{className:"container mx-auto px-2 py-8",children:"home"===e?(0,z.jsx)(ti,{}):(0,z.jsx)(gg,{})})]})}e.s(["default",()=>gy],31713)}]);